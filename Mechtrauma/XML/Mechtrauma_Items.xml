<?xml version="1.0" encoding="utf-8"?>
<Items>
   
  
 <!-- =============< ITEMS >=============  -->

<!-- COPPER PIPE: Horizontal resizevertical="true" --> 
<Item name="Copper Pipe Horizontal" identifier="copper_pipe_h" Tags="decorative" resizehorizontal="true"  cargocontaineridentifier="metalcrate" scale="0.5">
   <Sprite texture="%ModDir%/Images/copper_pipe_h.png" sourcerect="0,0,16,34" depth="0.845" />
</Item>

<Item name="" identifier="textdisplaylarge" category="Electrical" scale="0.5" Tags="mediumitem,logic" impactsoundtag="impact_metal_light" resizehorizontal="true" cargocontaineridentifier="metalcrate" isshootable="true" spritecolor="136,142,166,100">
    <sprite texture="Content/Items/Labels/labels.png" sourcerect="0,48,240,48" depth="0.65"/>
    <ItemLabel scrollable="true" padding="0,2,0,2" textcolor="1,1,1,255">
      <LightComponent range="0.0" lightcolor="255,255,255,0" IsOn="true" castshadows="false" alphablend="false">
        <sprite texture="Content/Items/Labels/labels.png" sourcerect="0,48,240,48"  depth="0.025" origin="0.5,0.5" alpha="1.0"/>
      </LightComponent>
    </ItemLabel>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <requireditem items="screwdriver" type="Equipped"/>
      <input name="set_text" displayname="connection.set_text" fallbackdisplayname="connection.setoutput"/>
      <input name="set_color" displayname="connection.setcolor" />
      <input name="set_text_color" displayname="connection.settextcolor" />
    </ConnectionPanel>
  </Item>

  <Item name="" identifier="textdisplay_short_tight" category="Electrical" scale="0.5" Tags="mediumitem,logic" impactsoundtag="impact_metal_light" cargocontaineridentifier="metalcrate" isshootable="true" spritecolor="136,142,166,100">
    <sprite texture="Content/Items/Labels/labels.png" sourcerect="0,0,60,20" depth="0.65"/>
    <ItemLabel scrollable="true" padding="0,0,0,0" textcolor="1,1,1,1">
      <LightComponent range="0.0" lightcolor="255,255,255,0" IsOn="true" castshadows="false" alphablend="false">
        <sprite texture="Content/Items/Labels/labels.png" sourcerect="0,0,60,20"  depth="0.025" origin="0.5,0.5" alpha="1.0"/>
      </LightComponent>
    </ItemLabel>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <requireditem items="screwdriver" type="Equipped"/>
      <input name="set_text" displayname="connection.set_text" fallbackdisplayname="connection.setoutput"/>
      <input name="set_color" displayname="connection.setcolor" />
      <input name="set_text_color" displayname="connection.settextcolor" />
    </ConnectionPanel>
  </Item>

  <Item name="" identifier="lcd" category="Decorative" scale="0.5" Tags="mediumitem" impactsoundtag="impact_metal_light" cargocontaineridentifier="metalcrate" isshootable="true" spritecolor="255,255,255,255">
    <sprite texture="%ModDir%/Images/lcd.png" sourcerect="0,0,500,290" depth="0.65"/>  
     <LightComponent range="0.0" lightcolor="255,255,255,0" IsOn="true" castshadows="false">
        <sprite texture="%ModDir%/Images/lcd.png" sourcerect="0,0,500,290" depth="0.64" alpha="1.0"/>
      </LightComponent>     
  </Item>

  <Item name="PeasantPrime Box" identifier="peasantprime" tags="crate" scale="0.5" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Deconstruct time="0.5"/>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="1024,0,128,108" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="1024,0,128,108" depth="0.54" origin="0.5,0.5" />
    <Body width="150" height="80" density="25" />
    <Holdable slots="RightHand+LeftHand" holdpos="0,-80" handle1="-30,14" handle2="30,14" aimable="false" msg="ItemMsgPickUpSelect" />
    <ItemContainer capacity="1" canbeselected="false" hideitems="true" keepopenwhenequipped="true" movableframe="true">
      <Containable items="smallitem,mediumitem" excludeditems="toolbelt,toolbox,bandolier,cargoscooter" />
    </ItemContainer>
  </Item>
  
 
 <!-- CARGO HATCH: --> 

<Item name="Cargo Hatch" identifier="cargo_hatch" allowedlinks="gap,hull,structure,item" linkable="true" tags="door" scale="0.5" health="500" damagedbyrepairtools="true" damagedbymonsters="true" damagedbyexplosions="true" explosiondamagemultiplier="0.1" ondamagedthreshold="10" allowrotatingineditor="false">
    <Upgrade gameversion="0.9.7.0" spritedepth="0.7"/>
    <Sprite texture="%ModDir%/Images/cargo_hatch.png" sourcerect="0,0,724,98" depth="0.7" origin="0.5,0.5" />
    <Door canbeselected="true" openingspeed="0.3" closingspeed="0.3" hasintegratedbuttons="true" togglecooldown="1" canbepicked="true" horizontal="true" pickkey="Action" msg="ItemMsgForceOpenCrowbar" PickingTime="10.0" shadowscale="1,0.8">
      <!-- <RequiredItem items="crowbar" type="Equipped" /> -->
      <Sprite texture="%ModDir%/Images/cargo_hatch.png" sourcerect="0,246,724,40" depth="0.05" origin="0.0,0.5" />
      <WeldedSprite texture="%ModDir%/Images/cargo_hatch.png" sourcerect="0,100,724,76" depth="0.0" origin="0.5,0.5" />
      <BrokenSprite texture="%ModDir%/Images/cargo_hatch.png" sourcerect="0,322,724,122" depth="0.509" origin="0.0,0.5" scale="true" />
      <sound file="Content/Items/Weapons/RailgunLoop.ogg" type="OnUse" range="500.0" />
      <sound file="Content/Items/Tools/Crowbar.ogg" type="OnPicked" range="4000.0" onlyinsamesub="true" />
      <sound file="Content/Items/Door/Duct1.ogg" type="OnFailure" selectionmode="Random" range="300" />
      <sound file="Content/Items/Door/Duct2.ogg" type="OnFailure" range="300" />
      <sound file="Content/Items/Door/DoorBreak1.ogg" type="OnBroken" selectionmode="Random" range="3000" />
      <sound file="Content/Items/Door/DoorBreak2.ogg" type="OnBroken" range="3000" />
      <StatusEffect type="OnDamaged" target="This">
        <sound file="Content/Items/Door/DoorBreak1.ogg" selectionmode="Random" range="800" />
        <sound file="Content/Items/Door/DoorBreak2.ogg" range="800" />
      </StatusEffect>
    </Door>
    <AiTarget sightrange="1500.0" static="True"/>
    <Repairable selectkey="Action" header="mechanicalrepairsheader" fixDurationHighSkill="10" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="40" />
      <RequiredItem items="wrench" type="equipped" />
    </Repairable>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="toggle" displayname="connection.togglestate" />
      <input name="set_state" displayname="connection.setstate" />
      <output name="state_out" displayname="connection.stateout" fallbackdisplayname="connection.signalout"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>
  </Item>

<!-- ENGINEER TOOLKIT: NEW AND IMPROVED! --> 
<Item name="Engineer Toolkit" identifier="engineer_toolkit" category="Equipment" tags="smallitem,mobilecontainer,tool" cargocontaineridentifier="metalcrate" showcontentsintooltip="true" Scale="0.5" fireproof="true" description="" impactsoundtag="impact_soft">
    <PreferredContainer primary="engcab"/>
    <PreferredContainer primary="wreckstoragecab,abandonedstoragecab" amount="1" spawnprobability="0.05"/>
    <PreferredContainer primary="outpostcrewcabinet" amount="1" spawnprobability="0.1"/>
    <Deconstruct time="10">
      <Item identifier="organicfiber" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="20">
      <Item identifier="organicfiber" amount="2" />
    </Fabricate>
    <Price baseprice="65">
      <Price storeidentifier="merchantoutpost" minavailable="4" />
      <Price storeidentifier="merchantcity" minavailable="6" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" minavailable="1" />
      <Price storeidentifier="merchantmilitary" multiplier="1.25" minavailable="1" />
      <Price storeidentifier="merchantmine" multiplier="1.25" minavailable="8" />
      <Price storeidentifier="merchantengineering" minavailable="4" multiplier="0.9"/>
    </Price>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="896,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="896,0,128,128" depth="0.6" />
    <Body width="100" height="45" density="20" />
    <Wearable slots="Bag" msg="ItemMsgEquipSelect" canbeselected="false" canbepicked="true" pickkey="Select">
      <sprite name="Toolkit" texture="%ModDir%/Images/mechtrauma.png" sourcerect="896,0,128,128" limb="Torso" inherittexturescale="true" origin="0.5,0.5" />
      <StatusEffect type="OnWearing" target="Character" HideFace="false" SpeedMultiplier="0.8" setvalue="true" disabledeltatime="true" />
    </Wearable>
    <Holdable slots="RightHand+LeftHand" holdpos="0,-70" handle1="-5,0" handle2="10,-20" holdangle="0" msg="ItemMsgPickUpUse" canbeselected="false" canbepicked="true" pickkey="Use" allowswappingwhenpicked="false" />
    <ItemContainer capacity="9" depth="0.5" >
      <Containable items="smallitem" excludeditems="toolbelt,toolbox,bandolier,mobilecontainer" />
    </ItemContainer>
    <Upgrade gameversion="0.10.0.0" scale="0.5" />
  </Item>

  
 <!-- SMALL EXTINGUISHER: NEW AND IMPROVED! -->   
<Item name="S5-Extinguisher" identifier="s5_extinguisher" category="Equipment" Tags="smallitem,extinguisher,provocative" cargocontaineridentifier="metalcrate" description="S5-Extinguisher" health="10" Scale="0.3" impactsoundtag="impact_metal_light" donttransferbetweensubs="true">
   <PreferredContainer primary="extinguisherholder" spawnprobability="1.0"/>
    <PreferredContainer secondary="engcab,reactorcab"/>
    <Price baseprice="25" displaynonempty="true">
      <Price storeidentifier="merchantoutpost" minavailable="3" />
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="4" />
      <Price storeidentifier="merchantresearch" minavailable="2" />
      <Price storeidentifier="merchantmilitary" minavailable="2" />
      <Price storeidentifier="merchantmine" minavailable="2" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_aluminium" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="10" amount="4" outcondition="0">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="aluminium" />      
    </Fabricate>
    <InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="0,0,64,64" origin="0.5,0.5" />
    <Sprite texture="Content/Items/Tools/tools.png" depth="0.55" sourcerect="161,105,64,128" origin="0.5,0.5" />
    <Body width="15" height="50" density="5" />
    <Holdable slots="Any,RightHand,LeftHand" controlpose="true" aimpos="40,-20" handle1="-6,10" handle2="-10,40" msg="ItemMsgPickUpSelect" />
    <RepairTool extinguishamount="60.0" range="500" barrelpos="21,25" repairthroughholes="true" hititems="false">
      <ParticleEmitter particle="extinguisher" velocitymin="1000.0" velocitymax="1650.0" particlespersecond="100" />
      <StatusEffect type="OnUse" targettype="This" Condition="-2.0" />
      <sound file="Content/Items/Tools/Extinguisher.ogg" type="OnUse" range="500.0" loop="true" />
    </RepairTool>
    <Propulsion force="-40" usablein="water" particles="bubbles" />
    <aitarget sightrange="1000" soundrange="1000" fadeouttime="1" />
  </Item>

  
 <!-- LARGE EXTINGUISHER: For use with turnout gear. -->   
<Item name="L100-Extinguisher" identifier="l100_extinguisher" category="Equipment" Tags="mediumitem,extinguisher,provocative" cargocontaineridentifier="metalcrate" description="L100-Extinguisher" health="120" Scale="0.5" impactsoundtag="impact_metal_light" donttransferbetweensubs="true">
   <PreferredContainer primary="extinguisherholder" spawnprobability="1.0"/>
    <PreferredContainer secondary="engcab,reactorcab"/>
    <Price baseprice="100" displaynonempty="true">
      <Price storeidentifier="merchantoutpost" minavailable="1" />
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="4" />
      <Price storeidentifier="merchantresearch" minavailable="2" />
      <Price storeidentifier="merchantmilitary" minavailable="2" />
      <Price storeidentifier="merchantmine" minavailable="2" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_aluminium" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" requiredtime="10" outcondition="0">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="aluminium" />     
    </Fabricate>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="128,128,48,128" origin="0.5,0.5" />
    <Body width="48" height="128" density="5" />
    <Holdable slots="RightHand+LeftHand" controlpose="true" aimpos="40,-20" handle1="-6,10" handle2="-10,40" msg="ItemMsgPickUpSelect" />
    <RepairTool extinguishamount="60.0" range="500" barrelpos="21,25" repairthroughholes="true" hititems="false">
      <ParticleEmitter particle="extinguisher" velocitymin="1000.0" velocitymax="1650.0" particlespersecond="100" />
      <StatusEffect type="OnUse" targettype="This" Condition="-2.0" />
      <sound file="Content/Items/Tools/Extinguisher.ogg" type="OnUse" range="500.0" loop="true" />
    </RepairTool>
    <Propulsion force="-40" usablein="water" particles="bubbles" />
    <aitarget sightrange="1000" soundrange="1000" fadeouttime="1" />
  </Item>

   <!-- WELDER: NEW AND IMPROVED! -->  
  <Item name="" identifier="mechweldingtool" aliases="welder" category="Equipment" Tags="smallitem,weldingtool,weldingequipment,tool,mountableweapon" cargocontaineridentifier="metalcrate" useinhealthinterface="true" description="" Scale="0.5" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="engcab" amount="1" spawnprobability="1" notcampaign="true"/>
    <PreferredContainer secondary="supplycab" amount="1" spawnprobability="0.2" notcampaign="true"/>
    <PreferredContainer primary="outpostsupplycab" amount="1" spawnprobability="0.5"/>
    <PreferredContainer primary="outpostcrewcabinet" amount="1" spawnprobability="0.1"/>
    <PreferredContainer primary="wrecksupplycab,beaconsupplycab" amount="1" spawnprobability="0.05"/>
    <PreferredContainer primary="wreckstoragecab,abandonedstoragecab" amount="1" spawnprobability="0.05"/>
    <PreferredContainer primary="wreckengcab,abandonedengcab,outpostengcab,beaconengcab" amount="1" spawnprobability="0.1"/>
    <Price baseprice="150">
      <Price storeidentifier="merchantoutpost" minavailable="3" />
      <Price storeidentifier="merchantcity" minavailable="2" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" minavailable="2" />
      <Price storeidentifier="merchantmilitary" multiplier="1.25" minavailable="2" />
      <Price storeidentifier="merchantmine" multiplier="0.9" minavailable="10" />
      <Price storeidentifier="merchantengineering" minavailable="5" multiplier="0.9"/>
    </Price>
    
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="640,192,104,56" depth="0.55" origin="0.5,0.5" />
    <!-- the item takes 10 seconds to break down in a deconstructor and turns into steel and plastic -->
    <Deconstruct time="10">
      <Item identifier="steel" />
      <Item identifier="plastic" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="20">
      <RequiredSkill identifier="mechanical" level="30" />
      <RequiredItem identifier="steel" amount="2" />
      <RequiredItem identifier="plastic" amount="2" />
    </Fabricate>
    <!-- physics body -->
    <Body width="150" height="60" density="40" />
    <!-- the character will hold the item 50 pixels in front of him, with his hands at the handle1 and handle2 positions -->     
    <Holdable slots="Any,RightHand+LeftHand" controlpose="true" aimpos="60,0" handle1="-62,-16" handle2="-10,-6" msg="ItemMsgPickUpSelect" />
        <Propulsion force="0" usablein="water" particles="bubbles">
          <RequiredItems items="mobilebattery" type="Contained" />
        </Propulsion>
    <RepairTool firedamage="10.0" fireprobability="0.1" structurefixamount="2.0" range="150" barrelpos="35,10" particles="weld" repairmultiple="true" repairthroughwalls="false" combatpriority="10" levelwallfixamount="-0.425" targetforce="10">
      
      <!-- CHECK: Am I underwater? Starting a fire underwater will crash the game, so we'll make that impossible when in water. -->
      <StatusEffect type="OnUse" targettype="This" fireprobability="0.0" setvalue="true" comparaison="And">
       <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
       <Conditional InWater="true" />
      </StatusEffect>

      <!-- RESET: Reset the fire damage when not underwater. -->
      <StatusEffect type="Always" targettype="This" fireprobability="0.1" setvalue="true" comparaison="And">
       <Conditional InWater="false" />
      </StatusEffect>

      <!-- CHECK: Is the tool ready to weld? Power source and gas.  -->
      <StatusEffect type="Always" targettype="This" structurefixamount="2.0" setvalue="true" duration="0.1" tags="toolready" comparaison="And">
        <RequiredItem items="weldingfueltank" targettype="This" type="Contained" mincondition="1.0" />
        <RequiredItem items="batterycell" targettype="This" type="Contained" mincondition="1.0" />
      </StatusEffect>
      <!-- RESET: If there is no welding gas, make the device ineffective -->
      <StatusEffect type="Always" targettype="This" structurefixamount="0.1" setvalue="true" comparaison="And">
        <Conditional HasStatusTag="neq toolready"/>
      </StatusEffect>        

      <RequiredItems items="mobilebattery,batterycell" type="Contained" msg="Power Source Required" />
      <ParticleEmitter particle="weld" particlespersecond="50" copyentityangle="true"/>
      <ParticleEmitterHitStructure particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitStructure particle="GlowDot" particlespersecond="60" emitinterval="0.7" particleamount="10" scalemin="0.9" scalemax="1.0" anglemin="0" anglemax="360" velocitymin="10" velocitymax="50" />
      <ParticleEmitterHitStructure particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="0" velocitymax="50" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
      <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="10" velocitymax="100" />
      <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
      <sound file="Content/Items/Tools/WeldingLoop.ogg" type="OnUse" range="500.0" loop="true" />
      <!-- when using, the contained batterly will lose charge detoriate (= lose fuel) -->
      <StatusEffect type="OnUse" targettype="Contained" targets="batterycell" Condition="-1.5" />
      <!-- when using, the contained welding fuel tank will detoriate (= lose fuel) -->
      <StatusEffect type="OnUse" targettype="Contained" targets="weldingfueltank" Condition="-1.0" />
      <StatusEffect type="OnUse" targettype="Contained" targets="incendiumfueltank" Condition="-0.6" />
      <!-- welding a door, it will get stuck after a while -->
      <StatusEffect type="OnUse" targettype="UseTarget" targets="door,ductblock" Stuck="5.0" Condition="3.0" />
      <!-- do burn damage to characters -->
      <StatusEffect type="OnUse" targettype="Limb">
        <Affliction identifier="burn" amount="1.0" />
      </StatusEffect>
      <StatusEffect type="OnUse" targettype="UseTarget" Condition="-3.0" />
		
	  <!-- Oxygen causes violence -->
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
        <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="5000" />
        <sound file="Content/Items/Weapons/ExplosionDebris1.ogg" range="5000" />
        <Explosion range="250.0" structuredamage="50" force="3.0" ignorefireeffectsfortags="oxygensource,weldingtoolfuel">
          <Affliction identifier="burn" strength="50" />
          <Affliction identifier="stun" strength="4" />
        </Explosion>
      </StatusEffect>
      <StatusEffect type="OnUse" targettype="Contained" targets="oxygenitetank" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
        <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="5000" />
        <sound file="Content/Items/Weapons/ExplosionDebris1.ogg" range="5000" />
        <Explosion range="250.0" structuredamage="110" force="6.0" ignorefireeffectsfortags="oxygensource,weldingtoolfuel">
          <Affliction identifier="burn" strength="75" />
          <Affliction identifier="stun" strength="4" />
        </Explosion>
      </StatusEffect>
	  <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank_fr" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
		<sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="5000" />
		<sound file="Content/Items/Weapons/ExplosionDebris1.ogg" range="5000" />
		<Explosion range="250.0" structuredamage="110" force="6.0" ignorefireeffectsfortags="oxygensource,weldingtoolfuel">
			<Affliction identifier="burn" strength="75" />
			<Affliction identifier="stun" strength="4" />
		</Explosion>
	  </StatusEffect>
      <!-- the tool can fix structures, i.e. walls and windows -->
      <Fixable identifier="structure" />
      <!-- mechanic skill 20 required to use the item -->
      <RequiredSkill identifier="mechanical" level="20" />
      <!-- if the skill requirement isn't met the welding fuel will be used 3 times as fast -->
      <StatusEffect type="OnFailure" targettype="Contained" targets="weldingfueltank" Condition="-3.0" />
      <StatusEffect type="OnFailure" targettype="Contained" targets="incendiumfueltank" Condition="-1.5" />
      <LightComponent LightColor="1.0,0.9,0.7,1.0" Flicker="0.5">
        <sprite texture="Content/Items/Electricity/lightsprite.png" origin="0.5,0.5" />
      </LightComponent>
    </RepairTool>
    <!-- one welding fuel or oxygen tank can be contained inside the welding tool -->
    <ItemContainer capacity="1" maxstacksize="1" hideitems="true" itempos="-45,17" itemrotation="-90" containedspritedepth="0.56,0.6" containedstateindicatorslot="0" containedstateindicatorstyle="battery">
      <Containable items="weldingtoolfuel,oxygensource" />      
      <SubContainer capacity="1" maxstacksize="1" hideitems="true" >
        <Containable items="mobilebattery,batterycell" />             
      </SubContainer>
    </ItemContainer>  
    <aitarget sightrange="2000" soundrange="500" fadeouttime="3" />
    <Quality>
      <QualityStat stattype="RepairToolStructureRepairMultiplier" value="0.1"/>
    </Quality>
  </Item>

<!-- DIESEL FUEL CAN: -->
  <Item name="Diesel Fuel Can" identifier="diesel_fuel_can" Category="Fuel" Tags="mediumitem,diesel_fuel" maxstacksize="1" cargocontaineridentifier="metalcrate" health="2000" scale="0.25">
    <PreferredContainer primary="reactorcab"/>
    <PreferredContainer primary="wrecksupplycab,beaconsupplycab" amount="2" spawnprobability="0.5"/>
		<PreferredContainer primary="wreckstoragecab,abandonedstoragecab" amount="2" spawnprobability="0.5"/>
		<PreferredContainer primary="wreckengcab,abandonedengcab,outpostengcab,beaconengcab" amount="2" spawnprobability="0.5"/>

    <Price baseprice="50" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
    </Deconstruct>

    <!-- Fabricate from scrap -->
    <Fabricate suitablefabricators="fabricator" amount="1" requiredtime="10" outcondition="0">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="scrap_steel" amount="5" />
    </Fabricate>  

    <!-- Fabricate from solid steel -->
    <Fabricate suitablefabricators="fabricator" amount="2" requiredtime="20" outcondition="0">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="steel" amount="1" />
    </Fabricate>  
 
    <InventoryIcon texture="%ModDir%/Images/diesel_fuel_can.png" sourcerect="0,0,200,256" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/diesel_fuel_can.png" sourcerect="0,0,200,256" depth="0.55" />
    <Body width="200" height="256" density="20" />
    <Holdable canbecombined="true" holdpos="0,-130" handle1="0,130" holdangle="0" slots="RightHand,LeftHand" msg="ItemMsgPickUpSelect"/>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>


  <!-- SCRAP STEEL: -->
  <Item name="Scrap Steel" identifier="scrap_steel" Category="material" Tags="smallitem,material,mechanical" maxstacksize="64" cargocontaineridentifier="metalcrate" health="10" scale="0.25">
    <PreferredContainer primary="mechcab"/>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,256,56,64" depth="0.55" origin="0.5,0.5" />
    <Body width="64" height="64" density="60" />
    <Holdable canbecombined="true" holdpos="0,-130" handle1="0,130" holdangle="0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect"/>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

   <!-- SCRAP aluminium: -->
  <Item name="Scrap aluminium" identifier="scrap_aluminium" Category="material" Tags="smallitem,material,mechanical" maxstacksize="64" cargocontaineridentifier="metalcrate" health="10" scale="0.25">
    <PreferredContainer primary="mechcab"/>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="64,256,56,64" depth="0.55" origin="0.5,0.5" />
    <Body width="64" height="64" density="60" />
    <Holdable canbecombined="true" holdpos="0,-130" handle1="0,130" holdangle="0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect"/>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- SCRAP COPPER: -->
  <Item name="Scrap Copper" identifier="scrap_copper" Category="material" Tags="smallitem,material,mechanical" maxstacksize="64" cargocontaineridentifier="metalcrate" health="10" scale="0.25">
    <PreferredContainer primary="mechcab"/>
    <PreferredContainer primary="wrecksupplycab,beaconsupplycab" amount="10" spawnprobability="0.5"/>
		<PreferredContainer primary="wreckstoragecab,abandonedstoragecab" amount="10" spawnprobability="0.5"/>
		<PreferredContainer primary="wreckengcab,abandonedengcab,outpostengcab,beaconengcab" amount="10" spawnprobability="0.5"/>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="64,320,56,64" depth="0.55" origin="0.5,0.5" />
    <Body width="64" height="64" density="60" />
    <Holdable canbecombined="true" holdpos="0,-130" handle1="0,130" holdangle="0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect"/>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- GREASE CAN: -->
  <Item name="Grease Can" identifier="grease_can" Category="Equipment" Tags="smallitem,grease,mechanical" maxstacksize="8" cargocontaineridentifier="metalcrate" health="100" scale="0.25">
    <PreferredContainer primary="mechcab"/>
      <Price baseprice="50" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="4"> 
      <Item identifier="scrap_steel" />
    </Deconstruct>
 
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="384,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="384,0,128,128" depth="0.55" origin="0.5,0.5"/>
    <Body width="128" height="128" density="20" />
    <Holdable canbecombined="true" holdpos="0,-130" handle1="0,130" holdangle="0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect"/>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

   <!-- GREASE PACKET: -->
  <Item name="Grease Packet" identifier="grease_packet" Category="Equipment" Tags="smallitem,grease,mechanical" maxstacksize="64" cargocontaineridentifier="metalcrate" health="10" scale="0.25">
    <PreferredContainer primary="mechcab"/>
      <Price baseprice="10" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="8" requiredtime="5">
      <RequiredItem identifier="grease_can" />
    </Fabricate>

    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="128,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="128,0,128,128" depth="0.55" origin="0.5,0.5" />
    <Body width="128" height="128" density="20" />
    <Holdable canbecombined="true" holdpos="0,-130" handle1="0,130" holdangle="0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect"/>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- SEALED BEARING: This is a sealed bearing for use in machines. -->
  <Item name="Sealed Bearing" identifier="sealed_bearing" Category="Equipment" Tags="smallitem,bearing" maxstacksize="16" cargocontaineridentifier="metalcrate" health="100" scale="0.25">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="50" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_copper" />
    </Deconstruct> 
   <!-- SEALED BEARING: Make a new set of bearings. -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="8" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="steel" amount="2"/>
      <RequiredItem identifier="bearing_sleeve" amount="8"/>
      <RequiredItem identifier="grease_packet" />
    </Fabricate>
    <!-- SEALED BEARING: Recycle - no need for recyle as sealed bearings are only used in fabrication -->
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,0,128,96" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,0,128,96" depth="0.55"/>
    <Body width="128" height="105" density="60" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>   
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- ELECTRIC MOTOR: This is an electric motor for use in machines. -->
  <Item name="Electric Motor" identifier="electric_motor" Category="Equipment" Tags="smallitem,electricmotor" maxstacksize="2" cargocontaineridentifier="metalcrate" health="500" scale="0.25">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="150" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_copper" />
    </Deconstruct>

    <!-- ELECTRIC MOTOR: From scratch! -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredSkill identifier="electrical" level="35" />
      <RequiredItem identifier="steel" amount="1"/>
      <RequiredItem identifier="copper_windings" />   
      <RequiredItem identifier="sealed_bearing" />   
    </Fabricate>
    <!-- ELECTRIC MOTOR: Recycle the motor housing by replacing the bearing and adding new windings. -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" displayname="recycleitem" requiredtime="15"> 
      <RequiredSkill identifier="electrical" level="35" />
      <RequiredSkill identifier="electrical" level="25" />
      <RequiredItem identifier="electric_motor" mincondition="0.0" usecondition="false"/>
      <RequiredItem identifier="copper_windings" />
      <RequiredItem identifier="sealed_bearing" />
    </Fabricate>
    
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="384,128,128,112" depth="0.55"/>
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="384,256,128,112" origin="0.5,0.5" depth="0.55" maxcondition="20" fadein="false" />
    <Body width="128" height="105" density="60" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>   
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

   <!-- COPPER WINDINGS: Copper windings for repairing electric motors -->
  <Item name="Copper Windings" identifier="copper_windings" Category="Equipment" Tags="smallitem,mechanical" maxstacksize="16" cargocontaineridentifier="metalcrate" health="100" scale="0.3">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="25" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_copper" />
      <Item identifier="scrap_copper" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="8" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="copper" />
    </Fabricate>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,0,128,128" depth="0.55"/>
    <Body width="128" height="128" density="60" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>   
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- DIESEL FUEL BARREL: -->
  <Item name="Diesel Fuel Barrel" identifier="diesel_fuel_barrel" Category="Fuel" Tags="largeitem,handtruck,diesel_fuel" maxstacksize="1" cargocontaineridentifier="handtruck" health="20000" scale="0.4">
    <PreferredContainer primary="wreckstoragecab"/>    
    <Price baseprice="250" displaynonempty="true" minavailable="8">
      <Price storeidentifier="merchantoutpost" multiplier="1.1" />
      <Price storeidentifier="merchantcity" multiplier="2" minavailable="10" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" multiplier="2"/>
      <Price storeidentifier="merchantengineering" multiplier="1.5" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
    </Deconstruct>
 
    <InventoryIcon texture="%ModDir%/Images/diesel_fuel_barrel.png" sourcerect="0,0,156,248" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/diesel_fuel_barrel.png" sourcerect="0,0,156,248" depth="0.55" canflipx="true" />
    <!-- <Sprite texture="%ModDir%/Images/diesel_fuel_barrel.png" sourcerect="0,0,156,248" depth="0.55" />-->
    <Body width="156" height="248" density="20" />
   <Holdable holdpos="150,-100" handle1="0,0" holdangle="0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect">
    <StatusEffect type="Always" target="Character" SpeedMultiplier="0.1" setvalue="true" />
   </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- OIL BARREL: -->
  <Item name="Oil Barrel" identifier="oil_barrel" Category="Fuel" Tags="largeitem,handtruck,oil,deciliter" maxstacksize="1" cargocontaineridentifier="handtruck" health="20000" scale="0.4">
    <PreferredContainer primary="wreckstoragecab"/>    
    
    <Price baseprice="250" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />
    </Deconstruct>
 
    <InventoryIcon texture="%ModDir%/Images/oil_barrel.png" sourcerect="0,0,156,248" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/oil_barrel.png" sourcerect="0,0,156,248" depth="0.55" />
    <Body width="156" height="248" density="20" />
   <Holdable holdpos="150,-100" handle1="0,0" holdangle="0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect">
    <StatusEffect type="Always" target="Character" SpeedMultiplier="0.1" setvalue="true" />
   </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>
  
 <!-- STORAGE CABINET: -->
  <Item name="Storage Cabinet" identifier="storage_cabinet" Aliases="steelcabinet" category="Misc" tags="locker,container" linkable="true" pickdistance="150" waterproof="true" scale="0.5">
    <Sprite texture="%ModDir%/Images/mechtrauma_containers.png" depth="0.84" sourcerect="0,896,256,320"/>
    <trigger x="0" y="0" width="256" height="320" />
    <ItemContainer capacity="30" slotsperrow="6" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.45" anchor="Center" style="ItemUI" />
      <Containable identifiers="smallitem"/>
    </ItemContainer>
  </Item>


   <!-- GEAR LOCKER: Gear locker, for storing SCBA suits as well as diving suits (I didnt' want to override the vanilla lockers)  -->
  <Item name="Gear Locker" identifier="gear_locker" category="Equipment" tags="container,divingsuitcontainer,divingsuitcontainerwindow,gearcontainerwindow" pickdistance="50" scale="0.5">
    <Sprite name="Diving Suit Locker Vertical" texture="Content/Items/Containers/containers.png" depth="0.84" sourcerect="714,1,99,256" origin="0.5,0.5" />
    <ItemContainer hideitems="false" drawinventory="true" capacity="1" slotsperrow="1" itempos="0,0" iteminterval="0,0" canbeselected="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.25" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
      <Containable items="deepdiving,gear" />
    </ItemContainer>
  </Item>
  

  <!-- STORAGE CLOSET: -->
  <Item name="Storage Closet" identifier="closet" tags="container,suppliescontainer,locker" linkable="true" pickdistance="150" waterproof="false" scale="0.6">
     <Sprite texture="%ModDir%/Images/mechtrauma_containers.png" depth="0.84" sourcerect="768,448,256,433" origin="0.5,0.5" />   
    <ItemContainer capacity="12" slotsperrow="3" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.5" anchor="Center" style="ItemUI" />
      
    </ItemContainer>
  </Item> 

  <!-- CARGO CONTRAINER SMALL: -->
  <Item name="s12 Cargo Container" identifier="s12a_container" tags="container,suppliescontainer,locker" linkable="true" pickdistance="150" waterproof="false" scale="0.5">
     <Sprite texture="%ModDir%/Images/Containers/mechtrauma_cargo_containers.png" depth="0.84" sourcerect="0,0,312,440" origin="0.5,0.5" />   
    <ItemContainer capacity="9" slotsperrow="3" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.5" anchor="Center" style="ItemUI" />      
    </ItemContainer>
  </Item> 

  <!-- CARGO CONTRAINER SMALL: -->  
  <Item name="s12 Cargo Container" identifier="s12b_container" nameidentifier="s12a_container" variantof="s12a_container" scale="0.5">
     <Sprite texture="%ModDir%/Images/Containers/mechtrauma_cargo_containers.png" depth="0.84" sourcerect="640,0,312,440" origin="0.5,0.5" />   
  </Item> 


 <!-- SHIPPING CONTAINER: Open. -->
 <Item name="Shipping Container Open" identifier="shipping_container_open" tags="container,locker,suppliescontainer" depth="0.84" linkable="true" pickdistance="150" waterproof="false" scale="0.6">
    <Sprite texture="%ModDir%/Images/mechtrauma_containers.png" depth="0.84" sourcerect="1028,0,256,396" origin="0.5,0.5" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma_containers.png" sourcerect="0,0,1024,436" depth="0.841" origin="0.0,0.5" offset="-128,0" />
    <ItemContainer capacity="32" slotsperrow="8" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.5,0.37" relativeoffset="-0.01,0.0" anchor="Center" allowuioverlap="false" style="ItemUI" />
    </ItemContainer>
  </Item> 

 <!-- SHIPPING CONTAINER: Closed. -->
 <Item name="Shipping Container Closed" identifier="shipping_container_closed" tags="container,suppliescontainer,locker,cargocontainer" allowedlinks="cargo_crane,shipping_container_open,shipping_container_closed" depth="0.84" linkable="true" pickdistance="150" waterproof="true" scale="0.6">
    <Sprite texture="%ModDir%/Images/mechtrauma_containers.png" depth="0.84" sourcerect="0,0,1024,436" origin="0.5,0.5" />    
    <ItemContainer capacity="32" slotsperrow="10" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.5,0.37" relativeoffset="-0.01,0.0" anchor="Center" allowuioverlap="false" style="ItemUI" />
    </ItemContainer>
  </Item> 

 <!-- STORAGE CONTAINER: Single. -->
 <Item name="Storage Container" identifier="storage_container_single" tags="container,suppliescontainer,locker" allowedlinks="cargo_crane,shipping_container_open,shipping_container_closed,fabricator,cncfab,cncfab_cp" depth="0.84" linkable="true" pickdistance="150" waterproof="true" scale="0.6">
    <Sprite texture="%ModDir%/Images/mechtrauma_containers.png" depth="0.84" sourcerect="0,448,256,433" origin="0.5,0.5" />    
    <ItemContainer capacity="30" slotsperrow="6" canbeselected="true" hideitems="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.45" anchor="Center" relativeoffset="-0.01,0.0" style="ItemUI" /> 
      <Containable identifiers="smallitem"/>
    </ItemContainer>
  </Item> 

 <!-- CARGO CRANE: -->
 <Item name="Cargo Crane" identifier="cargo_crane" tags="decorative" linkable="true" allowedlinks="cargo_crane,shipping_container_open,shipping_container_closed" pickdistance="150" waterproof="true" scale="0.6">
    <Sprite texture="%ModDir%/Images/cargo_crane.png" depth="0.84" sourcerect="0,0,724,360" origin="0.5,0.5" />
    <ItemContainer capacity="1" slotsperrow="1" canbeselected="true" hideitems="false" itempos="28,-132" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.25" anchor="Center" style="ItemUI" />
    </ItemContainer>
  </Item> 

  <!-- CRATE: Medical -->
  <Item name="" identifier="mtcrate_medical" tags="crate,allowcleanup" scale="0.325" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Deconstruct time="0.5"/>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/Containers/mechtrauma_crates.png" depth="0.54" sourcerect="320,320,240,128" origin="0.5,0.5" />
    <Body width="240" height="128" density="25" />
    <Holdable slots="RightHand,LeftHand" holdpos="0,-80" handle1="-0,70" aimable="false" msg="ItemMsgPickUpSelect" />
    <ItemContainer capacity="16" canbeselected="false" hideitems="true" keepopenwhenequipped="true" movableframe="true">
      <Containable items="smallitem,mediumitem" excludeditems="toolbelt,toolbox,bandolier,cargoscooter" />
    </ItemContainer>
  </Item>

   <!-- CRATE: Mechanical -->
  <Item name="Mechanical Crate" identifier="mtcrate_mechanical" tags="crate,allowcleanup" scale="0.325" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Deconstruct time="0.5"/>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/Containers/mechtrauma_crates.png" depth="0.54" sourcerect="320,448,240,128" origin="0.5,0.5" />
    <Body width="240" height="128" density="25" />
    <Holdable slots="RightHand,LeftHand" holdpos="0,-80" handle1="-0,70" aimable="false" msg="ItemMsgPickUpSelect" />
    <ItemContainer capacity="16" canbeselected="false" hideitems="true" keepopenwhenequipped="true" movableframe="true">
      <Containable items="smallitem,mediumitem" excludeditems="toolbelt,toolbox,bandolier,cargoscooter" />
    </ItemContainer>
  </Item>

  <!-- CRATE: Generic -->
  <Item name="Generic Crate" identifier="mtcrate_generic" tags="crate,allowcleanup" scale="0.325" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Deconstruct time="0.5"/>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/Containers/mechtrauma_crates.png" depth="0.54" sourcerect="320,192,240,128" origin="0.5,0.5" />
    <Body width="240" height="128" density="25" />
    <Holdable slots="RightHand,LeftHand" holdpos="0,-80" handle1="-0,70" aimable="false" msg="ItemMsgPickUpSelect" />
    <ItemContainer capacity="16" canbeselected="false" hideitems="true" keepopenwhenequipped="true" movableframe="true">
      <Containable items="smallitem,mediumitem" excludeditems="toolbelt,toolbox,bandolier,cargoscooter" />
    </ItemContainer>
  </Item>

  <!-- CRATE: Rusty -->
  <Item name="Rusty Crate" identifier="mtcrate_rusty" tags="crate,allowcleanup" scale="0.325" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Deconstruct time="0.5"/>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/Containers/mechtrauma_crates.png" depth="0.54" sourcerect="64,448,240,128" origin="0.5,0.5" />
    <Body width="240" height="128" density="25" />
    <Holdable slots="RightHand,LeftHand" holdpos="0,-80" handle1="-0,70" aimable="false" msg="ItemMsgPickUpSelect" />
    <ItemContainer capacity="16" canbeselected="false" hideitems="true" keepopenwhenequipped="true" movableframe="true">
      <Containable items="smallitem,mediumitem" excludeditems="toolbelt,toolbox,bandolier,cargoscooter" />
    </ItemContainer>
  </Item>

<!-- MECHCABINET -->
   <Item name="Mechcab" identifier="mechcab" tags="container" linkable="true" pickdistance="150" waterproof="true" scale="0.5">
    <Sprite texture="%ModDir%/Images/mechcab.png" depth="0.84" sourcerect="0,0,128,128" origin="0.5,0.5" />
    <DecorativeSprite texture="%ModDir%/Images/mechcab.png" sourcerect="128,0,128,128" depth="0.80" offset="9,-7" origin="0.5,0.5"/>
    <ItemContainer capacity="1" slotsperrow="1" maxstacksize="64" canbeselected="true" hideitems="false" itempos="64,-64" iteminterval="0,0" autointeractwithcontained="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.25" anchor="Center" style="ItemUI" />
      <Containable items="smallitem,mediumitem" />      
    </ItemContainer>
  </Item>

<!-- HAND TRUCK: -->
  <Item name="Hand Truck" identifier="handtruck" tags="crate,allowcleanup" scale="0.5" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Fabricate suitablefabricators="fabricator" amount="1" requiredtime="5">      
      <RequiredItem identifier="steel" />
    </Fabricate>  
    <Deconstruct time="5">
      <Item identifier="scrap_steel" />
    </Deconstruct>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/handtruck.png"  depth="0.54" sourcerect="0,0,240,340" origin="0.5,0.5" />
    <Body width="240" height="340" density="50" />
    <Holdable slots="RightHand+LeftHand" holdpos="-75,-250" handle1="-75,75" handle2="-75,75" holdangle="45" aimable="false" msg="ItemMsgPickUpSelect" >
      <StatusEffect type="Always" target="Character" SpeedMultiplier="0.8" setvalue="true" />
    </Holdable>  
    <ItemContainer capacity="1" canbeselected="false" hideitems="false" itempos="0,-45" keepopenwhenequipped="true" movableframe="true">
      <Containable items="handtruck,largeitem,mediumitem,ammobox" excludeditems="toolbox,cargoscooter" />
        <StatusEffect type="OnContaining" targettype="This,Contained" condition="-50" itempos="0,-50" Comparison="And">
          <Requireditem items="oil_barrel" type="contained" /> 
           <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" />
        </StatusEffect>
    </ItemContainer>
  </Item> 


  <!-- DIESEL TRANSFER TRUCK: -->
  <Item name="Diesel Transfer Truck" identifier="diesel_transfer_truck" tags="crate,allowcleanup" scale="0.5" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Fabricate suitablefabricators="fabricator" amount="1" requiredtime="5">      
      <RequiredItem identifier="steel" />
    </Fabricate>  
    <Deconstruct time="5">
      <Item identifier="scrap_steel" />
    </Deconstruct>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.54" sourcerect="1152,0,160,320" origin="0.5,0.5" />
    <Body width="160" height="320" density="50" />
    <Holdable slots="RightHand+LeftHand" holdpos="-75,-250" handle1="-75,75" handle2="-75,75" holdangle="45" aimable="false" msg="ItemMsgPickUpSelect" >
      <StatusEffect type="Always" target="Character" SpeedMultiplier="0.8" setvalue="true" />
    </Holdable>  

     <ItemContainer capacity="0" maxstacksize="1" itemsperrow="1" slotsperrow="1" hideitems="true" itempos="51,-175" iteminterval="4,30" containedspritedepths="0.81,0.79" containedstateindicatorslot="0" canbeselected="true" msg="OilStation">
      <GuiFrame relativesize="0.2,0.5" anchor="Center" style="ItemUI" />         
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="640,64,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,0,64,64" origin="0.5,0.5" /> 

      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  
      
          <!-- CHECK: Check diesel fuel in slot 0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot0" targetslot="0" duration="0.1" stackable="false" checkconditionalalways="true" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" targetitemcomponent="SubContainer" type="contained" targetslot="0"/>            
          </StatusEffect>           
         
          <!-- DRAIN: Diesel Fuel from slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-500.0" checkconditionalalways="true" Comparison="And">
            <Conditional HasStatusTag="dieseltofillinslot1" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="0"/>
            <Sound file="%ModDir%/Sound/pump_loop.ogg" range="1000" loop="false" />
          </StatusEffect>   
      
        </Containable>  
      </SubContainer>
           
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="diesel_fuel_can" excludebroken="false" excludefullcondition="True">
                           
           <!-- CHECK: For diesel fuel can inslot1 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieseltofillinslot1" targetslot="1" excludefullcondition="true" duration="0.1" stackable="false" checkconditionalalways="true" Comparison="And">
           <Requireditem items="diesel_fuel_can" type="contained" targetslot="1"/>
          </StatusEffect>      
          
          <!-- FILL: Diesel Fuel can in slot1 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" stackable="false" Condition="500" checkconditionalalways="true" Comparison="And">
            <Conditional HasStatusTag="dieselinslot0" targetcontainer="true" />                      
          </StatusEffect>

          <!-- Play Tank Sound for slot2-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" duration="1.55" stackable="false" disabledeltatime="True" Comparison="Or">                  
            <Conditional HasStatusTag="dieselinslot0" targetcontainer="true" />            
         
          </StatusEffect>

        </Containable>  
      </SubContainer>
    </ItemContainer>
  </Item> 

  <!-- OIL TRANSFER TRUCK: -->
  <Item name="Oil Transfer Truck" identifier="oil_transfer_truck" tags="crate,allowcleanup" scale="0.5" linkable="true" pickdistance="150" showcontentsintooltip="true" impactsoundtag="impact_metal_heavy">
    <Fabricate suitablefabricators="fabricator" amount="1" requiredtime="5">      
      <RequiredItem identifier="steel" />
    </Fabricate>  
    <Deconstruct time="5">
      <Item identifier="scrap_steel" />
    </Deconstruct>
    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,128,64,64" />-->
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.54" sourcerect="1152,0,160,320" origin="0.5,0.5" />
    <Body width="160" height="320" density="50" />
    <Holdable slots="RightHand+LeftHand" holdpos="-75,-250" handle1="-75,75" handle2="-75,75" holdangle="45" aimable="false" msg="ItemMsgPickUpSelect" >
      <StatusEffect type="Always" target="Character" SpeedMultiplier="0.8" setvalue="true" />
    </Holdable>  

     <ItemContainer capacity="0" maxstacksize="1" itemsperrow="1" slotsperrow="1" hideitems="true" itempos="51,-175" iteminterval="4,30" containedspritedepths="0.81,0.79" containedstateindicatorslot="0" canbeselected="true" msg="OilStation">
      <GuiFrame relativesize="0.2,0.5" anchor="Center" style="ItemUI" />         
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="640,64,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 

      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" >
        <Containable items="oil_barrel" excludebroken="true" excludefullcondition="false">  
      

         <!-- CHECK: For oil in slot 0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="oilinslot0" targetslot="0" duration="0.1" stackable="false" checkconditionalalways="true" Comparison="And"> 
            <Requireditem items="oil_barrel" targetitemcomponent="SubContainer" type="contained" targetslot="0"/>            
          </StatusEffect>

          <!-- DRAIN: Oil from slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-50.0" checkconditionalalways="true" Comparison="And">
            <Conditional HasStatusTag="oiltofillinslot1" targetcontainer="true"/>
            <Requireditem items="oil_barrel" type="contained" targetslot="0"/>
            <Sound file="%ModDir%/Sound/pump_loop.ogg" range="1000" loop="false" />
          </StatusEffect>   
        </Containable>  
      </SubContainer>
           
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="oil_can,diesel_fuel_can" excludebroken="false" excludefullcondition="True">
                     
          <!-- CHECK: For oil can inslot1 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="oiltofillinslot1" targetslot="1" excludefullcondition="true" duration="0.1" stackable="false" checkconditionalalways="true" Comparison="And">
           <Requireditem items="oil_can" type="contained" targetslot="1"/>
          </StatusEffect>

                
          <!-- FILL: Oil can in slot1 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" stackable="false" Condition="50" checkconditionalalways="true"  Comparison="And">
            <Conditional HasStatusTag="oilinslot0" targetcontainer="true" />            
            <Conditional HasStatusTag="neq dieselinslot0" targetcontainer="true" />            
          </StatusEffect>

          <!-- Play Tank Sound for slot2-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" duration="1.55" stackable="false" disabledeltatime="True" Comparison="Or">
            <Conditional HasStatusTag="oilinslot0" targetcontainer="true" />     
          </StatusEffect>

        </Containable>  
      </SubContainer>
    </ItemContainer>
  </Item> 


  <!-- ARGON TANK: -->
  <Item name="Argon Tank" identifier="argon_tank" Category="Fuel" Tags="largeitem,argon,welding,handtruck" maxstacksize="1" cargocontaineridentifier="handtruck" health="1000" scale="0.5">
    <PreferredContainer primary="argon_station"/>
    
    <Price baseprice="750" displaynonempty="true" minavailable="1">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="2" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_aluminium" />
      <Item identifier="scrap_aluminium" />
      <Item identifier="scrap_aluminium" />
      <Item identifier="scrap_aluminium" />
    </Deconstruct>
 
    <InventoryIcon texture="%ModDir%/Images/argon_tank.png" sourcerect="0,0,80,268" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/argon_tank.png" sourcerect="0,0,80,268" />
    <Body radius="40" height="268" density="20" />
    <Holdable handle1="0,0" handle2="0,0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect" >
       <StatusEffect type="Always" target="Character" SpeedMultiplier="0.1" setvalue="true" />
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- EXTINGUISHER TANK: -->
  <Item name="Extinguisher Tank" identifier="extinguisher_tank" Category="Fuel" Tags="largeitem,handtruck,extinguisher,welding" maxstacksize="1" cargocontaineridentifier="handtruck" health="1000" scale="0.5">
    <PreferredContainer primary="extinguisher_tank"/>
    <Price baseprice="350" displaynonempty="true" minavailable="1">
      <Price storeidentifier="merchantoutpost" minavailable="1" />
      <Price storeidentifier="merchantcity" minavailable="1" />
      <Price storeidentifier="merchantresearch" minavailable="1" />
      <Price storeidentifier="merchantmilitary" minavailable="1" />
      <Price storeidentifier="merchantmine" minavailable="1" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="2" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_aluminium" />
      <Item identifier="scrap_aluminium" />
      <Item identifier="scrap_aluminium" />
      <Item identifier="scrap_aluminium" />
    </Deconstruct>
 
    <InventoryIcon texture="%ModDir%/Images/extinguisher_tank.png" sourcerect="0,0,80,268" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/extinguisher_tank.png" sourcerect="0,0,80,268" />
    <Body radius="40" height="268" density="20" />
    <Holdable handle1="0,0" handle2="0,0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect" >
      <StatusEffect type="Always" target="Character" SpeedMultiplier="0.1" setvalue="true" />
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>
   
  <!-- OIL CAN: -->
  <Item name="Oil Can" identifier="oil_can" Category="Fuel" Tags="smallitem,oil,deciliter" maxstacksize="1" cargocontaineridentifier="metalcrate" health="400" scale="0.25">
      <PreferredContainer primary="reactorcab"/>    
      <PreferredContainer primary="wrecksupplycab,beaconsupplycab" amount="2" spawnprobability="0.5"/>
		  <PreferredContainer primary="wreckstoragecab,abandonedstoragecab" amount="2" spawnprobability="0.5"/>
		  <PreferredContainer primary="wreckengcab,abandonedengcab,outpostengcab,beaconengcab" amount="2" spawnprobability="0.5"/>
      <Price baseprice="50" displaynonempty="true" minavailable="2">
        <Price storeidentifier="merchantoutpost" />
        <Price storeidentifier="merchantcity" minavailable="3" />
        <Price storeidentifier="merchantresearch" />
        <Price storeidentifier="merchantmilitary" />
        <Price storeidentifier="merchantmine" />
        <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
      </Price>
      <Deconstruct time="10">
        <Item identifier="scrap_steel" amount="1" />
      </Deconstruct> 
      <!-- Fabricate from scrap -->
      <Fabricate suitablefabricators="fabricator" amount="1" requiredtime="5" outcondition="0">
        <RequiredSkill identifier="mechanical" level="20" />
        <RequiredItem identifier="scrap_steel" amount="2" />
      </Fabricate>  
      <!-- Fabricate from solid steel -->
      <Fabricate suitablefabricators="fabricator" amount="5" requiredtime="5" outcondition="0">
        <RequiredSkill identifier="mechanical" level="20" />
        <RequiredItem identifier="steel" amount="1" />
      </Fabricate>  

      <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,768,84,128" origin="0.5,0.5" />
      <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,768,84,128" depth="0.55" />
      <Body radius="6" height="55" density="20" />
      <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
      </Holdable>
  
      <Quality>
        <QualityStat stattype="Condition" value="0.1"/>
      </Quality>
    </Item>



<!-- OIL FILTER: -->
  <Item name="Oil Filter" identifier="oil_filter" Category="Fuel" Tags="smallitem,oilfilter" maxstacksize="4" cargocontaineridentifier="metalcrate" health="100" scale="0.25">
    <PreferredContainer primary="reactorcab"/>    
    <Price baseprice="50" displaynonempty="true" minavailable="5">
      <Price storeidentifier="merchantoutpost"  />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="5.0" minavailable="5" />
    </Price>
      <Deconstruct time="10">
      <Item identifier="scrap_aluminium" amount="1" />
    </Deconstruct>
    <!-- OIL FILTER: Make a new filter.  -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="4" requiredtime="5">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="aluminium" />
      <RequiredItem identifier="organicfiber" />
    </Fabricate>    
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="128,256,52,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="128,256,52,128" depth="0.55" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="192,256,52,128" origin="0.5,0.5" depth="0.55" maxcondition="20" fadein="false" />
    <Body radius="6" height="55" density="20" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

<!-- DRIVE GEAR: Steal worm drive gear -->
  <Item name="" identifier="drive_gear" Category="Misc" Tags="largeitem,handtruck,gear,crate" maxstacksize="1" cargocontaineridentifier="" health="100" scale="0.5">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="500" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="30">
      <Item identifier="steel" />
      <Item identifier="steel" />
      <Item identifier="steel" />
      <Item identifier="steel" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" requiredtime="240">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="steel" amount="8" />      
    </Fabricate>
    <!-- RECYCLE: Rebuild the gears -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" displayname="recycleitem" requiredtime="120"> 
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="drive_gear" mincondition="0.0" usecondition="false"/>
      <RequiredItem identifier="steel" amount="1" />   
    </Fabricate>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="384,384,84,128" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="492,384,84,128" origin="0.5,0.5" depth="0.55" maxcondition="20" fadein="false" />
    <Body width="84" height="128" density="100" />
    <Holdable holdpos="150,-100" handle1="0,0" holdangle="0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect">
    <StatusEffect type="Always" target="Character" SpeedMultiplier="0.1" setvalue="true" />
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>

  </Item>
  
  <!-- TURBINE BLADE: For use in machines such as a steam turbine -->
  <Item name="" identifier="turbine_blade" Category="Fuel" Tags="largeitem,handtruck,crate" maxstacksize="1" cargocontaineridentifier="" health="100" scale="0.5">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="250" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />      
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="steel" amount="2" />
     </Fabricate>
    <!-- RECYCLE: Repurpose the existing turbine materials. -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" displayname="recycleitem" requiredtime="15"> 
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="turbine_blade" mincondition="0.0" usecondition="false"/>
      <RequiredItem identifier="steel" amount="1" />
    </Fabricate>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="576,384,128,96" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="704,384,128,96" origin="0.5,0.5" depth="0.55" maxcondition="10" fadein="false" />
    <Body width="128" height="96" density="100" />
    <Holdable handle1="0,0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect" >
      <StatusEffect type="Always" target="Character" SpeedMultiplier="0.1" setvalue="true" />
    </Holdable>   
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- BEARING: This is a copper sleeved steel bearing for use in a steam turbine and other machines -->
  <Item name="" identifier="bearing" Category="Fuel" Tags="smallitem,bearing" maxstacksize="2" cargocontaineridentifier="metalcrate" health="100" scale="0.5">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="50" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_steel" />
      <Item identifier="scrap_steel" />      
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="steel" />
      <RequiredItem identifier="bearing_sleeve" />
    </Fabricate>
    <!-- BEARING: Recycle the bearing housing by putting in a new copper sleeve. -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" displayname="recycleitem" requiredtime="15"> 
      <RequiredSkill identifier="mechanical" level="25" />
      <RequiredItem identifier="bearing_sleeve" />
      <RequiredItem identifier="bearing" mincondition="0.0" usecondition="false"/>
    </Fabricate>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="768,128,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="768,128,128,128" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="896,128,128,128" origin="0.5,0.5" depth="0.55" maxcondition="20" fadein="false" />
    <Body radius="6" height="64" density="60" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>
   
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>
  
  <!-- BEARING SLEEVE: Copper bearing sleeve for refitting bearings -->
  <Item name="Bearing Sleeve" identifier="bearing_sleeve" Category="Equipment" Tags="smallitem,mechanical" maxstacksize="16" cargocontaineridentifier="metalcrate" health="100" scale="0.5">
    <PreferredContainer primary="mechcab"/>    
    <Price baseprice="15" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="scrap_copper" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="8" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="copper" />
    </Fabricate>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="640,128,64,64" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="640,128,64,64" depth="0.55"/>
    <Body width="128" height="128" density="60" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>   
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- CIRCULATOR PUMP: This is a circulator pump for use in machines such as a boiler -->
  <Item name="" identifier="circulator_pump" Category="Fuel" Tags="smallitem,circulatorPump" maxstacksize="2" cargocontaineridentifier="metalcrate" health="100" scale="0.35">
    <PreferredContainer primary="reactorcab"/>
    
    <Price baseprice="150" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="steel" />
    </Deconstruct>

     <!-- CIRCULATOR PUMP: Home made, from scratch! Just like grandma used to make. -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" requiredtime="30">
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem identifier="steel" />
      <RequiredItem identifier="copper_windings" />
      <RequiredItem identifier="sealed_bearing" />
      <RequiredItem identifier="fpgacircuit" />
    </Fabricate>

    <!-- CIRCULATOR PUMP: Recycle the pump housing by putting in new sealed bearings and rewinidng the motor. -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" displayname="recycleitem" requiredtime="15"> 
      <RequiredSkill identifier="mechanical" level="25" />
      <RequiredItem identifier="copper_windings" />
      <RequiredItem identifier="sealed_bearing" />
      <RequiredItem identifier="circulator_pump" mincondition="0.0" usecondition="false"/>
    </Fabricate>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="512,128,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="512,128,128,128" />
    <Body radius="6" height="55" density="20" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>

    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- OXYGEN TANK LARGE: TO DO: Make a tank spawn in the oxygen station is there isn't one. -->
  <Item name="Oxygentank Large" identifier="oxygentank_large" Category="Equipment" Tags="largeitem,oxygen,handtruck" hiddeningame="True" spritecolor="255,255,255,255" maxstacksize="1" cargocontaineridentifier="handtruck" health="5000" scale="0.5">
    <PreferredContainer primary="oxygen_station"/>     
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="768,0,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="768,0,128,128" />
    <Body radius="128" height="128" density="20" />
   <!--  <Holdable handle1="0,0" handle2="0,0" slots="RightHand+LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>-->
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

<!-- OXYGEN BOTTLE: Fire Resistant -->
  <Item name="Oxygen Tank FR" identifier="oxygentank_fr" category="Diving,Equipment" maxstacksize="2" health="200" Tags="smallitem,oxygensource,refillableoxygensource" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light" allowdroppingonswap="true">
    <Price baseprice="150">
      <Price storeidentifier="merchantoutpost" minavailable="10"/>
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="15" />
      <Price storeidentifier="merchantresearch" minavailable="10"/>
      <Price storeidentifier="merchantmilitary" minavailable="10"/>
      <Price storeidentifier="merchantmine" multiplier="1.25" minavailable="20" />
    </Price>
    <PreferredContainer secondary="respawncontainer" amount="8" spawnprobability="1" notcampaign="true"/>
    <PreferredContainer primary="oxygentankcontainer" amount="3" spawnprobability="1"/>
    <PreferredContainer primary="oxygengenerator" maxcondition="75"/>
    <PreferredContainer primary="deepdiving,turnout_gearv2" spawnprobability="1.0" mincondition="25"/>
    <PreferredContainer secondary="divingcab" minamount="3" maxamount="5" spawnprobability="1" mincondition="25" notcampaign="true"/>
    <PreferredContainer secondary="supplycab" amount="1" spawnprobability="0.5" mincondition="25" notcampaign="true"/>
    <PreferredContainer secondary="wrecksupplycab,beaconsupplycab" amount="1" spawnprobability="0.2"/>
    <PreferredContainer secondary="wreckoxygentankcontainer" minamount="1" maxamount="3" spawnprobability="0.3"/>
    <PreferredContainer secondary="outpostcrewcabinet" minamount="1" maxamount="3" spawnprobability="0.2"/>
    <PreferredContainer secondary="wreckstoragecab,abandonedstoragecab" minamount="1" maxamount="3" spawnprobability="0.1"/>
    <Deconstruct time="10">
      <Item identifier="aluminium" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" displayname="OxygenTankFrEmpty">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="aluminium" amount="2" />
      <RequiredItem identifier="carbon" amount="1" />
      <RequiredItem identifier="organicfiber" amount="1" />
    </Fabricate>
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="96,128,32,118" depth="0.55" origin="0.5,0.5" />
    <Body width="32" height="128" density="9.7" />
    <Holdable canbecombined="true" slots="Any,RightHand,LeftHand" holdpos="30,-15" handle1="0,5" handle2="0,-5" msg="ItemMsgPickUpSelect">
     
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  
<!-- OXYGEN TRANSFER TANK: Run your diesel longer. -->
  <Item name="Oxygen Transfer Tank" identifier="oxygen_transfer_tank" category="Equipment" maxstacksize="1" health="500" Tags="mediumitem,refillableoxygensource" cargocontaineridentifier="metalcrate" scale="0.3" impactsoundtag="impact_metal_light" allowdroppingonswap="true">
    <Price baseprice="150">
      <Price storeidentifier="merchantoutpost" minavailable="10"/>
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="15" />
      <Price storeidentifier="merchantresearch" minavailable="10"/>
      <Price storeidentifier="merchantmilitary" minavailable="10"/>
      <Price storeidentifier="merchantmine" multiplier="1.25" minavailable="20" />
    </Price>    
    <PreferredContainer primary="s1500D" amount="1" spawnprobability="1"/>
    <PreferredContainer primary="s5000D" amount="1" spawnprobability="1"/>    
    <Deconstruct time="10">
      <Item identifier="aluminium" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" displayname="OxygenTransferTankEmpty" outcondition="0.0">
      <RequiredSkill identifier="mechanical" level="35" />
      <RequiredItem identifier="aluminium" amount="3" />     
    </Fabricate>

    <InventoryIcon texture="%ModDir%/Images/mechtrauma_oxygen.png" sourcerect="768,512,108,256" origin="0.5,0.5" /> -->    
    <Sprite texture="%ModDir%/Images/mechtrauma_oxygen.png" sourcerect="768,512,108,256" depth="0.55" origin="0.5,0.5" />
    <Body width="108" height="256" density="9.7" />
       
    <Holdable canbecombined="true" slots="RightHand+LeftHand" holdpos="75,-125" disablerotation="true" handle1="0,0" handle2="0,0" holdangle="45"  msg="ItemMsgPickUpSelect">
<!-- 
      <StatusEffect type="OnNotContained" targettype="This" Comparison="And"> 
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
      </StatusEffect>
-->

    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>


<!-- OXYGEN VENT: -->
<Item name="Oxygen Vent" identifier="oxygen_vent" tags="mtu,oxygenVentSpawn,vent,container" category="Machine" linkable="true" allowedlinks="oxygenerator" pickdistance="150" scale="0.5">
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.8" sourcerect="768,256,152,104"/>
    <DecorativeSprite texture="Content/Items/OxygenGenerator/oxygengenerator.png" depth="0.81" sourcerect="852,180,121,121" rotationspeed="360" origin="0.5,0.5" offset="25,0" >
      <AnimationConditional OxygenFlow="gt 10" targetitemcomponent="Vent"/>
    </DecorativeSprite>

     <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="960,256,50,84" origin="0.5,0.5" offset="-52,-6" scale="0.75" rotationspeed="0" Comparison="And"> 
        <Conditional HasStatusTag="co2_cartridge" targetcontainer="true" />       
    </DecorativeSprite>
    <!-- <ContainedSprite name="Co2 Cartridge" allowedcontainertags="vent" texture="Content/Items/Diving/DivingSuit_Item.png" sourcerect="181,0,75,193" depth="0.55" origin="0.5,0.5" /> -->

    <ItemContainer capacity="0" maxstacksize="1" canbeselected="true" hideitems="true" itempos="31,-250" iteminterval="44.5,0" msg="ItemMsgOxygenRefill">
      <GuiFrame relativesize="0.25,0.2" anchor="Center" style="ItemUI" />

      <!-- Co2 CARTRIDGE: Slot0 -->
      <SubContainer capacity="1" maxstacksize="1">
        <Containable items="co2_cartridge" excludebroken="false" excludefullcondition="false" >

          <!-- Co2 CARTRIDGE present: Check for any co2 cartridge in slot0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="co2_cartridge" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="co2_cartridge" type="contained" targetslot="0" excludebroken="false" excludefullcondition="false"/>             
          </StatusEffect>

          <!-- Co2 CARTRIDGE vialbe: Check for a viable co2 cartridge in slot0 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="co2_cartridge_viable" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="co2_cartridge" type="contained" mincondition="1.0"/>      
            
          </StatusEffect>     
        
         <!-- DETERIORATE Co2 CARTRIDGE: -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-0.1" Comparison="And"> 
          <Requireditem items="co2_cartridge" type="contained" targetslot="0"/>             
          <Conditional InWater="false" />
              
        </StatusEffect>

        
        </Containable>
      </SubContainer>
      
      <!-- VENT: Slot1 -->
      <SubContainer capacity="1" maxstacksize="1">
        <Containable items="spore_fungus" >
        </Containable>
      </SubContainer>
    </ItemContainer>
    
    <Vent>
      <!-- HOOK: When the vent is active, trigger the LUA hook MOVED TO LUA 11/18/22 
      <StatusEffect type="OnActive" targettype="This" interval="5" stackable="false">
        <LuaHook name="mechtraumaVentInterval.OnActive" />
      </StatusEffect>-->
      
      <!-- Spore Infection: If there is a spore fungus in an active vent, poison nearby victims. (TO DO: Make players with SCBA immune) -->
      <StatusEffect type="OnActive" target="This" interval="5" duration="2" stackable="false" comparison="And">
        <Requireditem items="spore_fungus" type="contained" targetslot="1" /> 
        <Explosion range="1000" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="1" stackable="false">
          <Affliction identifier="spore_infection" strength="0.1" />        
        </Explosion>
          <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="5.0" scalemax="10.0" colormultiplier="45,60,0,100"/> 
      </StatusEffect> 


       <!-- Co2 Poisoning: (TO DO: Make players with independent oxygen supply immune - DONE) -->
          <StatusEffect type="Always" target="This" delay="1" stackable="false" disabledeltatime="false" comparison="And">
            <Conditional HasStatusTag="neq co2_cartridge_viable" />  
            <Conditional InWater="false" />
             <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="0" anglemax="90" velocitymin="500" velocitymax="1000" highqualitycollisiondetection="true"/>
            <Explosion range="1000" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="1" stackable="false">
              <Affliction identifier="co2_poisoning" strength="0.25" />    <!-- reduced from .5 to .35 on 10/1-->    
            </Explosion>
            
          </StatusEffect>

      
      <!-- Remove Atmosphere Oxygen when filling slot0
      <StatusEffect type="OnActive" targettype="This" target="This,Hull" setvalue="false" Oxygen="-1000" checkconditionalalways="true" Comparison="And"> 
       
      </StatusEffect>  -->
      <sound file="Content/Items/OxygenGenerator/Ventilation.ogg" type="OnActive" range="400.0" volumeproperty="OxygenFlow" volume="0.0005f" loop="true"/>
    </Vent>
          
  </Item>

  
<!-- Co2 CARTRIDGE: Filter-->
  <Item name="Co2 Filter" identifier="co2_cartridge" Category="Fuel" Tags="smallitem,c02" maxstacksize="4" cargocontaineridentifier="metalcrate" health="800" scale="0.5">
    <PreferredContainer primary="reactorcab"/>
    
    <Price baseprice="25" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
      <Deconstruct time="10">
      <Item identifier="scrap_aluminium" amount="1" />
    </Deconstruct>
    <!-- Co2 CARTRIDGE: Make a new scrubber cartridges.  -->
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="8" requiredtime="5">
      <RequiredSkill identifier="mechanical" level="20" />
      <RequiredItem identifier="aluminium" />
      <RequiredItem identifier="calcium" />
      <RequiredItem identifier="sodium" />
      <RequiredItem identifier="potassium" />
    </Fabricate>    
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="960,256,50,84" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="960,256,50,84" origin="0.5,0.5" depth="0.55" maxcondition="20" fadein="false" />
    <Body width="25" height="42" density="10" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

<!-- OXYGEN SUPPLY: (replaces but does not override oxygen generator) -->
<Item name="Oxygen Supply" identifier="oxygen_supply" tags="oxygengenerator" category="Machine" linkable="true" allowedlinks="vent" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <Sprite texture="%ModDir%/Images/oxygen.png" sourcerect="0,0,360,472" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/oxygen.png" sourcerect="384,0,360,472" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="false" castshadows="false" allowingameediting="false" />
    <!-- SPRITE: Powered -->
    <LightComponent range="10.0" lightcolor="120,250,220,1" powerconsumption="1" IsOn="true" depth="0.75" castshadows="false" allowingameediting="false">
      <sprite texture="%ModDir%/Images/oxygen.png" sourcerect="768,0,112,112" depth="0.82" origin="0.3,1.35" alpha="1.0" />
      <!-- <IsActive targetitemcomponent="PowerTransfer" overload="eq False" /> -->
    </LightComponent>

    <OxygenGenerator powerconsumption="1000.0" generatedAmount="0" minvoltage="0.5" canbeselected="true" msg="ItemMsgInteractSelect">
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />
      <sound file="Content/Items/OxygenGenerator/OxygenGenerator.ogg" type="OnActive" range="1000.0" volumeproperty="CurrFlow" volume="0.001" loop="true"/>    
      <StatusEffect type="OnFire" target="This" Condition="-0.5"/>
      
      <!-- Check for power. -->
      <StatusEffect type="Always" targettype="This" duration="2" tags="02power" stackable="false" IsOn="true" checkconditionalalways="true" disabledeltatime="true" Comparison="And">
          <Conditional Voltage="gte 0.5" targetitemcomponent="OxygenGenerator"/>      
          <Conditional condition="gt 0" />    
      </StatusEffect>

       <!-- Check for power. -->
      <StatusEffect type="Always" targettype="This" duration="2" tags="no02power" stackable="false" IsOn="false" checkconditionalalways="true" disabledeltatime="true">
          <Conditional Voltage="lt 0.5" targetitemcomponent="OxygenGenerator"/>          
      </StatusEffect>
      
      <!-- POWER: Set oxygen generation (2 minute delay) -->
      <StatusEffect type="Always" targettype="This" delay="120" checkconditionalalways="true" stackable="false" generatedAmount="5000" conditionMult="0.5" disabledeltatime="false" setvalue="True">
          <Conditional HasStatusTag="02power" />
        
      </StatusEffect>

      <!-- NO POWER: Reset oxygen generation -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" generatedAmount="0" conditionMult="0" CurrFlow="0" oxygenflow="0" disabledeltatime="True" setvalue="True" stackable="false">
          <Conditional HasStatusTag="no02power" />        
      </StatusEffect>  

      <!-- DAMAGED: Captain, we have a leak! -->
      <StatusEffect type="Always" targettype="This" duration="5" condition="-0.5" setvalue="false" stackable="false" Comparison="And">
          <Conditional Voltage="gte 0.5" />
          <Conditional condition="lt 50" />       
          <Conditional condition="gt 0" />     
          <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="0" anglemax="90" velocitymin="500" velocitymax="1000" highqualitycollisiondetection="true"/>
          <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="15" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
          <Sound file="%ModDir%/Sound/pressure_relief2.ogg" range="100" loop="true" />
      </StatusEffect> 

      <!-- BROKEN: -->
      <StatusEffect type="OnBroken" targettype="This" disabledeltatime="true">
        <sound file="Content/Items/Weapons/ExplosionMedium3.ogg" range="8000" selectionmode="All"/>
        <sound file="Content/Items/Weapons/ExplosionDebris3.ogg" range="8000" />
        <Explosion range="200" stun="1" force="4.0" flames="false" shockwave="true" sparks="true" underwaterbubble="true"/>
      </StatusEffect>

    </OxygenGenerator>
  
    <trigger/>
  
    <ConnectionPanel selectkey="Action" canbeselected = "true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="750" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- REPAIR FAILURE - ON: -->
      <StatusEffect type="OnFailure" target="This,Character" condition="-50" setvalue="false" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="gte 0.5" />
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />   
        <Affliction identifier="lacerations" strength="15" />     
      </StatusEffect>

      <!-- REPAIR FAILURE - OFF: Safer when machine is off.  -->
      <StatusEffect type="OnFailure" target="This,Character" condition="-25" setvalue="false" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="lt 0.5" />
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />   
        <Affliction identifier="lacerations" strength="10" />     
      </StatusEffect>
     
    </Repairable>
  </Item>

  <!-- OXYGEN SUPPLY: (replaces but does not override oxygen generator) -->
<Item name="Oxygen Supply CoProd" identifier="oxygen_supply_cp" tags="oxygengenerator" category="Machine" linkable="true" allowedlinks="vent" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <Sprite texture="%ModDir%/Images/coprod.png" sourcerect="0,457,385,498" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/coprod.png" sourcerect="0,457,385,498" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="false" castshadows="false" allowingameediting="false" />
    <!-- SPRITE: Powered -->
    <LightComponent range="10.0" lightcolor="120,250,220,1" powerconsumption="1" IsOn="true" depth="0.75" castshadows="false" allowingameediting="false">
      <!-- <IsActive targetitemcomponent="PowerTransfer" overload="eq False" /> -->
    </LightComponent>

    <OxygenGenerator powerconsumption="1000.0" generatedAmount="0" minvoltage="0.5" canbeselected="true" msg="ItemMsgInteractSelect">
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />
      <sound file="Content/Items/OxygenGenerator/OxygenGenerator.ogg" type="OnActive" range="1000.0" volumeproperty="CurrFlow" volume="0.001" loop="true"/>    
      <StatusEffect type="OnFire" target="This" Condition="-0.5"/>
      
      <!-- Check for power. -->
      <StatusEffect type="Always" targettype="This" duration="2" tags="02power" stackable="false" IsOn="true" checkconditionalalways="true" disabledeltatime="true" Comparison="And">
          <Conditional Voltage="gte 0.5" targetitemcomponent="OxygenGenerator"/>      
          <Conditional condition="gt 0" />    
      </StatusEffect>

       <!-- Check for power. -->
      <StatusEffect type="Always" targettype="This" duration="2" tags="no02power" stackable="false" IsOn="false" checkconditionalalways="true" disabledeltatime="true">
          <Conditional Voltage="lt 0.5" targetitemcomponent="OxygenGenerator"/>          
      </StatusEffect>
      
      <!-- POWER: Set oxygen generation (2 minute delay) -->
      <StatusEffect type="Always" targettype="This" delay="120" checkconditionalalways="true" stackable="false" generatedAmount="5000" conditionMult="0.5" disabledeltatime="false" setvalue="True">
          <Conditional HasStatusTag="02power" />
        
      </StatusEffect>

      <!-- NO POWER: Reset oxygen generation -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" generatedAmount="0" conditionMult="0" CurrFlow="0" oxygenflow="0" disabledeltatime="True" setvalue="True" stackable="false">
          <Conditional HasStatusTag="no02power" />        
      </StatusEffect>  

      <!-- DAMAGED: Captain, we have a leak! -->
      <StatusEffect type="Always" targettype="This" duration="5" condition="-0.5" setvalue="false" stackable="false" Comparison="And">
          <Conditional Voltage="gte 0.5" />
          <Conditional condition="lt 50" />       
          <Conditional condition="gt 0" />     
          <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="0" anglemax="90" velocitymin="500" velocitymax="1000" highqualitycollisiondetection="true"/>
          <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="15" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
          <Sound file="%ModDir%/Sound/pressure_relief2.ogg" range="100" loop="true" />
      </StatusEffect> 

      <!-- BROKEN: -->
      <StatusEffect type="OnBroken" targettype="This" disabledeltatime="true">
        <sound file="Content/Items/Weapons/ExplosionMedium3.ogg" range="8000" selectionmode="All"/>
        <sound file="Content/Items/Weapons/ExplosionDebris3.ogg" range="8000" />
        <Explosion range="200" stun="1" force="4.0" flames="false" shockwave="true" sparks="true" underwaterbubble="true"/>
      </StatusEffect>

    </OxygenGenerator>
  
    <trigger/>
  
    <ConnectionPanel selectkey="Action" canbeselected = "true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="750" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- REPAIR FAILURE - ON: -->
      <StatusEffect type="OnFailure" target="This,Character" condition="-50" setvalue="false" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="gte 0.5" />
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />   
        <Affliction identifier="lacerations" strength="15" />     
      </StatusEffect>

      <!-- REPAIR FAILURE - OFF: Safer when machine is off.  -->
      <StatusEffect type="OnFailure" target="This,Character" condition="-25" setvalue="false" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="lt 0.5" />
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />   
        <Affliction identifier="lacerations" strength="10" />     
      </StatusEffect>
     
    </Repairable>
  </Item>

<!-- OXYGEN STATION: Compresses oxygen and uses it to fill smaller tanks or releases it in the event of an O2 shortage. --> 
  <Item name="Oxygen Station" identifier="oxygen_station" tags="oxygengenerator,oxygentankrefiller" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <Sprite texture="%ModDir%/Images/oxygen.png" sourcerect="0,512,384,404 " depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/oxygen.png" sourcerect="384,512,384,404 " origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/oxygen.png" sourcerect="384,512,384,404 " origin="0.5,0.5" depth="0.8" maxcondition="0" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="false" castshadows="false" allowingameediting="false" />

 
    <Powered powerconsumption="30" currpowerconsumption="30" isactive="true">
      <!-- <GuiFrame relativesize="0.18,0.15" minsize="350,160" maxsize="420,192" anchor="Center" relativeoffset="0,-0.1" style="ItemUI" msg="ItemMsgInteractSelect" /> -->
    
     
    <!-- Release oxygen in emergency (Statuseffect tags need to have a duration applied) -->
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" duration="10" stackable="false" Oxygen="5000" checkconditionalalways="false" Comparison="And"> 
       <Requireditem items="oxygentank_large" type="contained" excludebroken="true" targetslot="0" /> 
       <Conditional HasStatusTag="lowhulloxygen"/>
       <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="0" anglemax="0" velocitymin="1500" velocitymax="2000" highqualitycollisiondetection="true"/>
    </StatusEffect> 

  <!-- Remove Atmosphere Oxygen when filling slot0 - WHAT IS THIS FOR??? 10/31/2022  
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" Oxygen="-1000" checkconditionalalways="true" Comparison="And"> 
       <Conditional HullOxygenPercentage="gte 50" />
       <Conditional InWater="false" />
    </StatusEffect>  -->

    <!-- Compress 02 (Statuseffect tags need to have a duration applied) -->
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" Oxygen="-250" checkconditionalalways="true" Comparison="And"> 
       <Requireditem items="oxygentank_large" type="contained" excludefullcondition="true" targetslot="0" /> 
       <Requireditem items="electric_motor" type="contained" excludebroken="true" excludefullcondition="false" targetslot="2" /> 
       <Conditional HullOxygenPercentage="gt 80" />
       <Conditional Voltage="gt 0.1" />
       <Conditional InWater="false" />    
       <Sound file="%ModDir%/Sound/electric_compressor.ogg" range="750" loop="true" />    
    </StatusEffect> 

    <!-- CHECK: LOW HULL OXYGEN-->
     <StatusEffect type="Always" targettype="This" target="This,Hull" duration="1" stackable="false" tags="lowhulloxygen" checkconditionalalways="true" Comparison="And"> 
       <Conditional HullOxygenPercentage="lte 65" />
       <Conditional InWater="false" />
    </StatusEffect> 

     <!-- Refil main o2 tank  -->
        <StatusEffect type="Always" targettype="Contained" targetslot="0" targetitemtype="SubContainer" targetitemcomponent="SubContainer" duration="1" stackable="false" condition="10" Comparison="And"> 
          <Requireditem items="oxygentank_large" type="contained" excludebroken="false" excludefullcondition="true" targetslot="0" /> 
          <Requireditem items="electric_motor" type="contained" excludebroken="true" excludefullcondition="false" targetslot="2" /> 
          <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Powered"/>
          <Conditional InWater="false" />
          <Conditional HullOxygenPercentage="gt 80" />                      
        </StatusEffect>
    </Powered>
 
    <ItemContainer capacity="0" maxstacksize="1" slotsperrow="1" canbeselected="true" hideitems="true" itempos="31,-260" allowdraganddrop="false" iteminterval="44.5,0" msg="ItemMsgOxygenRefill">
      <GuiFrame relativesize="0.25,0.4" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/oxygentank_compressor.png" sourcerect="116,0,26,64" origin="0.5,0.45" />
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="128,0,64,64" origin="0.5,0.5" />  

      <SubContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false">
      <Containable items="oxygentank_large">
       
      <!-- Release oxygen in emergency from reserve tank  -->
        <StatusEffect type="OnContaining" targettype="Contained" targetslot="0" duration="10" stackable="false" checkconditionalalways="false" setvalue="false" condition="-100" Comparison="And"> 
          <Requireditem items="oxygentank_large" type="contained" excludebroken="true" targetslot="0" />  
          <Conditional HasStatusTag="lowhulloxygen" targetcontainer="true"/>
          
          <!-- <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />   -->
        </StatusEffect>

          <!-- Check for a non empty oxygentank in slot0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="oxygenavailibleinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="oxygentank_large" type="contained" targetslot="0"/>            
          </StatusEffect>

        <!-- Empty main o2 tank for bottle refill  -->
        <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" condition="-20" Comparison="And"> 
          <Conditional HasStatusTag="tanktofillinslot1" targetcontainer="true" />                         
          <Requireditem items="oxygentank_large" type="contained" excludebroken="true" targetslot="0" />              
          <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
 
        </StatusEffect>

          

      </Containable>
      </SubContainer>

      <SubContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false">
        <Containable items="oxygentank,refillableoxygensource" excludebroken="false" excludefullcondition="true">
                 
        <!-- Check for a fillable tank in slot 1  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="tanktofillinslot1" targetslot="1" duration="0.1" stackable="false" Comparison="And"> 
            
          </StatusEffect>

        <!-- Fill Oxygen Tank in slot1 -->
        <StatusEffect type="OnContaining" targettype="Contained" targetslot="1" Condition="20.0" Comparison="And">
            
            <Conditional HasStatusTag="oxygenavailibleinslot0" targetcontainer="true"/>             
            <Sound file="%ModDir%/Sound/remove_tank.ogg" range="1000" loop="false" />
        </StatusEffect>

        

        </Containable>
      </SubContainer>

      <!-- Slot2 -->
      <SubContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false">
        <Containable items="electric_motor" >
        
        <!-- Deteriorate electric motor when compressing air -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-0.5" Comparison="And"> 
          <Requireditem items="oxygentank_large" type="contained" excludebroken="false" excludefullcondition="true" targetslot="0" />  
          <Requireditem items="electric_motor" type="contained" excludebroken="true" excludefullcondition="false" targetslot="2" /> 
          <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Powered"/>
          <Conditional InWater="false" />
          <Conditional HullOxygenPercentage="gt 80" />               
        </StatusEffect>

        </Containable>
      </SubContainer>


    </ItemContainer>
    
    <ConnectionPanel selectkey="Action" canbeselected = "true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="750" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="15" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>
  </Item>

<!-- OXYGEN STATION: Compresses oxygen and uses it to fill smaller tanks or releases it in the event of an O2 shortage. --> 
  <Item name="Oxygen Station CoProd" identifier="oxygen_station_cp" tags="oxygengenerator,oxygentankrefiller" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <Sprite texture="%ModDir%/Images/coprod.png" sourcerect="416,557,379,399 " depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/coprod.png" sourcerect="416,557,379,399 " origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/coprod.png" sourcerect="416,557,379,399 " origin="0.5,0.5" depth="0.8" maxcondition="0" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="false" castshadows="false" allowingameediting="false" />

 
    <Powered powerconsumption="30" currpowerconsumption="30" isactive="true">
      <!-- <GuiFrame relativesize="0.18,0.15" minsize="350,160" maxsize="420,192" anchor="Center" relativeoffset="0,-0.1" style="ItemUI" msg="ItemMsgInteractSelect" /> -->
    
     
    <!-- Release oxygen in emergency (Statuseffect tags need to have a duration applied) -->
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" duration="10" stackable="false" Oxygen="5000" checkconditionalalways="false" Comparison="And"> 
       <Requireditem items="oxygentank_large" type="contained" excludebroken="true" targetslot="0" /> 
       <Conditional HasStatusTag="lowhulloxygen"/>
       <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="0" anglemax="0" velocitymin="1500" velocitymax="2000" highqualitycollisiondetection="true"/>
    </StatusEffect> 

  <!-- Remove Atmosphere Oxygen when filling slot0 - WHAT IS THIS FOR??? 10/31/2022  
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" Oxygen="-1000" checkconditionalalways="true" Comparison="And"> 
       <Conditional HullOxygenPercentage="gte 50" />
       <Conditional InWater="false" />
    </StatusEffect>  -->

    <!-- Compress 02 (Statuseffect tags need to have a duration applied) -->
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" Oxygen="-250" checkconditionalalways="true" Comparison="And"> 
       <Requireditem items="oxygentank_large" type="contained" excludefullcondition="true" targetslot="0" /> 
       <Requireditem items="electric_motor" type="contained" excludebroken="true" excludefullcondition="false" targetslot="2" /> 
       <Conditional HullOxygenPercentage="gt 80" />
       <Conditional Voltage="gt 0.1" />
       <Conditional InWater="false" />    
       <Sound file="%ModDir%/Sound/electric_compressor.ogg" range="750" loop="true" />    
    </StatusEffect> 

    <!-- CHECK: LOW HULL OXYGEN-->
     <StatusEffect type="Always" targettype="This" target="This,Hull" duration="1" stackable="false" tags="lowhulloxygen" checkconditionalalways="true" Comparison="And"> 
       <Conditional HullOxygenPercentage="lte 65" />
       <Conditional InWater="false" />
    </StatusEffect> 

     <!-- Refil main o2 tank  -->
        <StatusEffect type="Always" targettype="Contained" targetslot="0" targetitemtype="SubContainer" targetitemcomponent="SubContainer" duration="1" stackable="false" condition="10" Comparison="And"> 
          <Requireditem items="oxygentank_large" type="contained" excludebroken="false" excludefullcondition="true" targetslot="0" /> 
          <Requireditem items="electric_motor" type="contained" excludebroken="true" excludefullcondition="false" targetslot="2" /> 
          <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Powered"/>
          <Conditional InWater="false" />
          <Conditional HullOxygenPercentage="gt 80" />                      
        </StatusEffect>
    </Powered>
 
    <ItemContainer capacity="0" maxstacksize="1" slotsperrow="1" canbeselected="true" hideitems="true" itempos="31,-260" allowdraganddrop="false" iteminterval="44.5,0" msg="ItemMsgOxygenRefill">
      <GuiFrame relativesize="0.25,0.4" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/oxygentank_compressor.png" sourcerect="116,0,26,64" origin="0.5,0.45" />
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="128,0,64,64" origin="0.5,0.5" />  

      <SubContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false">
      <Containable items="oxygentank_large">
       
      <!-- Release oxygen in emergency from reserve tank  -->
        <StatusEffect type="OnContaining" targettype="Contained" targetslot="0" duration="10" stackable="false" checkconditionalalways="false" setvalue="false" condition="-100" Comparison="And"> 
          <Requireditem items="oxygentank_large" type="contained" excludebroken="true" targetslot="0" />  
          <Conditional HasStatusTag="lowhulloxygen" targetcontainer="true"/>
          
          <!-- <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />   -->
        </StatusEffect>

          <!-- Check for a non empty oxygentank in slot0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="oxygenavailibleinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="oxygentank_large" type="contained" targetslot="0"/>            
          </StatusEffect>

        <!-- Empty main o2 tank for bottle refill  -->
        <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" condition="-20" Comparison="And"> 
          <Conditional HasStatusTag="tanktofillinslot1" targetcontainer="true" />                         
          <Requireditem items="oxygentank_large" type="contained" excludebroken="true" targetslot="0" />              
          <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
 
        </StatusEffect>

          

      </Containable>
      </SubContainer>

      <SubContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false">
        <Containable items="oxygentank,refillableoxygensource" excludebroken="false" excludefullcondition="true">
                 
        <!-- Check for a fillable tank in slot 1  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="tanktofillinslot1" targetslot="1" duration="0.1" stackable="false" Comparison="And"> 
            
          </StatusEffect>

        <!-- Fill Oxygen Tank in slot1 -->
        <StatusEffect type="OnContaining" targettype="Contained" targetslot="1" Condition="20.0" Comparison="And">
            
            <Conditional HasStatusTag="oxygenavailibleinslot0" targetcontainer="true"/>             
            <Sound file="%ModDir%/Sound/remove_tank.ogg" range="1000" loop="false" />
        </StatusEffect>

        

        </Containable>
      </SubContainer>

      <!-- Slot2 -->
      <SubContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false">
        <Containable items="electric_motor" >
        
        <!-- Deteriorate electric motor when compressing air -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-0.5" Comparison="And"> 
          <Requireditem items="oxygentank_large" type="contained" excludebroken="false" excludefullcondition="true" targetslot="0" />  
          <Requireditem items="electric_motor" type="contained" excludebroken="true" excludefullcondition="false" targetslot="2" /> 
          <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Powered"/>
          <Conditional InWater="false" />
          <Conditional HullOxygenPercentage="gt 80" />               
        </StatusEffect>

        </Containable>
      </SubContainer>


    </ItemContainer>
    
    <ConnectionPanel selectkey="Action" canbeselected = "true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="750" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="15" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>
  </Item>


 <!-- OXYGENTANK COMPRESSOR: Compresses hull oxygen into tank. -->
  <Item name="Oxygen Tank Compressor" identifier="oxygentank_compressor" category="Diving" tags="container,oxygentankcontainer,oxygentankrefiller" pickdistance="50" scale="0.5">
    <Sprite name="Oxygen Tank Compressor" texture="%ModDir%/Images/mechtrauma.png" sourcerect="832,384,100,158" depth="0.84" origin="0.5,0.5" />
    <!-- SPRITE: GLASS -->
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="944,384,68,60" depth="0.825" offset="0,-36" origin="0.5,0.5"/>
    <!-- SPRITE: Electric Motor -->
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.83" sourcerect="512,0,124,104" origin="0.5,0.5" offset="0,-36" scale="0.5" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="electric_motor" targetcontainer="true" />       
    </DecorativeSprite>      
    <!-- SPRITE: Oxygentank -->
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.83" sourcerect="64,128,22,62" origin="0.5,0.5" offset="-18,38" scale="1.0" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="oxygentank" targetcontainer="true" />             
    </DecorativeSprite>      
    <!-- SPRITE: CO2 Cartridge -->
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.83" sourcerect="960,256,50,84" origin="0.5,0.5" offset="15,36" scale="0.75" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="co2_cartridge" targetcontainer="true" />       
    </DecorativeSprite>
    <!-- SPRITE: Powered -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="true" castshadows="false" allowingameediting="false">
      <sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="944,451,68,60" depth="0.82" origin="0.49,-0.1" alpha="1.0" />
      <IsActive targetitemcomponent="PowerTransfer" overload="eq False" />
    </LightComponent>
    
    <!--TODO: add light textures for powered-on state? A: I gotcha buddy. -->
    <Powered powerconsumption="30" currpowerconsumption="30" isactive="true">
      <GuiFrame relativesize="0.18,0.15" minsize="350,160" maxsize="420,192" anchor="Center" relativeoffset="0,-0.1" style="ItemUI" msg="ItemMsgInteractSelect" />    
    <!-- COMPRESSION: Compress Air-->
    <StatusEffect type="Always" targettype="This" target="This,Hull" setvalue="false" Oxygen="-50" checkconditionalalways="true" tags="compression" duration="0.1" stackable="false" Comparison="And"> 
       <Conditional HasStatusTag="fillailibleinslot0" />  
       <Conditional HasStatusTag="co2_cartridge_working" />  
       <Conditional HasStatusTag="electric_motor_working" />  
       <Conditional HullOxygenPercentage="gte 50" />
       <Conditional InWater="false" />
       <Conditional Voltage="gte 0.5"/>
       <Sound file="%ModDir%/Sound/electric_compressor.ogg" range="500" loop="true" />          
    </StatusEffect>  
    </Powered>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="20" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/Weapons/ElectricalDischarger.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="3" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <ParticleEmitter particle="spark" particleburstamount="5" particleburstinterval="1.05" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <input name="power_in" displayname="connection.powerin" />
    </ConnectionPanel> 
    <ItemContainer hideitems="true" maxstacksize="1" capacity="0" slotsperrow="1" itempos="49,-4" iteminterval="0,-70" itemrotation="0" canbeselected="true" containedspritedepth="0.83,0.83" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.4" anchor="Center" style="ItemUI" />
      
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="512,0,64,64" origin="0.5,0.45" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="640,0,64,64" origin="0.5,0.45" />
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="128,0,64,64" origin="0.5,0.45" />
    
      <!-- SLOT 0 -->
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="oxygentank,weldingfuel" excludebroken="false" excludefullcondition="false">
         
        <!-- SPRITE CHECK: Oxygentank in slot0  (Statuseffect tags need to have a duration applied) -->
        <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="oxygentank" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
          <Requireditem items="oxygentank" type="contained" targetslot="0" excludebroken="false" excludefullcondition="false"/>             
        </StatusEffect>

        <!-- CHECK: Fillable tank in slot 0  (Statuseffect tags need to have a duration applied) -->
        <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="fillailibleinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
          <Requireditem items="oxygentank" type="contained" targetslot="0" excludebroken="false" excludefullcondition="true"/>                      
        </StatusEffect>
    
        <!-- FILL: Oxygen Tank in slot0 -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="0.5" Comparison="And">
         <Conditional HasStatusTag="compression" targetcontainer="true"/>    
        </StatusEffect>

        </Containable>
      </SubContainer>

      <!-- SLOT 1 -->
      <SubContainer capacity="1" maxstacksize="1">
        <Containable items="co2_cartridge" excludebroken="false" excludefullcondition="false">
  
        <!-- SPRITECHECK: CO2 Cartridge in slot1  (Statuseffect tags need to have a duration applied) -->
        <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="co2_cartridge" targetslot="1" duration="0.1" stackable="false" Comparison="And"> 
          <Requireditem items="co2_cartridge" type="contained" targetslot="1" excludebroken="false" excludefullcondition="false"/>             
        </StatusEffect>

        <!-- CHECK: Working CO2 Cartridge in slot1  (Statuseffect tags need to have a duration applied) -->
        <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="co2_cartridge_working" targetslot="1" duration="0.1" stackable="false" Comparison="And"> 
          <Requireditem items="co2_cartridge" type="contained" targetslot="1" excludebroken="true" excludefullcondition="false"/>             
        </StatusEffect>
    
        <!-- DETERIORATE: Co2 Cartidge -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-0.1" Comparison="And"> 
            <Conditional HasStatusTag="compression" targetcontainer="true"/>    
        </StatusEffect>

        </Containable>
      </SubContainer>


      <!-- SLOT 2-->
      <SubContainer capacity="1" maxstacksize="1">
        <Containable items="electric_motor" excludebroken="false" excludefullcondition="false">
    
        <!-- PRESENT: Electric Motor in slot2  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="electric_motor" targetslot="2" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="electric_motor" type="contained" targetslot="2" excludebroken="false" excludefullcondition="false"/>             
          </StatusEffect>


        <!-- CHECKING: Working Electric Motor in slot 2  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="electric_motor_working" targetslot="2" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="electric_motor" type="contained" targetslot="2" excludebroken="true" excludefullcondition="false" />            
          </StatusEffect>
    
        <!-- DETERIORATE: Electric Motor -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-0.25" Comparison="And"> 
           <Conditional HasStatusTag="compression" targetcontainer="true"/>           
        </StatusEffect>

        </Containable>
      </SubContainer>

     
    </ItemContainer>
  </Item>

  <!-- =============< ELECTRICAL >=============  -->
  <Item name="MT Terminal" identifier="mt_terminal" category="Electrical" Tags="smallitem,logic" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light" isshootable="true">
    <Upgrade gameversion="0.10.0" scale="*0.5" />
    <Sprite texture="Content/Items/Electricity/signalcomp.png" depth="0.8" sourcerect="0,368,144,128" origin="0.5,0.3" canflipx="false" />
    <Price baseprice="200" minleveldifficulty="10">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" multiplier="0.9" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" />
    </Price>
    <PreferredContainer primary="reactorcab" secondary="engcab" />
    <Deconstruct time="10">
      <Item identifier="plastic" />
      <Item identifier="copper" />
      <Item identifier="tin" />
      <Item identifier="silicon" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="30">
      <RequiredSkill identifier="electrical" level="50" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="tin" />
      <RequiredItem identifier="silicon" />
    </Fabricate>
    <Body width="120" height="75" density="20" />
    <Terminal canbeselected="true" msg="ItemMsgInteractSelect" AllowInGameEditing="false">
      <GuiFrame relativesize="0.35,0.35" anchor="Center" style="ItemUI" />
    </Terminal>
    <Holdable selectkey="Select" pickkey="Use" slots="Any,RightHand,LeftHand" msg="ItemMsgDetachWrench" PickingTime="5.0" aimpos="65,-10" handle1="0,0" attachable="true" aimable="true" attachedbydefault="true">
      <RequiredItem items="wrench" type="Equipped" />
    </Holdable>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem identifier="screwdriver" type="Equipped" />
      <input name="signal_in" displayname="connection.signalin" />
      <output name="signal_out" displayname="connection.signalout" />
      <input name="set_text_color" displayname="connection.settextcolor" />
      <input name="clear_text" displayname="connection.cleartext" />
    </ConnectionPanel>
  </Item>

<!-- CENTRAL COMPUTER:-->   
  <Item name="Central Computer" identifier="central_computer" tags="mtu,centralcomputer,machine,command" linkable="true" allowedlinks="statusmonitor" scale="0.5" category="Machine" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="128,960,64,64" origin="0.5,0.45" />
    <Sprite texture="%ModDir%/Images/mechtrauma_command.png" sourcerect="384,384,236,368" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command.png" sourcerect="384,384,236,368" depth="0.8" maxcondition="80" fadein="true" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command.png" sourcerect="384,384,236,368" depth="0.8" maxcondition="0" origin="0.5,0.5" />

    <Powered powerconsumption="250" minvoltage="0.5" isactive="true"/>
    <RelayComponent canbeselected="true" vulnerabletoemp="true" maxoutput="250" canbeoverloaded="true" IsOn="False"/>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="20" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/Weapons/ElectricalDischarger.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="3" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <ParticleEmitter particle="spark" particleburstamount="5" particleburstinterval="1.05" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="state_out" displayname="connection.stateout" />
    </ConnectionPanel> 

    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="180" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2"  scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
    </Repairable>
  </Item>

<!-- MAINTENANCE TABLET:-->
  <Item name="Maintenance Tablet" identifier="mt_maintenance_tablet" category="Electrical" Tags="smallitem,logic" cargocontaineridentifier="metalcrate" scale="0.25" impactsoundtag="impact_metal_light" isshootable="true">    
    <Price baseprice="150">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" multiplier="0.9" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" />
    </Price>
    <PreferredContainer primary="engineering_console" secondary="engcab" />
    <!-- <InventoryIcon texture="Content/Items/InventoryIconAtlas2.png" sourcerect="323,193,60,61" origin="0.5,0.5" /> -->
    <Sprite texture="%ModDir%/Images/mt_computers.png" sourcerect="192,192,128,128" depth="0.8" origin="0.5,0.5" />
    <Body width="128" height="128" density="8" />
    <Holdable slots="Any,RightHand,LeftHand" holdangle="30" handle1="-50,0" msg="ItemMsgPickUpSelect" >
    
      <StatusEffect type="Always" targettype="This" tags="statusmonitorexpansion" drawhudwhenequipped="false" setvalue="true" duration="0.1" stackable="false" targetslot="0" Comparison="And">            
        <Conditional HasStatusTag="neq statusMonitorExpansion" target="this" />
      </StatusEffect> 
    </Holdable>
        
    <Terminal canbeselected="true" msg="ItemMsgInteractSelect" AllowInGameEditing="false" drawhudwhenequipped="true" allowuioverlap="false" draggable="false" >
      <GuiFrame relativesize="0.35,0.55" relativeoffset="0.0,0.0" anchor="TopCenter" style="ItemUI" />
    </Terminal>

      <!-- There is no way to completly close a window, at least i couldnt find a way, gui frame cant use status effects inside it -->
        <MiniMap enableitemfinder="false" enablehullstatus="true" enablehullcondition="true" enableelectricalview="false" drawhudwhenequipped="true" displaybordersize="0.0" characterusable="false" allowuioverlap="false">
            <GuiFrame relativesize="0.2,0.2" anchor="TopCenter" pivotr="TopRight" relativeoffset="-0.63,0.0" style="ItemUI"/>
        
            <StatusEffect type="OnWearing" target="This" enablehullstatus="false" enablehullcondition="false" setvalue="true"/>
            <StatusEffect type="OnWearing" target="This" enablehullstatus="true" enablehullcondition="true" setvalue="true" comparison="and">
                <RequiredItems items="handheldstatusmonitor" type="Contained" />           
            </StatusEffect>        
        
            <StatusEffect type="OnWearing" target="This" enableelectricalview="false" setvalue="true"/>
            <StatusEffect type="OnWearing" target="This" enableelectricalview="true" setvalue="true" comparison="and">
                <RequiredItem items="handheldelectricalmonitor" type="Contained"/>                
            </StatusEffect>
        </MiniMap>

    <ItemContainer capacity="1" maxstacksize="1" canbeselected="true" hideitems="true" msg="ItemMsgOxygenRefill">    
        <Containable items="handheldstatusmonitor" excludebroken="true" excludefullcondition="false" >

          <!-- Status Monitor Expansion -->
          <StatusEffect type="OnContaining" targettype="This" targetitemcomponent="minimap" targetslot="0" drawhudwhenequipped="true" setvalue="true" Comparison="And"/>            
          <StatusEffect type="OnContaining" targettype="This" tags="statusMonitorExpansion" duration="0.1" stackable="false" setvalue="true" targetslot="0" Comparison="And">            
           
          </StatusEffect>
        
        </Containable>
     
    </ItemContainer>
    
    <CustomInterface canbeselected="true" allowuioverlap="false" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.175,0.15" anchor="Center" relativeoffset="-0.01,0.2" style="ItemUI" linkuitocomponent="ItemContainer" />
     
      <!-- REPORT: POWER CONSUMPTION: -->
      <Button text="Power Consumption Report">
        <StatusEffect type="OnUse" target="This" >
          <LuaHook name="maintenanceTablet_pcr.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>    
      </Button>

      <!-- REPORT: Co2 FILTER STATUS-->
       <Button text="Co2 Filter Status Report">
        <StatusEffect type="OnUse" target="This">
          <LuaHook name="maintenanceTablet_csr.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>
      </Button>
      
    </CustomInterface>
     <CustomInterface canbeselected="true" allowuioverlap="false" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.175,0.15" anchor="Center" relativeoffset="0.01,0.2" style="ItemUI" linkuitocomponent="ItemContainer" />
     
      <!-- REPORT: BALLAST PUMPS: -->
      <Button text="Pump Status Report">
        <StatusEffect type="OnUse" target="This" >
          <LuaHook name="maintenanceTablet_pr.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>    
      </Button>
      
      <!-- Report 4: -->
       <Button text="FUSE STATUS REPORT">
        <StatusEffect type="OnUse" target="This">
          <LuaHook name="maintenanceTablet_fsr.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>
      </Button>
      
    </CustomInterface>
  </Item>

  <!-- MAINTENANCE TABLET:-->
  <Item name="Medical Tablet" identifier="mt_medical_tablet" category="Electrical" Tags="smallitem,logic" cargocontaineridentifier="metalcrate" scale="0.25" impactsoundtag="impact_metal_light" isshootable="true">    
    <Price baseprice="150">      
      <Price storeidentifier="merchantcity" multiplier="0.5" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" />
    </Price>
    <!-- <PreferredContainer primary="engineering_console" secondary="engcab" /> -->
    <!-- <InventoryIcon texture="Content/Items/InventoryIconAtlas2.png" sourcerect="323,193,60,61" origin="0.5,0.5" /> -->
    <Sprite texture="%ModDir%/Images/mt_computers.png" sourcerect="64,192,128,128" depth="0.8" origin="0.5,0.5" />
    <Body width="128" height="128" density="8" />
    <Holdable slots="Any,RightHand,LeftHand" holdangle="30" handle1="-10,0" msg="ItemMsgPickUpSelect" />
        
    <Terminal canbeselected="true" msg="ItemMsgInteractSelect" AllowInGameEditing="false" drawhudwhenequipped="true" allowuioverlap="false" draggable="false" >
      <GuiFrame relativesize="0.35,0.55" relativeoffset="0.0,0.0" anchor="TopCenter" style="ItemUI" />
    </Terminal>

    <ItemContainer capacity="1" maxstacksize="1" canbeselected="true" hideitems="true" msg="ItemMsgOxygenRefill">    
        <Containable items="handheldstatusmonitor" excludebroken="true" excludefullcondition="false" >

        </Containable>
     
    </ItemContainer>
    
    <CustomInterface canbeselected="true" allowuioverlap="false" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.175,0.15" anchor="Center" relativeoffset="-0.01,0.2" style="ItemUI" linkuitocomponent="ItemContainer" />
     
      <!-- REPORT:  HEMATOLOGY REPORT: -->
      <Button text="Hematology Report">
        <StatusEffect type="OnUse" target="This" >
          <LuaHook name="medicalTablet_hR.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>    
      </Button>

      <!-- REPORT: TBD -->
      <Button text="REPORT TBD">
        <StatusEffect type="OnUse" target="This" >
          <LuaHook name="maintenanceTablet_pr.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>    
      </Button>

      
      
    </CustomInterface>
     <CustomInterface canbeselected="true" allowuioverlap="false" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.175,0.15" anchor="Center" relativeoffset="0.01,0.2" style="ItemUI" linkuitocomponent="ItemContainer" />
     
      <!-- REPORT: Pharmacy Inventory -->
       <Button text="Pharmacy Report">
        <StatusEffect type="OnUse" target="This">
          <LuaHook name="medicalTablet_pR.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>
      </Button>
      
      <!-- REPORT: TBD -->
      <Button text="REPORT TBD">
        <StatusEffect type="OnUse" target="This">
          <LuaHook name="maintenanceTablet_fsr.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>
      </Button>
      
    </CustomInterface>
  </Item>

<!-- STATUS CONSOLE: -->
<Item name="Status Console" identifier="status_console" tags="mtu,ccn,command,statusmonitor,mobileradio" aliases="MiniMap" category="Machine" linkable="true" scale="0.5" allowedlinks="navterminal,command_console" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="64,987,28,20" origin="0.5,0.45" />  
    <Sprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,1024,298,233" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,1024,298,233" depth="0.8" maxcondition="80" fadein="true" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,1024,298,233" depth="0.8" maxcondition="0" origin="0.5,0.5" />
    
    <LightComponent range="10.0" lightcolor="120,255,180,0" powerconsumption="5" Flicker="0.5" FlickerSpeed="0.2" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,1280,298,233" depth="0.025" origin="0.5,0.5" alpha="1.0" />
    </LightComponent>


    <MiniMap MinVoltage="0.5" PowerConsumption="100" canbeselected="true" msg="ItemMsgInteractSelect" allowuioverlap="true">
      <GuiFrame relativesize="0.5,0.5" anchor="Center" style="ItemUI" />
      <AlternativeLayout relativesize="0.2725,0.3" anchor="CenterLeft" pivot="BottomLeft" relativeoffset="0.05,-0.001"/>
      <poweronsound file="Content/Items/PowerOnLight3.ogg" range="1000" loop="false" />
      <sound file="Content/Sounds/UI/DeadMsg.ogg" type="OnPicked" range="1000.0" onlyinsamesub="true"/>      
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact.ogg" range="1000" /> 
      </StatusEffect>
      
          <!-- 
    <LightComponent range="10.0" lightcolor="120,255,180,0" powerconsumption="5" Flicker="0.5" FlickerSpeed="0.2" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,496,302,232" depth="0.025" origin="0.5,0.5" alpha="1.0" />
    </LightComponent> -->
 
    </MiniMap>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <requireditem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="water_data_in" displayname="connection.waterdatain" />
      <input name="oxygen_data_in" displayname="connection.oxygendatain" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.15" mindeteriorationdelay="120" maxdeteriorationdelay="480" MinDeteriorationCondition="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2"  scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
    </Repairable>
  </Item>

<!-- ENGINEERING CONSOLE-->
<Item name="Engineering Console" identifier="engineering_console" tags="mtu,ccn,command,statusmonitor" aliases="MiniMap" category="Machine" linkable="false" scale="0.5" allowedlinks="navterminal,command" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="64,987,28,20" origin="0.5,0.45" />
     <Sprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,0,302,232" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,768,302,232" depth="0.8" maxcondition="80" fadein="true" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,256,302,232" depth="0.8" maxcondition="0" origin="0.5,0.5" />
    <LightComponent range="10.0" lightcolor="120,255,180,0" powerconsumption="5" Flicker="0.5" FlickerSpeed="0.2" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="0,512,302,232" depth="0.025" origin="0.5,0.5" alpha="1.0" />
    </LightComponent>
    <MiniMap MinVoltage="0.5" PowerConsumption="100" canbeselected="true" msg="ItemMsgInteractSelect" allowuioverlap="false">
      <GuiFrame relativesize="0.5,0.5" minsize="600,475" anchor="TopCenter" relativeoffset="0.0,0.0" style="ItemUI" allowuioverlap="false" /> 
      <!-- <AlternativeLayout relativesize="0.2725,0.3" anchor="CenterLeft" pivot="BottomLeft" relativeoffset="0.05,-0.001"/> -->     
      <poweronsound file="Content/Items/PowerOnLight3.ogg" range="1000" loop="false" />
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact.ogg" range="1000" /> 
      </StatusEffect>
    </MiniMap>
    <ItemContainer capacity="3" maxstacksize="1" itemsperrow="1" slotsperrow="1" canbeselected="true" hideitems="false" itempos="56,-147" containedspritedepth="0.79">
      <GuiFrame relativesize="0.1,0.5" anchor="TopCenter" allowuioverlap="false" style="ItemUI" relativeoffset="0.1,0.0" uilabel="Key" /> <!-- relativeoffset DOWN:0.0,0.5 UP:0.0,-0.5 LEFT:0.5,0.0 RIGHT:-0.5,0.0-->
      <Containable items="mt_maintenance_tablet,handheldstatusmonitor,handheldelectricalmonitor" excludebroken="false" excludefullcondition="false" >     
    </Containable>
      
    </ItemContainer>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <requireditem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="water_data_in" displayname="connection.waterdatain" />
      <input name="oxygen_data_in" displayname="connection.oxygendatain" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.15" mindeteriorationdelay="120" maxdeteriorationdelay="480" MinDeteriorationCondition="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2"  scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
    </Repairable>
  </Item>

  <!-- COMMAND: Mechtrauma alternative, Nav Terminal -->
  <Item name="Command Console" identifier="command_console" tags="mtu,ccn,command,navterminal,primarynavterminal" linkable="true" allowedlinks="statusmonitor,status_console" scale="0.5" category="Machine" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="128,960,64,64" origin="0.5,0.45" />
    <Sprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="318,0,454,276" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="318,581,454,276" depth="0.8" maxcondition="80" fadein="true" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="318,288,454,276" depth="0.8" maxcondition="0" origin="0.5,0.5" />
    <Steering minvoltage="0.5" canbeselected="true" powerconsumption="10" linkuitocomponent="Sonar" msg="ItemMsgInteractSelect" allowuioverlap="true" hudlayer="-1">
      <GuiFrame relativesize="0.55,0.59" anchor="Center" style="OuterGlow" color="0,0,0,0.8" relativeoffset="0.1,-0.05" draggable="false" />
      <StatusEffect type="InWater" target="This" condition="-0.5" />
      <poweronsound file="Content/Items/PowerOnLight1.ogg" range="1000" loop="false" />
      <MaintainPosIndicator texture="Content/Items/Command/NavUI.png" sourcerect="50,0,60,61" />
      <MaintainPosOriginIndicator texture="Content/Items/Command/NavUI.png" sourcerect="0,0,50,54" />
      <SteeringIndicator texture="Content/Items/Command/NavUI.png" sourcerect="0,135,362,16" origin="0,0.5"/>
      <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">        
        <sprite  texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="318,895,454,276" depth="0.025" origin="0.5,0.5" alpha="1.0" />
      </LightComponent>
            <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" blinkfrequency="1" allowingameediting="false">        
        <sprite  texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="318,1227,454,276" depth="0.025" origin="0.5,0.5" alpha="1.0" />
      </LightComponent>
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact.ogg" range="1000" /> 
      </StatusEffect>
      <!--<LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">
        <Upgrade gameversion="0.9.600.0" lightcolor="255,255,255,0"/>
        <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="0,0,384,304" origin="0.5,0.5" alpha="1.0" />
      </LightComponent>
      <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" blinkfrequency="1" allowingameediting="false">
        <Upgrade gameversion="0.9.600.0" lightcolor="255,255,255,0"/>
        <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="400,0,384,304" origin="0.5,0.5" alpha="1.0" />
      </LightComponent> -->
    </Steering>
    <aitarget sightrange="200" soundrange="8000" staticsight="true" fadeouttime="5" />
    <Sonar canbeselected="true" powerconsumption="100" displaybordersize="-0.1" allowuioverlap="true" hudlayer="-2">
      <GuiFrame relativesize="0.55,0.59" anchor="Center" relativeoffset="0.1,-0.05" draggable="false" />
      <sound file="Content/Items/Command/SonarPing.ogg" type="OnUse" range="1000.0" />
      <sound file="Content/Items/Command/SonarPing2.ogg" type="OnUse" range="1000.0" />
      <StatusEffect type="OnUse">
        <sound file="Content/Items/Command/SonarPingFar.ogg"  type="OnUse" range="6000.0" volume="0.8" />
        <sound file="Content/Items/Command/SonarPingFar2.ogg" type="OnUse" range="6000.0" volume="0.8" />
      </StatusEffect>
      <PingCircle texture="Content/Items/Command/pingCircle.png" origin="0.5,0.5" />
      <DirectionalPingCircle texture="Content/Items/Command/directionalPingCircle.png" origin="0.0,0.5" />
      <ScreenOverlay texture="Content/Items/Command/sonarOverlay.png" origin="0.5,0.5" />
      <ScreenBackground texture="Content/Items/Command/sonarBackground.png" origin="0.5,0.5" />
      <DirectionalPingBackground texture="Content/Items/Command/directionalPingBackground.png" origin="0.5,0.5" />
      <DirectionalPingButton index="0" texture="Content/Items/Command/directionalPingButton.png" sourcerect="0,0,91,266" origin="-4.5275,0.5" />
      <DirectionalPingButton index="1" texture="Content/Items/Command/directionalPingButton.png" sourcerect="133,0,91,266" origin="-4.5275,0.5" />
      <DirectionalPingButton index="2" texture="Content/Items/Command/directionalPingButton.png" sourcerect="266,0,91,266" origin="-4.5275,0.5" />
      <Blip texture="Content/Items/Command/sonarBlip.png" origin="0.5,0.5" />
      <LineSprite texture="Content/Items/Command/NavUI.png" sourcerect="181,141,109,4" origin="0,0.5"/>
      <icon identifier="outpost" texture="Content/UI/MainIconsAtlas.png" sourcerect="352,398,16,8" origin="0.5,0.5"/>
      <icon identifier="submarine" texture="Content/UI/MainIconsAtlas.png" sourcerect="353,407,14,6" origin="0.5,0.5"/>
      <icon identifier="shuttle" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,407,8,6" origin="0.5,0.5"/>
      <icon identifier="artifact" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,414,8,8" origin="0.5,0.5"/>
      <icon identifier="location" texture="Content/UI/MainIconsAtlas.png" sourcerect="349,435,11,11" origin="0.5,0.5"/>
      <icon identifier="mineral" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,434,7,12" origin="0.5,0.5"/>
      <icon identifier="" texture="Content/UI/MainIconsAtlas.png" sourcerect="346,416,4,4" origin="0.5,0.5"/>
    </Sonar>
    
    <CustomInterface canbeselected="true" allowuioverlap="true">
      <GuiFrame relativesize="0.15,0.18" anchor="CenterLeft" pivot="TopLeft" relativeoffset="0.1125,0.001" style="ItemUI" />
      <Button text="Signal out #1" connection="signal_out1" />
      <Button text="Signal out #2" connection="signal_out2" />
      <Button text="Signal out #3" connection="signal_out3" />
    </CustomInterface>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.25,0.4" minsize="400,450" maxsize="480,500" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <requireditem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="transducer_in" displayname="connection.sonartransducerin" />
      <input name="velocity_in" displayname="connection.steeringvelocityin" />
      <output name="velocity_x_out" displayname="connection.velocityxout" />
      <output name="velocity_y_out" displayname="connection.velocityyout" />
      <output name="signal_out1" displayname="connection.signaloutx~[num]=1" />
      <output name="signal_out2" displayname="connection.signaloutx~[num]=2" />
      <output name="signal_out3" displayname="connection.signaloutx~[num]=3" />
      <output name="toggle_docking" displayname="connection.toggledocking" />
      <output name="current_velocity_x" displayname="connection.currentvelocityx" />
      <output name="current_velocity_y" displayname="connection.currentvelocityy" />
      <output name="current_position_x" displayname="connection.currentpositionx" />
      <output name="current_position_y" displayname="connection.currentpositiony" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="180" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2"  scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
    </Repairable>
  </Item>

  <Item name="Navigators Chair" identifier="mt_navterminal" tags="mtu,ccn,command,navterminal,primarynavterminal,chair" linkable="false" allowattachitems="false" scale="0.5" category="Machine" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="128,960,64,64" origin="0.5,0.45" />
    <Sprite texture="%ModDir%/Images/mechtrauma_command.png" sourcerect="20,115,332,270" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command.png" sourcerect="20,115,332,270" depth="0.8" maxcondition="80" fadein="true" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_command.png" sourcerect="20,115,332,270" depth="0.8" maxcondition="0" origin="0.5,0.5" />

    <!-- Chair -->
    <Controller UserPos="0,0" direction="Right" hidehud="true" canbeselected="true" issecondaryitem="false">
      <limbposition limb="Head" position="55,-20" allowusinglimb="true"/>
      <limbposition limb="Torso" position="55,-100" allowusinglimb="false"  />
      <limbposition limb="Waist" position="95,-190" allowusinglimb="false"  />
      <limbposition limb="RightFoot" position="180,-145" allowusinglimb="false" />
      <limbposition limb="LeftFoot" position="180,-145" allowusinglimb="false" />
      <limbposition limb="LeftHand" position="110,-100" allowusinglimb="true" />
      <limbposition limb="RightHand" position="110,-100" allowusinglimb="true" />
      
      <!-- BUCKLE UP!: -->
      <StatusEffect type="OnActive" setvalue="true" stackable="false" target="Character">           
        <Affliction identifier="Buckled" amount="100" />        
      </StatusEffect>         
    </Controller>   
   
    <Steering minvoltage="0.5" canbeselected="true" powerconsumption="10" linkuitocomponent="Sonar" msg="ItemMsgInteractSelect" allowuioverlap="true" hudlayer="-1">
      <GuiFrame relativesize="0.55,0.59" anchor="Center" style="OuterGlow" color="0,0,0,0.8" relativeoffset="0.1,-0.05" draggable="false" />
      <StatusEffect type="InWater" target="This" condition="-0.5" />
      <poweronsound file="Content/Items/PowerOnLight1.ogg" range="1000" loop="false" />
      <MaintainPosIndicator texture="Content/Items/Command/NavUI.png" sourcerect="50,0,60,61" />
      <MaintainPosOriginIndicator texture="Content/Items/Command/NavUI.png" sourcerect="0,0,50,54" />
      <SteeringIndicator texture="Content/Items/Command/NavUI.png" sourcerect="0,135,362,16" origin="0,0.5"/>
      <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">        
        <sprite  texture="%ModDir%/Images/mechtrauma_command_final.png" sourcerect="318,896,454,276" depth="0.025" origin="0.5,0.5" alpha="1.0" />
      </LightComponent>
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact.ogg" range="1000" /> 
      </StatusEffect>
    </Steering>
    <aitarget sightrange="200" soundrange="8000" staticsight="true" fadeouttime="5" />
    <Sonar canbeselected="true" powerconsumption="100" displaybordersize="-0.1" allowuioverlap="true" hudlayer="-2">
      <GuiFrame relativesize="0.55,0.59" anchor="Center" relativeoffset="0.1,-0.05" draggable="false" />
      <sound file="Content/Items/Command/SonarPing.ogg" type="OnUse" range="1000.0" />
      <sound file="Content/Items/Command/SonarPing2.ogg" type="OnUse" range="1000.0" />
      <StatusEffect type="OnUse">
        <sound file="Content/Items/Command/SonarPingFar.ogg"  type="OnUse" range="6000.0" volume="0.8" />
        <sound file="Content/Items/Command/SonarPingFar2.ogg" type="OnUse" range="6000.0" volume="0.8" />
      </StatusEffect>
      <PingCircle texture="Content/Items/Command/pingCircle.png" origin="0.5,0.5" />
      <DirectionalPingCircle texture="Content/Items/Command/directionalPingCircle.png" origin="0.0,0.5" />
      <ScreenOverlay texture="Content/Items/Command/sonarOverlay.png" origin="0.5,0.5" />
      <ScreenBackground texture="Content/Items/Command/sonarBackground.png" origin="0.5,0.5" />
      <DirectionalPingBackground texture="Content/Items/Command/directionalPingBackground.png" origin="0.5,0.5" />
      <DirectionalPingButton index="0" texture="Content/Items/Command/directionalPingButton.png" sourcerect="0,0,91,266" origin="-4.5275,0.5" />
      <DirectionalPingButton index="1" texture="Content/Items/Command/directionalPingButton.png" sourcerect="133,0,91,266" origin="-4.5275,0.5" />
      <DirectionalPingButton index="2" texture="Content/Items/Command/directionalPingButton.png" sourcerect="266,0,91,266" origin="-4.5275,0.5" />
      <Blip texture="Content/Items/Command/sonarBlip.png" origin="0.5,0.5" />
      <LineSprite texture="Content/Items/Command/NavUI.png" sourcerect="181,141,109,4" origin="0,0.5"/>
      <icon identifier="outpost" texture="Content/UI/MainIconsAtlas.png" sourcerect="352,398,16,8" origin="0.5,0.5"/>
      <icon identifier="submarine" texture="Content/UI/MainIconsAtlas.png" sourcerect="353,407,14,6" origin="0.5,0.5"/>
      <icon identifier="shuttle" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,407,8,6" origin="0.5,0.5"/>
      <icon identifier="artifact" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,414,8,8" origin="0.5,0.5"/>
      <icon identifier="location" texture="Content/UI/MainIconsAtlas.png" sourcerect="349,435,11,11" origin="0.5,0.5"/>
      <icon identifier="mineral" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,434,7,12" origin="0.5,0.5"/>
      <icon identifier="" texture="Content/UI/MainIconsAtlas.png" sourcerect="346,416,4,4" origin="0.5,0.5"/>
    </Sonar>
    
    <CustomInterface canbeselected="true" allowuioverlap="true">
      <GuiFrame relativesize="0.15,0.18" anchor="CenterLeft" pivot="TopLeft" relativeoffset="0.1125,0.001" style="ItemUI" />
      <Button text="Signal out #1" connection="signal_out1" />
      <Button text="Signal out #2" connection="signal_out2" />
      <Button text="Signal out #3" connection="signal_out3" />
    </CustomInterface>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.25,0.4" minsize="400,450" maxsize="480,500" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <requireditem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="transducer_in" displayname="connection.sonartransducerin" />
      <input name="velocity_in" displayname="connection.steeringvelocityin" />
      <output name="velocity_x_out" displayname="connection.velocityxout" />
      <output name="velocity_y_out" displayname="connection.velocityyout" />
      <output name="signal_out1" displayname="connection.signaloutx~[num]=1" />
      <output name="signal_out2" displayname="connection.signaloutx~[num]=2" />
      <output name="signal_out3" displayname="connection.signaloutx~[num]=3" />
      <output name="toggle_docking" displayname="connection.toggledocking" />
      <output name="current_velocity_x" displayname="connection.currentvelocityx" />
      <output name="current_velocity_y" displayname="connection.currentvelocityy" />
      <output name="current_position_x" displayname="connection.currentpositionx" />
      <output name="current_position_y" displayname="connection.currentpositiony" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>
    
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="180" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2"  scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
    </Repairable>
  </Item>

<!-- EMERGENCY DISCONNECT: Electrical -->
<Item name="Emergency Disconnect" identifier="emergency_disconnect" category="Electrical" tags="smallitem,switch" allowedlinks="door" linkable="true" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light" isshootable="true">
    <Price baseprice="125" minavailable="4">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" sold="false" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="10"/>
    </Price>     
    <Deconstruct time="10">
      <Item identifier="plastic" amount="2" />
      <Item identifier="copper" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="10">
      <RequiredSkill identifier="electrical" level="25" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="plastic" />
    </Fabricate>
    
    <!--<Sprite texture="Content/Items/Button/button.png" sourcerect="64,1,63,62" depth="0.79" origin="0.5,0.5" />-->
    <Sprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="0,256,64,114" depth="0.79" origin="0.5,0.5" />
    
    <!-- DISCONNECTED LIGHT -->
    <LightComponent range="10.0" lightcolor="200,255,200,50" powerconsumption="0" MinVoltage="0.0" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="64,256,64,114" depth="0.78" origin="0.5,0.5" alpha="250.0" />      
      <IsActive targetitemcomponent="Controller" State="eq False" />    
    </LightComponent>
    
    <!-- DISCONNECTED LEVER -->
    <DecorativeSprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="320,256,64,114" depth="0.77" origin="0.5,0.5">
      <IsActiveConditional targetitemcomponent="Controller" State="eq False" />
    </DecorativeSprite>

    <!-- CONNECTED LIGHT -->
    <LightComponent range="10.0" lightcolor="255,200,200,50" powerconsumption="0" IsOn="False" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="128,256,64,114" depth="0.78" origin="0.5,0.5" alpha="250.0" />      
      <IsActive targetitemcomponent="Controller" State="eq True" />    
    </LightComponent>

    <!-- CONNECTED LEVER -->
    <DecorativeSprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="256,256,64,114" depth="0.77" origin="0.5,0.5">
      <IsActiveConditional targetitemcomponent="Controller" State="eq True" />
    </DecorativeSprite>
   
    <Body width="18" height="31" density="20" />
    <Controller direction="None" state="true" canbepicked="true" istoggle="true" msg="ItemMsgPressSelect">
      <sound file="Content/Items/Button/Switch1.ogg" type="OnUse" range="250.0" />
      <sound file="Content/Items/Button/Switch2.ogg" type="OnUse" range="250.0" />
    </Controller>

    <RelayComponent canbeselected="true" vulnerabletoemp="true" maxpower="10000" maxoutput="10000" canbeoverloaded="false" IsOn="False">
      <!-- <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" /> -->

      <!-- ON: -->
      <StatusEffect type="Always" target="This" targetitemcomponent="RelayComponent" delay="1" stackable="false" checkconditionalways="true" IsOn="False" Comparison="And">
        <Conditional State="eq False" targetitemcomponent="Controller" />       
      </StatusEffect> 

      <!-- OFF: -->
      <StatusEffect type="Always" target="This" targetitemcomponent="RelayComponent" delay="1" stackable="false" checkconditionalways="true" IsOn="True">
        <!--<Conditional HasStatusTag="neq ON" /> -->
        <Conditional State="eq True" targetitemcomponent="Controller" />       
      </StatusEffect>      

    </RelayComponent>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem identifier="screwdriver" type="Equipped" />
      <output name="power_out" displayname="connection.powerout" />
        <input name="power_in" displayname="connection.powerin" />
        <input name="signal_in" displayname="connection.singalin" />
      <output name="signal_out" displayname="connection.signalout" />
    </ConnectionPanel>
    <Holdable selectkey="Select" pickkey="Use" slots="Any,RightHand,LeftHand" msg="ItemMsgDetachWrench" PickingTime="10.0" aimpos="35,-10" handle1="0,0" attachable="true" attachedbydefault="true" aimable="true">
      <requireditem identifier="wrench" type="Equipped" />
    </Holdable>
  </Item>

    
<!-- STEAM SHUT OFF VALVE: Steam -->
<Item name="Steam Valve" identifier="steam_valve" category="Electrical" tags="smallitem,switch" allowedlinks="door" linkable="true" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light" isshootable="true">
    <Price baseprice="125" minavailable="4">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" sold="false" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="10"/>
    </Price>     
    <Deconstruct time="10">
      <Item identifier="plastic" amount="2" />
      <Item identifier="copper" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="10">
      <RequiredSkill identifier="electrical" level="25" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="plastic" />
    </Fabricate>
    
    
    <Sprite texture="%ModDir%/Images/mechtrauma_plumbing.png" sourcerect="0,0,64,114" depth="0.79" origin="0.5,0.5" />
    
    <!-- CLOSED LIGHT -->
    <LightComponent range="10.0" lightcolor="200,255,200,50" powerconsumption="0" MinVoltage="0.0" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_plumbing.png" sourcerect="64,0,64,114" depth="0.78" origin="0.5,0.5" alpha="250.0" />      
      <IsActive targetitemcomponent="Controller" State="eq False" />    
    </LightComponent>
    
    <!-- DISCONNECTED LEVER 
    <DecorativeSprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="320,256,64,114" depth="0.77" origin="0.5,0.5">
      <IsActiveConditional targetitemcomponent="Controller" State="eq False" />
    </DecorativeSprite>-->

    <!-- OPEN LIGHT -->
    <LightComponent range="10.0" lightcolor="255,200,200,50" powerconsumption="0" IsOn="False" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_plumbing.png" sourcerect="128,0,64,114" depth="0.78" origin="0.5,0.5" alpha="250.0" />      
      <IsActive targetitemcomponent="Controller" State="eq True" />    
    </LightComponent>

    <!-- CONNECTED LEVER 
    <DecorativeSprite texture="%ModDir%/Images/Electrical/mechtrauma_electrical.png" sourcerect="256,256,64,114" depth="0.77" origin="0.5,0.5">
      <IsActiveConditional targetitemcomponent="Controller" State="eq True" />
    </DecorativeSprite>-->
   
    <Body width="18" height="31" density="20" />
    <Controller direction="None" state="true" canbepicked="true" istoggle="true" msg="ItemMsgPressSelect">
      <sound file="Content/Items/Button/Switch1.ogg" type="OnUse" range="250.0" />
      <sound file="Content/Items/Button/Switch2.ogg" type="OnUse" range="250.0" />
    </Controller>


    <RelayComponent canbeselected="true" vulnerabletoemp="true" maxpower="10000" maxoutput="10000" canbeoverloaded="false" IsOn="False">
      <!-- <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" /> -->

      <!-- ON: -->
      <StatusEffect type="Always" target="This" targetitemcomponent="RelayComponent" delay="1" stackable="false" checkconditionalways="true" IsOn="False" Comparison="And">
        <Conditional State="eq False" targetitemcomponent="Controller" />       
      </StatusEffect> 

      <!-- OFF: -->
      <StatusEffect type="Always" target="This" targetitemcomponent="RelayComponent" delay="1" stackable="false" checkconditionalways="true" IsOn="True">
        <!--<Conditional HasStatusTag="neq ON" /> -->
        <Conditional State="eq True" targetitemcomponent="Controller" />       
      </StatusEffect>      

    </RelayComponent>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem identifier="screwdriver" type="Equipped" />
      <output name="steam_out" displayname="connection.steamout" />
        <input name="steam_in" displayname="connection.steamin" />
        <input name="signal_in" displayname="connection.singalin" />
      <output name="signal_out" displayname="connection.signalout" />
    </ConnectionPanel>
    <Holdable selectkey="Select" pickkey="Use" slots="Any,RightHand,LeftHand" msg="ItemMsgDetachWrench" PickingTime="10.0" aimpos="35,-10" handle1="0,0" attachable="true" attachedbydefault="true" aimable="true">
      <requireditem identifier="wrench" type="Equipped" />
    </Holdable>
  </Item>

<!-- Mechanical Clutch: Kinnetic Disconnect -->
<Item name="Mechanical Clutch" identifier="kinetic_clutch" category="Machine" tags="smallitem,switch" allowedlinks="door" linkable="true" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light" isshootable="true">
    <Price baseprice="125" minavailable="4">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" sold="false" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="10"/>
    </Price>     
    <Deconstruct time="10">
      <Item identifier="Steel" amount="2" />      
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="10">
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem identifier="steel" amount="4"/>            
    </Fabricate>
    
    
    <Sprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="1408,0,192,192" depth="0.79" origin="0.5,0.5" />
    
    <!-- CLOSED LIGHT 
    <LightComponent range="10.0" lightcolor="200,255,200,50" powerconsumption="0" MinVoltage="0.0" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_plumbing.png" sourcerect="64,0,64,114" depth="0.78" origin="0.5,0.5" alpha="250.0" />      
      <IsActive targetitemcomponent="Controller" State="eq False" />    
    </LightComponent>-->
    
    <!-- DISCONNECTED LEVER -->
    <DecorativeSprite texture="Content/Items/Button/button.png" sourcerect="64,1,63,62" depth="0.77" origin="0.5,0.5">
      <IsActiveConditional targetitemcomponent="Controller" State="eq True" />
    </DecorativeSprite>
   
    <!-- CONNECTED LEVER -->
    <DecorativeSprite  texture="Content/Items/Button/button.png" sourcerect="64,63,63,62" depth="0.77" origin="0.5,0.5">
      <IsActiveConditional targetitemcomponent="Controller" State="eq False" />
    </DecorativeSprite>
   

    <!-- OPEN LIGHT
    <LightComponent range="10.0" lightcolor="255,200,200,50" powerconsumption="0" IsOn="False" castshadows="false" allowingameediting="false">      
      <sprite texture="%ModDir%/Images/mechtrauma_plumbing.png" sourcerect="128,0,64,114" depth="0.78" origin="0.5,0.5" alpha="250.0" />      
      <IsActive targetitemcomponent="Controller" State="eq True" />    
    </LightComponent> -->

   
    <Body width="18" height="31" density="20" />
    <Controller direction="None" state="true" canbepicked="true" istoggle="true" msg="ItemMsgPressSelect">
      <sound file="Content/Items/Button/Switch1.ogg" type="OnUse" range="250.0" />
      <sound file="Content/Items/Button/Switch2.ogg" type="OnUse" range="250.0" />
    </Controller>


    <RelayComponent canbeselected="true" vulnerabletoemp="true" maxpower="10000" maxoutput="10000" canbeoverloaded="false" IsOn="False">
      <!-- <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" /> -->

      <!-- ON: -->
      <StatusEffect type="Always" target="This" targetitemcomponent="RelayComponent" delay="1" stackable="false" checkconditionalways="true" IsOn="False" Comparison="And">
        <Conditional State="eq False" targetitemcomponent="Controller" />       
      </StatusEffect> 

      <!-- OFF: -->
      <StatusEffect type="Always" target="This" targetitemcomponent="RelayComponent" delay="1" stackable="false" checkconditionalways="true" IsOn="True">
        <!--<Conditional HasStatusTag="neq ON" /> -->
        <Conditional State="eq True" targetitemcomponent="Controller" />       
      </StatusEffect>      

    </RelayComponent>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem identifier="screwdriver" type="Equipped" />
      <output name="kinetic_out" displayname="connection.kineticout" />
        <input name="kinetic_in" displayname="connection.kineticin" />
        <input name="signal_in" displayname="connection.singalin" />
      <output name="signal_out" displayname="connection.signalout" />
    </ConnectionPanel>
    <Holdable selectkey="Select" pickkey="Use" slots="Any,RightHand,LeftHand" msg="ItemMsgDetachWrench" PickingTime="10.0" aimpos="35,-10" handle1="0,0" attachable="true" attachedbydefault="true" aimable="true">
      <requireditem identifier="wrench" type="Equipped" />
    </Holdable>
  </Item>
  
  <!-- AVERAGE COMPONENT: -->
   <Item name="Average Component" identifier="average_component" category="Electrical" tags="command" scale="0.6" impactsoundtag="impact_metal_light" isshootable="true" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
        <Sprite texture="%ModDir%/Images/Mechtrauma.png" sourcerect="332,192,30,26" depth="0.7" origin="0.5,0.5" />
        <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
            <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
            <AlternativeLayout anchor="CenterRight" />
            <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
                <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
                <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
            </StatusEffect>
            <requireditem items="screwdriver" type="Equipped" />
            <input name="*input_1" displayname="connection.input_1" />
            <input name="input_2" displayname="connection.input_2" />
            <input name="input_3" displayname="connection.input_3" />
            <input name="input_4" displayname="connection.input_4" />
            <input name="input_5" displayname="connection.input_5" />
            <input name="input_6" displayname="connection.input_6" />
            <output name="output" displayname="connection.output" />
        </ConnectionPanel>
        <Body width="200" height="200" density="40" />
        <Holdable selectkey="Select" pickkey="Use" slots="RightHand+LeftHand" msg="ItemMsgDetachWrench" PickingTime="60.0" aimpos="35,-10" handle1="0,0" attachable="true" attachedbydefault="true" aimable="true">
            <requireditem identifier="wrench" type="Equipped" />
        </Holdable>
    </Item>

  <!-- BATTERY BANK: Vast storage capacity, shuts off when submerged and loses charge. (maybe needs terminals cleaned?) -->
    <Item name="Battery Bank" identifier="battery_bank" category="Electrical" Tags="battery,signal,logic" maxstacksize="1" description="Don't put your fingers in it." scale="0.5" isshootable="true">
      <InventoryIcon texture="%ModDir%/Images/battery_bank.png" sourcerect="0,0,468,460" origin="0.5,0.5" />

      <Sprite texture="%ModDir%/Images/battery_bank.png" sourcerect="0,0,468,460" depth="0.84" origin="0.5,0.5" canflipx="false" />
      <ControllablePowerContainer capacity="5000.0" maxrechargespeed="500.0" maxoutput="1000.0" canbeselected="true" indicatorposition="65,33" indicatorsize="34,46" ishorizontal="false" msg="ItemMsgInteractSelect">
        <GuiFrame relativesize="0.25,0.23" minsize="350,200" anchor="Center" style="ItemUI" /> <!--minsize="350,250" maxsize="420,300"-->
      
        <!-- Disable and Drain power when submerged. -->
        <StatusEffect type="InWater" targettype="This" charge="-1.5" condition="-0.25" IsOn="false"/>
        <!-- Enable power transmission -->
        <StatusEffect type="Always" targettype="This" IsOn="true" >
          <Conditional InWater="false" />
        </StatusEffect>

      </ControllablePowerContainer>


      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredSkill identifier="electrical" level="55" />
        <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
          <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
          <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
          <Affliction identifier="stun" strength="4" />
          <Affliction identifier="burn" strength="5" />
        </StatusEffect>
        <requireditem items="Screwdriver" type="Equipped" />
        <output name="power_out" displayname="connection.powerout" />
        <input name="power_in" displayname="connection.powerin" />
        <input name="set_rate" displayname="connection.batterysetrechargespeed" />
        <output name="charge" displayname="connection.batterychargestatusout" />
        <output name="charge_%" displayname="connection.batterychargepercentage" />
        <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
        <output name="condition_out" displayname="connection.conditionout" />
        <output name="load_value_out" displayname="connection.loadvalueout" />
        <output name="power_value_out" displayname="connection.powervalueout" />
      </ConnectionPanel>

      <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="240" mindeteriorationcondition="0" RepairThreshold="90" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
        <StatusEffect type="InWater" target="This" condition="-0.05" />
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredSkill identifier="electrical" level="55" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
        <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="25" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
        <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
        <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
        <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
          <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
          <Affliction identifier="stun" strength="4" />
          <Affliction identifier="burn" strength="5" />
        </StatusEffect>
      </Repairable>
    </Item>

    <!-- WATER RESISTANT BATTERY BANK: Will operate when submerged. -->
    <Item name="Battery Bank" identifier="battery_bank_wr" category="Electrical" Tags="battery,signal,logic" description="" scale="0.5" isshootable="true">
      <Sprite texture="%ModDir%/Images/mechtrauma_electrical.png" sourcerect="0,460,282,310" depth="0.84" origin="0.5,0.5" canflipx="false" />
      <PowerContainer capacity="1500.0" maxrechargespeed="500.0" maxoutput="1500.0" canbeselected="true" indicatorposition="186,12" indicatorsize="50,20" ishorizontal="true" msg="ItemMsgInteractSelect">
        <GuiFrame relativesize="0.25,0.23" minsize="350,200" anchor="Center" style="ItemUI" /> <!--minsize="350,250" maxsize="420,300"-->
      
        <!-- Drain power when submerged. -->
        <StatusEffect type="InWater" targettype="This" charge="-0.25" condition="-0.25" />

      </PowerContainer>


      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredSkill identifier="electrical" level="55" />
        <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
          <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
          <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
          <Affliction identifier="stun" strength="4" />
          <Affliction identifier="burn" strength="5" />
        </StatusEffect>
        <requireditem items="Screwdriver" type="Equipped" />
        <output name="power_out" displayname="connection.powerout" />
        <input name="power_in" displayname="connection.powerin" />
        <input name="set_rate" displayname="connection.batterysetrechargespeed" />
        <output name="charge" displayname="connection.batterychargestatusout" />
        <output name="charge_%" displayname="connection.batterychargepercentage" />
        <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
        <output name="condition_out" displayname="connection.conditionout" />
        <output name="load_value_out" displayname="connection.loadvalueout" />
        <output name="power_value_out" displayname="connection.powervalueout" />
      </ConnectionPanel>

      <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="240" mindeteriorationcondition="0" RepairThreshold="90" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
        <StatusEffect type="InWater" target="This" condition="-0.05" />
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredSkill identifier="electrical" level="55" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
        <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="25" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
        <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
        <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
        <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
          <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
          <Affliction identifier="stun" strength="4" />
          <Affliction identifier="burn" strength="5" />
        </StatusEffect>
      </Repairable>
    </Item>

  <!-- FUSE: -->
  <Item name="Fuse" identifier="fuse" Category="Fuel" Tags="smallitem,fuse" maxstacksize="64" cargocontaineridentifier="metalcrate" health="100" scale="0.5">
     
    <Price baseprice="5" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="3" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <!-- It's Garbage People! -->
    <Deconstruct time="10">
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator,cncfab,cncfab_cp" amount="24" requiredtime="30">
      <RequiredSkill identifier="electrical" level="35" />
      <RequiredItem identifier="plastic" />
      <RequiredItem identifier="copper" />
    </Fabricate>
    
    <InventoryIcon texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,192,75,12" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,192,75,12" depth="0.55" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,206,75,12" depth="0.55" maxcondition="0" />

    <Body radius="6" height="55" density="20" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>

    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

<!-- FUSE PANEL: RELAY -->
<Item name="Fuse Panel" identifier="fuse_panel" category="Electrical" Tags=" signal,logic,mtupdate,fusebox" maxstacksize="1" cargocontaineridentifier="metalcrate" description="Don't put your fingers in it." scale="0.5" impactsoundtag="impact_metal_light" isshootable="true">
    <PreferredContainer primary="engcab"/>
    <PreferredContainer secondary="wreckengcab,abandonedengcab,outpostengcab,beaconengcab" amount="1" spawnprobability="0.05" />
    <Deconstruct time="10">
      <Item identifier="plastic" />
      <Item identifier="copper" />
      <Item identifier="tin" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="10">
      <RequiredSkill identifier="electrical" level="20" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="tin" />
    </Fabricate>
    
    <!-- LABEL-->
    <ItemLabel scrollable="true" padding="15,0,10,110" textcolor="1,1,1,1" />     

    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="128,384,112,174" depth="0.815" origin="0.5,0.5" canflipx="false" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="128,556,112,48" depth="0.8" canflipx="true" origin="0.5,0.5" offset="0,-60"/>
    <RelayComponent canbeselected="true" vulnerabletoemp="true" maxoutput="10000" canbeoverloaded="false" IsOn="True">
      <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" />     
    
     
      <!-- ON: Fuse  
      <StatusEffect type="Always" targettype="This" duration="0.1" delay="1" stackable="false" tags="goodfuse" checkconditionalways="true" IsOn="True" Comparison="And">
         <RequiredItem items="fuse" type="Contained" mincondition="1.0" />        
      </StatusEffect>-->

      <!-- OFF: No fuse 
      <StatusEffect type="Always" targettype="This" delay="1" stackable="false" IsOn="False">
        <Conditional HasStatusTag="neq goodfuse" />        
      </StatusEffect>  -->

    </RelayComponent>

    <!-- POWER LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="264,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="RelayComponent" overload="eq False" />
    </LightComponent>
    <!-- OVERVOLTAGE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" castshadows="false" allowingameediting="false" blinkfrequency="1.5">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="RelayComponent" overload="eq True" />
    </LightComponent>
    <!-- FUSE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="true" Flicker="0.7" FlickerSpeed="2.0" castshadows="false" allowingameediting="false">
      <sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,220,52,12" origin="0.5,-4.5" depth="0.81" alpha="2.0" />      
      <RequiredItem items="fuse" type="Contained" mincondition="1.0" />        
    </LightComponent>

    <Body width="112" height="174" density="30" />
    <Holdable selectkey="Select" pickkey="Use" slots="Any,RightHand,LeftHand" msg="ItemMsgDetachWrench" PickingTime="5.0" aimpos="65,-10" handle1="0,0" attachable="true" aimable="true">
      <RequiredItem items="wrench" type="Equipped" />
    </Holdable>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="signal_in1" displayname="connection.signalinx~[num]=1" />
      <input name="signal_in2" displayname="connection.signalinx~[num]=2" />
      <input name="toggle" displayname="connection.togglestate" />
      <input name="set_state" displayname="connection.setstate" />
      <output name="power_out" displayname="connection.powerout" />
      <output name="signal_out1" displayname="connection.signaloutx~[num]=1" />
      <output name="signal_out2" displayname="connection.signaloutx~[num]=2" />
      <output name="state_out" displayname="connection.stateout" fallbackdisplayname="connection.signalout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
    </ConnectionPanel>

     <!-- FUSE! -->
    <ItemContainer capacity="1" maxstacksize="1" itemsperrow="1" canbeselected="true" hideitems="false" itempos="56,-147" containedspritedepth="0.81">
      <GuiFrame relativesize="0.1,0.2" anchor="Center" style="ItemUI" relativeoffset="-0.01,0.0" uilabel="Key" /> <!-- relativeoffset DOWN:0.0,0.5 UP:0.0,-0.5 LEFT:0.5,0.0 RIGHT:-0.5,0.0-->
      <Containable items="fuse" excludebroken="false" excludefullcondition="false" >
      
      <!-- OVERVOLATGE: Damage fuse when voltage is too high 
      <StatusEffect type="OnContaining" targettype="Contained" condition="-1" Comparison='And'>
        <Conditional voltage="gt 1.25" targetcontainer="true" targetitemcomponent="RelayComponent" />
        <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
       
      </StatusEffect> -->

      </Containable>
    </ItemContainer>

     <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.1" mindeteriorationdelay="120" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="30" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
    </Repairable>

  </Item>


<!-- ELECTRICAL PANEL -->
  <Item name="Electrical Panel" identifier="electrical_panel" tags="junctionbox,fusebox,mtupdate" category="Electrical,Machine" description="" scale="0.5" allowedlinks="gap,door" linkable="true" damagedbyexplosions="true" explosiondamagemultiplier="0.2" hideinmenus="true">
    <InventoryIcon  texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" depth="0.82" origin="0.5,0.5" canflipx="false" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,556,112,48" depth="0.8" canflipx="true" origin="0.5,0.5" offset="0,-60"/>
    <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="99,961,28,32" origin="0.5,0.45" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,1,110,176" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="488,1,110,176" depth="0.8" maxcondition="0" />
    <InfectedSprite texture="Content/Items/Gardening/ballastflora.png" sourcerect="8,260,149,170" origin="0.5,0.5" />
    <DamagedInfectedSprite texture="Content/Items/Gardening/ballastflora.png" sourcerect="157,260,149,170" origin="0.5,0.5" />
        <!-- POWER LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="264,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="FusedJB" overload="eq False" />
    </LightComponent>
    <!-- OVERVOLTAGE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" castshadows="false" allowingameediting="false" blinkfrequency="1.5">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="FusedJB" overload="eq True" />
    </LightComponent>
    <!-- FUSE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" Flicker="0.7" FlickerSpeed="2.0" castshadows="false" allowingameediting="false">
      <sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,220,52,12" origin="0.5,-4.5" depth="0.81" alpha="2.0" />   
      <StatusEffect type="Always" targettype="This" IsOn="true" Comparison="Or">
        <RequiredItem items="fuse" type="Contained" targetslot="0" mincondition="0.0" />   
      </StatusEffect>   
    </LightComponent>
    
    <!-- LABEL-->
    <ItemLabel scrollable="true" padding="15,0,10,110" textcolor="1,1,1,1" />
    <PowerTransfer canbeselected="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" />
      <!--minsize="350,160" maxsize="420,190"-->
      <StatusEffect type="InWater" target="This" condition="-0.25">
        <Conditional currPowerConsumption="lt -10" />
      </StatusEffect>
      <!-- Check for a fuse -->
      <!-- ON: yesfuse -->
      <StatusEffect type="Always" target="This" duration="0.1" delay="1" condition="0.5" stackable="false" tags="yesfuse" checkconditionalways="true" FireProbability=".5" canbeoverloaded="false" Comparison="And">
        <RequiredItem items="fuse" type="Contained" targetslot="0" mincondition="1.0" />
      </StatusEffect>
      <!-- NO FUSE: allow overvoltage  -->
      <StatusEffect type="Always" target="This" duration="0.1" stackable="false" tags="nofuse" checkconditionalways="true" FireProbability="0.0" canbeoverloaded="true" Comparison="And">
        <Conditional HasStatusTag="neq yesfuse" />
      </StatusEffect>
      <!-- NO FUSE: burn it down, burn it all down  -->
      <StatusEffect type="Always" target="This" duration="0.1" stackable="false" tags="nofuse" checkconditionalways="true" FireProbability="1.0" canbeoverloaded="true" Comparison="And">
        <Conditional HasStatusTag="neq yesfuse" />
      </StatusEffect>
    </PowerTransfer>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <output name="power" displayname="connection.power" maxplayerconnectablewires="10" />
      <output name="power" displayname="connection.power" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
    </ConnectionPanel>

     <!-- FUSE! -->
    <ItemContainer capacity="1" maxstacksize="1" itemsperrow="1" canbeselected="true" hideitems="false" itempos="56,-147"  containedspritedepth="0.81">
      <GuiFrame relativesize="0.1,0.2" anchor="Center" style="ItemUI" relativeoffset="-0.01,0.0" uilabel="Key" /> <!-- relativeoffset DOWN:0.0,0.5 UP:0.0,-0.5 LEFT:0.5,0.0 RIGHT:-0.5,0.0-->
      <Containable items="fuse" excludebroken="false" excludefullcondition="false" >
      
     
      <!-- OVERVOLATGE: Damage fuse when voltage is too high
      <StatusEffect type="OnContaining" targettype="Contained" condition="-1" Comparison='And'>
        <Conditional voltage="gt 1.25" targetcontainer="true" targetitemcomponent="PowerTransfer" /> 
        <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      </StatusEffect>    -->
             

      <!-- <StatusEffect type="OnContaining" targettype="This" Voltage="1.0" setvalue="true" /> -->
      </Containable>
      
    </ItemContainer>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.1" mindeteriorationdelay="120" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <LuaHook name="electricalRepair.OnFailure" /> 
        <!-- <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" /> -->
      </StatusEffect>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="30" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
    </Repairable>
  </Item>

  
<!-- ELECTRICAL PANEL -->
  <Item name="Electrical Panel" identifier="electrical_panelv2" tags="junctionbox,fusebox,mtupdate" category="Electrical,Machine" description="" scale="0.5" allowedlinks="gap,door" linkable="true" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <InventoryIcon  texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" depth="0.82" origin="0.5,0.5" canflipx="false" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,556,112,48" depth="0.8" canflipx="true" origin="0.5,0.5" offset="0,-60"/>
    <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="99,961,28,32" origin="0.5,0.45" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,1,110,176" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="488,1,110,176" depth="0.8" maxcondition="0" />
    <InfectedSprite texture="Content/Items/Gardening/ballastflora.png" sourcerect="8,260,149,170" origin="0.5,0.5" />
    <DamagedInfectedSprite texture="Content/Items/Gardening/ballastflora.png" sourcerect="157,260,149,170" origin="0.5,0.5" />
        <!-- POWER LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="264,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="FusedJB" overload="eq False" />
    </LightComponent>
    <!-- OVERVOLTAGE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" castshadows="false" allowingameediting="false" blinkfrequency="1.5">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="FusedJB" overload="eq True" />
    </LightComponent>
    <!-- FUSE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" Flicker="0.7" FlickerSpeed="2.0" castshadows="false" allowingameediting="false">
      <sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,220,52,12" origin="0.5,-4.5" depth="0.81" alpha="2.0" />   
      <StatusEffect type="Always" targettype="This" IsOn="true" Comparison="Or">
        <RequiredItem items="fuse" type="Contained" targetslot="0" mincondition="0.0" />   
      </StatusEffect>   
    </LightComponent>
   
    <!-- LABEL-->
    <ItemLabel scrollable="true" padding="15,0,10,110" textcolor="1,1,1,1" /> 
     
    <PowerTransfer canbeselected="true" msg="ItemMsgInteractSelect" canbeoverloaded="true">
      <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" /> <!--minsize="350,160" maxsize="420,190"-->
      <StatusEffect type="InWater" target="This" condition="-0.25">
        <Conditional Voltage="gt 0" />
      </StatusEffect>
    </PowerTransfer>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
     
      <output name="power" displayname="connection.power" maxwires="10" maxplayerconnectablewires="10"/>
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
    </ConnectionPanel>

     <!-- FUSE! -->
    <ItemContainer capacity="1" maxstacksize="1" itemsperrow="1" canbeselected="true" hideitems="false" itempos="56,-147"  containedspritedepth="0.81">
      <GuiFrame relativesize="0.1,0.2" anchor="Center" style="ItemUI" relativeoffset="-0.01,0.0" uilabel="Key" /> <!-- relativeoffset DOWN:0.0,0.5 UP:0.0,-0.5 LEFT:0.5,0.0 RIGHT:-0.5,0.0-->
      <Containable items="fuse" excludebroken="false" excludefullcondition="false" />         
      
    </ItemContainer>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.1" mindeteriorationdelay="120" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <LuaHook name="electricalRepair.OnFailure" /> 
        <!-- <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" /> -->
      </StatusEffect>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="30" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
    </Repairable>
  </Item>

  <!-- ELECTRICAL PANEL -->
  <Item name="Safety Electrical Panel" identifier="s_electrical_panelv2" tags="junctionbox,fusebox,mtupdate" category="Electrical,Machine" description="" scale="0.5" allowedlinks="gap,door" linkable="true" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <InventoryIcon  texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" depth="0.82" origin="0.5,0.5" canflipx="false" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,556,112,48" depth="0.8" canflipx="true" origin="0.5,0.5" offset="0,-60"/>
    <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="99,961,28,32" origin="0.5,0.45" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,1,110,176" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="488,1,110,176" depth="0.8" maxcondition="0" />
    <InfectedSprite texture="Content/Items/Gardening/ballastflora.png" sourcerect="8,260,149,170" origin="0.5,0.5" />
    <DamagedInfectedSprite texture="Content/Items/Gardening/ballastflora.png" sourcerect="157,260,149,170" origin="0.5,0.5" />
        <!-- POWER LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="true" castshadows="false" allowingameediting="false">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="264,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="FusedJB" overload="eq False" />
    </LightComponent>
    <!-- OVERVOLTAGE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" castshadows="false" allowingameediting="false" blinkfrequency="1.5">      
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,186,110,176" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="FusedJB" overload="eq True" />
    </LightComponent>
    <!-- FUSE LIGHT -->
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="1" IsOn="false" Flicker="0.7" FlickerSpeed="2.0" castshadows="false" allowingameediting="false">
      <sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="256,220,52,12" origin="0.5,-4.5" depth="0.81" alpha="2.0" />   
      <StatusEffect type="Always" targettype="This" IsOn="true" Comparison="Or">
        <RequiredItem items="fuse" type="Contained" targetslot="0" mincondition="0.0" />   
      </StatusEffect>   
    </LightComponent>

    
    <!-- LABEL-->
    <ItemLabel scrollable="true" padding="15,0,10,110" textcolor="1,1,1,1" /> 
     
    <FusedJB canbeselected="true" msg="ItemMsgInteractSelect" canbeoverloaded="true">
      <GuiFrame relativesize="0.2,0.14" minsize="450,160" anchor="Center" style="ItemUI" /> <!--minsize="350,160" maxsize="420,190"-->
      <StatusEffect type="InWater" target="This" condition="-0.25">
        <Conditional Voltage="gt 0" />
      </StatusEffect>
    
    
   
      <!-- Check for a fuse -->
      <!-- ON: yesfuse 
      <StatusEffect type="Always" target="This" duration="0.1" delay="1" condition="0.5" stackable="false" tags="yesfuse" checkconditionalways="true" FireProbability=".5" canbeoverloaded="false" Comparison="And">
         <RequiredItem items="fuse" type="Contained" targetslot="0" mincondition="1.0" />
       
      </StatusEffect> -->

      <!-- NO FUSE: allow overvoltage 
      <StatusEffect type="Always" target="This" duration="0.1" stackable="false" tags="nofuse" checkconditionalways="true" canbeoverloaded="true" Comparison="And">
        <Conditional HasStatusTag="neq yesfuse" />           
      </StatusEffect>  -->

      <!-- NO FUSE: burn it down, burn it all down 
      <StatusEffect type="Always" target="This" duration="0.1" stackable="false" tags="nofuse" checkconditionalways="true" FireProbability="1.0" canbeoverloaded="true" Comparison="And">
        <Conditional HasStatusTag="neq yesfuse" />           
      </StatusEffect> -->

    </FusedJB>



    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
     
      <output name="power" displayname="connection.power" maxwires="10" maxplayerconnectablewires="10"/>
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
   

    </ConnectionPanel>

     <!-- FUSE! -->
    <ItemContainer capacity="1" maxstacksize="1" itemsperrow="1" canbeselected="true" hideitems="false" itempos="56,-147"  containedspritedepth="0.81">
      <GuiFrame relativesize="0.1,0.2" anchor="Center" style="ItemUI" relativeoffset="-0.01,0.0" uilabel="Key" /> <!-- relativeoffset DOWN:0.0,0.5 UP:0.0,-0.5 LEFT:0.5,0.0 RIGHT:-0.5,0.0-->
      <Containable items="fuse" excludebroken="false" excludefullcondition="false" >
      
     
      <!-- OVERVOLATGE: Damage fuse when voltage is too high
      <StatusEffect type="OnContaining" targettype="Contained" condition="-1" Comparison='And'>
        <Conditional voltage="gt 1.25" targetcontainer="true" targetitemcomponent="PowerTransfer" /> 
        <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      </StatusEffect>    -->
             

      <!-- <StatusEffect type="OnContaining" targettype="This" Voltage="1.0" setvalue="true" /> -->
      </Containable>
      
    </ItemContainer>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.1" mindeteriorationdelay="120" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <LuaHook name="electricalRepair.OnFailure" /> 
        <!-- <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" /> -->
      </StatusEffect>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="30" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
    </Repairable>
  </Item>

  <!-- Advance water system -->
  <!-- TODO: Replace place holder models, damage and status effects-->
  <Item name="Water Drain" identifier="waterdrain" category="Machine" tags="" scale="0.5" linkable="true">
    <Upgrade gameversion="0.10.0.0" scale="0.5" />
    <Sprite texture="Content/Items/Alien/Legacy/AlienRuin_Legacy.png" depth="0.91" sourcerect="203,512,53,52" />
	<WaterDrain MaxFlow="100" canbeselected="true">
		<PumpInEmitter particle="watersplash" particlespersecond="80" position="25,-25" anglemin="230" anglemax="310" velocitymin="1" velocitymax="50" />
		<PumpInEmitter particle="bubbles" particlespersecond="10" position="25,-25" anglemin="190" anglemax="350" velocitymin="50" velocitymax="120" />
		<PumpOutEmitter particle="bubbles" particlespersecond="5" position="25,-25" anglemin="0" anglemax="360" velocitymin="0" velocitymax="0" />
		<PumpOutEmitter particle="bubbles" particlespersecond="5" position="25,-25" anglemin="0" anglemax="360" velocitymin="0" velocitymax="0" />
	</WaterDrain>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
     
      <input name="toggle" displayname="connection.togglestate" />
      <input name="set_active" displayname="connection.setstate" />

      <output name="water_out" displayname="connection.waterout"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="60" maxdeteriorationdelay="270" MinDeteriorationCondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="-0.1,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="Equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="5" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>
  </Item>
  
  <!-- Steam regulator: -->
  <Item name="Steam regulator" identifier="steam_regulator" tags="mtpriority,powerabsorber" category="Electrical,Machine" description="" scale="0.5" allowedlinks="gap,door" linkable="true" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,384,112,174" depth="0.82" origin="0.5,0.5" canflipx="false" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,556,112,48" depth="0.8" canflipx="true" origin="0.5,0.5" offset="0,-60"/>
    <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="99,961,28,32" origin="0.5,0.45" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="376,1,110,176" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="488,1,110,176" depth="0.8" maxcondition="0" />

    <!-- LABEL-->
    <ItemLabel scrollable="true" padding="15,0,10,110" textcolor="1,1,1,1" /> 

    <GridAbsorber canbeselected="true" msg="ItemMsgInteractSelect" MaxPowerAbsorption="800.0" PowerConsumption="5.0" MinVoltage="0.3" IsActive="true">
      <StatusEffect type="always" target="This" duration="5" delay="1">
        <Conditional CurrPowerConsumption="lt -0.5"/>
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="40" anglemax="50" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
        <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />
        <Explosion range="200" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="0" stackable="false">        
          <Affliction identifier="burn" strength="0.05" />          
        </Explosion>
      </StatusEffect>
    </GridAbsorber>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
     
      <input name="steam_in" displayname="connection.steamin1"/>
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
   

    </ConnectionPanel>
    
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.1" mindeteriorationdelay="120" maxdeteriorationdelay="720" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="30" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
    </Repairable>
  </Item>

  <!-- GENERATOR KEYS -->
  <Item name="Keys" identifier="keys" category="Equipment" Tags="smallitem,keys" cargocontaineridentifier="metalcrate" scale="0.2">
    <PreferredContainer primary="crewcab"/>
    <Price baseprice="10">
      <Price storeidentifier="merchantoutpost" minavailable="4" />
      <Price storeidentifier="merchantcity" minavailable="6" />
    </Price>
    <InventoryIcon texture="%ModDir%/Images/keys.png" sourcerect="0,0,100,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/keys.png" sourcerect="0,0,100,128" />
    <Body width="16" height="12" density="20" />
    <IdCard slots="Card,Any" msg="ItemMsgPickUpSelect" />
  </Item>
  

  

<!-- =============< WEAPONS >=============  -->

 <!-- AIR RIFLE-->
<Item name="Air Rifle" identifier="airrifle" category="Weapon" cargocontaineridentifier="metalcrate" tags="mediumitem,weapon,gun,gunsmith,mountableweapon" Scale="0.5" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="secarmcab" amount="1" spawnprobability="1" notcampaign="true"/>
    <PreferredContainer secondary="outpostsecarmcab" amount="1" spawnprobability="0.5"/>
    <PreferredContainer secondary="wrecksecarmcab,abandonedsecarmcab" amount="1" spawnprobability="0.2"/>
    <PreferredContainer secondary="wreckweaponholder" amount="1" spawnprobability="0.03"/>
    <PreferredContainer secondary="armcab"/>
    <Price baseprice="150">
      <Price storeidentifier="merchantoutpost" sold="false" multiplier="1.5" />
      <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="1" sold="false"/>
      <Price storeidentifier="merchantresearch" sold="false" multiplier="1.25" />
      <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="3" />
      <Price storeidentifier="merchantmine" sold="false" multiplier="1.25" />
      <Price storeidentifier="merchantarmory" multiplier="0.9" minavailable="3" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="steel" />
      <Item identifier="aluminium" />
    </Deconstruct>
    
    <InventoryIcon texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="0,384,232,60" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="0,384,232,60" depth="0.55" origin="0.5,0.25" >
      <LightComponent range="200.0" lightcolor="250,224,165,255" powerconsumption="10" IsOn="true" minvoltage="0.0" allowingameediting="false">
        <LightTexture texture="Content/Lights/divinghelmetlight.png" origin="0.05, 0.5" size="1.0,1.0" />
      </LightComponent>
    </Sprite>   
    <Body width="180" height="30" density="25" />
    <Holdable slots="Any,RightHand+LeftHand" controlpose="true" holdpos="60,0" aimpos="55,5" handle1="-45,-25" handle2="26,-5" canbepicked="true" holdangle="-40" msg="ItemMsgPickUpSelect"/>
    <RangedWeapon barrelpos="80,5" spread="1" unskilledspread="4" combatPriority="60" reload="1" drawhudwhenequipped="true" crosshairscale="0.2">
      <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,256,256,256" />
      <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,256,256,256" />
      <ParticleEmitter particle="steamspray" particlespersecond="1" anglemin="0" anglemax="0" velocitymin="500" velocitymax="500" position="25,5" highqualitycollisiondetection="true"/>
      <Sound file="%ModDir%/Sound/airrifle.ogg" type="OnUse" range="1000" />
      <StatusEffect type="OnUse">
        <Explosion range="150.0" force="2.5" shockwave="false" smoke="false" flash="true" sparks="false" flames="false" underwaterbubble="false" camerashake="6.0" />
      </StatusEffect>
      <StatusEffect type="OnUse" Target="This" condition="0" setvalue="true" />                

      <!-- Repressurize, delayed by 1.0 seconds. -->
      <RequiredItems items="airrifleammo" type="Contained" msg="ItemMsgAmmoRequired" />
      <RequiredSkill identifier="weapons" level="40" />
      <Conditional condition="gt 10" />
    </RangedWeapon>
    <ItemContainer capacity="1" maxstacksize="1" itempos="27,10" iteminterval="0,-4" hideitems="true" containedstateindicatorslot="0" containedstateindicatorstyle="bullet">
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="896,64,64,64" origin="0.5,0.45" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="512,0,64,64" origin="0.5,0.45" />
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="896,64,64,64" origin="0.5,0.45" />
      <!-- SLOT0: Chamber -->
      <Containable items="airrifleammo" />      
      <!-- SLOT1: OxygenTank-->
      <SubContainer slots="1">
        <Containable items="oxygentank" excludebroken="true">
          <!-- TRANSFER: Fill the airrifle -->
          <StatusEffect type="OnContaining" targettype="This" Condition="100" setvalue="true" delay="1.0" Comparison="And">
            <Conditional condition="lt 100" />
            <Sound file="%ModDir%/Sound/airrifle2.ogg" range="1000" loop="false" /> 
            <ParticleEmitter particle="steamspray" particlespersecond="1" anglemin="0" anglemax="0" velocitymin="50" velocitymax="50" position="25,5" highqualitycollisiondetection="true"/>
          </StatusEffect>

           <!-- TRANSFER: Empty the oxygentank -->
          <StatusEffect type="OnContaining" targettype="Contained" Condition="-10" delay="1.0"  Comparison="And">
            <Conditional condition="lt 100" targetcontainer="true"/>            
          </StatusEffect>
        </Containable>
      </SubContainer>
      <!-- SLOT2: Ammunition Storage -->
      <SubContainer slots="1" maxstacksize="12">
        <Containable items="airrifleammo" />                    
      </SubContainer>
    </ItemContainer>
    <aitarget sightrange="3000" soundrange="5000" fadeouttime="5" />
    <Quality>
      <QualityStat stattype="FirepowerMultiplier" value="0.1"/>
    </Quality>    
  </Item>

 <!-- LEAD PELLET -->
 <Item name="Lead Pellet" identifier="leadpellet" category="Weapon" maxstacksize="24" interactthroughwalls="true" cargocontaineridentifier="metalcrate" Scale="0.5" tags="smallitem,airrifleammo" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="airrifle" amount="6" spawnprobability="1"/>
    <PreferredContainer primary="armcab" amount="6" spawnprobability="1"/>
    <PreferredContainer secondary="wrecksecarmcab,abandonedsecarmcab" minamount="1" maxamount="6" spawnprobability="0.2"/>
    <PreferredContainer secondary="wreckarmcab,abandonedarmcab" minamount="1" maxamount="3" spawnprobability="0.25"/>
    <PreferredContainer secondary="secarmcab" />
    <Price baseprice="5" minavailable="6">
      <Price storeidentifier="merchantoutpost" multiplier="1.5" />
      <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="12" />
      <Price storeidentifier="merchantresearch" multiplier="1.25" />
      <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="24" />
      <Price storeidentifier="merchantmine" multiplier="1.25" minavailable="12" />
      <Price storeidentifier="merchantarmory" multiplier="0.9" minavailable="24" />
    </Price>
    <Fabricate suitablefabricators="fabricator" requiredtime="20" requiresrecipe="false" amount="24">
      <RequiredSkill identifier="weapons" level="20" />
      <RequiredItem identifier="lead" amount="1" />      
    </Fabricate>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="256,384,40,66" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="256,384,40,66" scale="0.25" depth="0.55" origin="0.5,0.5" />
    <Body width="40" height="66" density="80" />
    <Pickable slots="Any" msg="ItemMsgPickUpSelect" />
    <Projectile characterusable="false" hitscan="true" removeonhit="true">
      <ParticleEmitter particle="tracerfirearm" particleamount="1" velocitymin="0" velocitymax="0" colormultiplier="255,255,115,175" scalemultiplier="1,0.6"/>
      <Attack structuredamage="5" targetforce="5" itemdamage="10" severlimbsprobability="0.1" penetration="0.1">
        <Affliction identifier="gunshotwound" strength="14" />
        <Affliction identifier="bleeding" strength="15" />
        <Affliction identifier="stun" strength="0.2" />
      </Attack>
      <StatusEffect type="OnImpact" target="UseTarget">
        <ParticleEmitter particle="impactfirearm" particleamount="1" velocitymin="0" velocitymax="0" />
      </StatusEffect>
      <StatusEffect type="OnImpact" target="UseTarget">
        <Conditional entitytype="eq Structure"/>
        <Conditional hastag="eq door"/>
        <ParticleEmitter particle="spark" copyentityangle="true" anglemin="-10" anglemax="10" particleamount="5" velocitymin="-10" velocitymax="-200" scalemin="0.5" scalemax="1" />
      </StatusEffect>
    </Projectile>    
  </Item>
  


<!-- =============< KITS >=============  -->


 <!-- ENGINEER UTILITY KIT-->
  <Item name="Utility Kit" identifier="kit_utility" aliases="utilitykit" category="Equipment" tags="smallitem,clothing" fireproof="false" cargocontaineridentifier="metalcrate" description="" scale="0.5" impactsoundtag="impact_soft">
    <PreferredContainer primary="crewcab"/>
    <PreferredContainer primary="outpostcrewcabinet" amount="1" spawnprobability="0.1" />
    <Price baseprice="150" minavailable="1">
      <Price storeidentifier="merchantoutpost" minavailable="1" />
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="1" />
      <Price storeidentifier="merchantresearch" minavailable="1" />
      <Price storeidentifier="merchantmilitary" minavailable="1" />
      <Price storeidentifier="merchantmine" minavailable="1" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="organicfiber" />
    </Deconstruct>
    <InventoryIcon name="Utility Kit Icon" texture="%ModDir%/Images/gear/kit_utility.png" sourcerect="406,8,98,86" origin="0.5,0.5" />
    <Sprite name="Utility Kit" texture="%ModDir%/Images/gear/kit_utility.png" sourcerect="406,8,98,86" depth="0.6" origin="0.5,0.5" />
    <Body width="100" height="50" density="30" friction="0.8" restitution="0.01" />
    <Wearable slots="Any,InnerClothes" msg="ItemMsgPickUpSelect">       
      <sprite name="Utility Kit Torso" texture="%ModDir%/Images/gear/kit_utility.png" limb="Torso" hidelimb="false" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Right Hand" texture="%ModDir%/Images/gear/kit_utility.png" limb="RightHand" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Left Hand" texture="%ModDir%/Images/gear/kit_utility.png" limb="LeftHand" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Right Lower Arm" texture="%ModDir%/Images/gear/kit_utility.png" limb="RightArm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Left Lower Arm" texture="%ModDir%/Images/gear/kit_utility.png" limb="LeftArm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Right Upper Arm" texture="%ModDir%/Images/gear/kit_utility.png" limb="RightForearm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Left Upper Arm" texture="%ModDir%/Images/gear/kit_utility.png" limb="LeftForearm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Waist" texture="%ModDir%/Images/gear/kit_utility.png" limb="Waist" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Right Thigh" texture="%ModDir%/Images/gear/kit_utility.png" limb="RightThigh" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Left Thigh" texture="%ModDir%/Images/gear/kit_utility.png" limb="LeftThigh" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Right Leg" texture="%ModDir%/Images/gear/kit_utility.png" limb="RightLeg" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Left Leg" texture="%ModDir%/Images/gear/kit_utility.png" limb="LeftLeg" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Left Shoe" texture="%ModDir%/Images/gear/kit_utility.png" limb="LeftFoot" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Utility Kit Right Shoe" texture="%ModDir%/Images/gear/kit_utility.png" limb="RightFoot" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="blunttrauma,lacerations,bitewounds" damagemultiplier="0.9" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="burn" damagemultiplier="0.5" />
    </Wearable>
     <ItemContainer capacity="3">
      <Containable items="smallitem,handheldstatusmonitor,welder,crowbar" excludeditems="toolbox,toolbelt" />
    </ItemContainer>
  </Item>
  

<!-- PLAGUE DOCTOR KIT: -->
<Item name="Plague Doctor Kit" identifier="plague_doctor_kit" category="Equipment" cargocontaineridentifier="metalcrate" tags="smallitem,clothing" scale="0.5" impactsoundtag="impact_soft">
    <PreferredContainer primary="crewcab"/>
    <PreferredContainer primary="outpostcrewcabinet" amount="1" spawnprobability="0.05" />
    <Price baseprice="150" minavailable="1" >
      <Price storeidentifier="merchantoutpost" minavailable="1" />
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="1" />
      <Price storeidentifier="merchantresearch" minavailable="1" />
      <Price storeidentifier="merchantmilitary" minavailable="1" />
      <Price storeidentifier="merchantmine" minavailable="1" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="organicfiber" />
    </Deconstruct>
    <InventoryIcon name="Plague Doctor Kit Icon" texture="%ModDir%/Images/gear/kit_plague_doctor.png" sourcerect="404,10,102,80" origin="0.5,0.5" />
    <Sprite name="Plague Doctor Kit" texture="%ModDir%/Images/gear/kit_plague_doctor.png" sourcerect="404,10,102,80" depth="0.6" origin="0.5,0.5" />
    <Body width="100" height="50" density="30" friction="0.8" restitution="0.01" />
    <Wearable slots="Any,InnerClothes" msg="ItemMsgPickUpSelect">
      <sprite name="Plague Doctor Kit Torso" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="Torso" hidelimb="false" inherittexturescale="true" inheritorigin="false" origin="0.5,0.4" inheritsourcerect="false" sourcerect="164,32,96,170" />
      <sprite name="Plague Doctor Kit Right Hand" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="RightHand" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Left Hand" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="LeftHand" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Right Lower Arm" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="RightForearm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Left Lower Arm" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="LeftForearm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Right Upper Arm" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="RightArm" hidelimb="true" inherittexturescale="true" inheritorigin="false" origin="0.5,0.5" inheritsourcerect="false" sourcerect="274,8,56,78" />
      <sprite name="Plague Doctor Kit Left Upper Arm" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="LeftArm" hidelimb="true" inherittexturescale="true" inheritorigin="false" origin="0.5,0.5" inheritsourcerect="false" sourcerect="338,8,52,78" depth="0.5"/>
      <sprite name="Plague Doctor Kit Waist" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="Waist" hidelimb="true" inherittexturescale="true" inheritorigin="false" origin="0.5,0.5" inheritsourcerect="false" sourcerect="182,204,58,52" />
      <sprite name="Plague Doctor Kit Right Thigh" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="RightThigh" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Left Thigh" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="LeftThigh" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Right Leg" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="RightLeg" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Left Leg" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="LeftLeg" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Right Shoe" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="RightFoot" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Plague Doctor Kit Left Shoe" texture="%ModDir%/Images/gear/kit_plague_doctor.png" limb="LeftFoot" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="blunttrauma,gunshotwound,bitewounds" damagemultiplier="0.9" />
    </Wearable>
    <ItemContainer capacity="4">
      <Containable items="chem,medical,healthscanner,wrench" excludeditems="toolbox,toolbelt" />
    </ItemContainer>
  </Item>

  <!-- CAPTAINS KIT: -->
  <Item name="Captains Kit" identifier="captains_kit" category="Equipment" cargocontaineridentifier="metalcrate" tags="smallitem,clothing" scale="0.5" impactsoundtag="impact_soft">
    <PreferredContainer primary="crewcab"/>
    <PreferredContainer primary="outpostcrewcabinet" amount="1" spawnprobability="0.05" />
    <Price baseprice="150" minavailable="1" >
      <Price storeidentifier="merchantoutpost" minavailable="1" />
      <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="1" />
      <Price storeidentifier="merchantresearch" minavailable="1" />
      <Price storeidentifier="merchantmilitary" minavailable="1" />
      <Price storeidentifier="merchantmine" minavailable="1" />
    </Price>
    <Deconstruct time="10">
      <Item identifier="organicfiber" />
    </Deconstruct>
    <InventoryIcon name="Captains Kit" texture="%ModDir%/Images/gear/kit_captain.png" sourcerect="406,24,88,66" origin="0.5,0.5" />
    <Sprite name="Captains Kit" texture="%ModDir%/Images/gear/kit_captain.png" sourcerect="406,24,88,66" depth="0.6" origin="0.5,0.5" />
    <Body width="100" height="50" density="30" friction="0.8" restitution="0.01" />
    <Wearable slots="Any,InnerClothes" msg="ItemMsgPickUpSelect">
      <sprite name="Captains Kit Torso" texture="%ModDir%/Images/gear/kit_captain.png" limb="Torso" hidelimb="false" inherittexturescale="true" inheritorigin="false" origin="0.5,0.4" inheritsourcerect="false" sourcerect="176,26,78,172" />
      <sprite name="Captains Kit Right Hand" texture="%ModDir%/Images/gear/kit_captain.png" limb="RightHand" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Left Hand" texture="%ModDir%/Images/gear/kit_captain.png" limb="LeftHand" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Right Lower Arm" texture="%ModDir%/Images/gear/kit_captain.png" limb="RightForearm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Left Lower Arm" texture="%ModDir%/Images/gear/kit_captain.png" limb="LeftForearm" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Right Upper Arm" texture="%ModDir%/Images/gear/kit_captain.png" limb="RightArm" hidelimb="true" inherittexturescale="true" inheritorigin="false" origin="0.5,0.5" inheritsourcerect="false" sourcerect="284,8,36,82" />
      <sprite name="Captains Kit Left Upper Arm" texture="%ModDir%/Images/gear/kit_captain.png" limb="LeftArm" hidelimb="true" inherittexturescale="true" inheritorigin="false" origin="0.5,0.5" inheritsourcerect="false" sourcerect="356,8,34,82" depth="0.5"/>
      <sprite name="Captains Kit Waist" texture="%ModDir%/Images/gear/kit_captain.png" limb="Waist" hidelimb="true" inherittexturescale="true" inheritorigin="false" origin="0.5,0.5" inheritsourcerect="false" sourcerect="184,200,68,52" />
      <sprite name="Captains Kit Right Thigh" texture="%ModDir%/Images/gear/kit_captain.png" limb="RightThigh" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Left Thigh" texture="%ModDir%/Images/gear/kit_captain.png" limb="LeftThigh" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Right Leg" texture="%ModDir%/Images/gear/kit_captain.png" limb="RightLeg" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Left Leg" texture="%ModDir%/Images/gear/kit_captain.png" limb="LeftLeg" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Right Shoe" texture="%ModDir%/Images/gear/kit_captain.png" limb="RightFoot" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <sprite name="Captains Kit Left Shoe" texture="%ModDir%/Images/gear/kit_captain.png" limb="LeftFoot" hidelimb="true" inherittexturescale="true" inheritorigin="true" inheritsourcerect="true" />
      <damagemodifier afflictionidentifiers="blunttrauma,lacerations,gunshotwound,bitewounds" armorsector="0.0,360.0" damagemultiplier="0.8" />
    </Wearable>
    <ItemContainer capacity="3">
      <Containable items="pipe,revolver,smallitem" excludeditems="toolbox,toolbelt" />
    </ItemContainer>
  </Item>

  <!-- =============< MACHINES >=============  -->
  
  
 <!-- MT COILGUN: Sexier coilgun --> 
  
  <Item name="" 
        description=""
        identifier="mt_coilgun" Tags="turret" category="Machine,Weapon" interactthroughwalls="true" Scale="0.5" interactdistance="10" spritecolor="1.0,1.0,1.0,1.0" focusonselected="true" offsetonselected="750" linkable="true" allowedlinks="coilgunequipment">
    <Sprite texture="%ModDir%/Images/mt_turrets.png" depth="0.01" sourcerect="768,0,256,256" canflipy="false" />
    <MinimapIcon name="Command_Weapons_Coilgun" texture="Content/UI/CommandUIAtlas.png" sourcerect="768,0,128,128" />
    <SwappableItem price="5000" replacementonuninstall="turrethardpoint" origin="128,215" swapidentifier="basicturret">
      <SchematicSprite texture="Content/UI/WeaponUI.png" sourcerect="256,0,256,389" />
      <SwapConnectedItem tag="periscope" swapto="periscope" />
      <SwapConnectedItem tag="turretammosource" swapto="coilgunloader" />
    </SwappableItem>    
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="7,810,109,65" origin="0.5,0.5" />
    <StaticBody width="80" radius="80" />
    <Turret launchimpulse="80.0" canbeselected="false" characterusable="false" linkable="true" barrelpos="128,88" firingoffset="0,-120"  rotationlimits="180,360" powerconsumption="1000.0" showchargeindicator="true" showprojectileindicator="true" recoildistance="50" reload="0.25" springstiffnesslowskill="2" springstiffnesshighskill="50" springdampinglowskill="0.5" springdampinghighskill="10" rotationspeedlowskill="1" rotationspeedhighskill="8">
      <sound file="Content/Items/Weapons/Coilgun1.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun2.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun3.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun4.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun5.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun6.ogg" range="10000" type="OnUse" />
      <WeaponIndicator texture="Content/UI/WeaponUI.png" sourcerect="425,913,66,36" origin="0.24, 0.472" />
      <RailSprite texture="%ModDir%/Images/mt_turrets.png" depth="0.011" sourcerect="904,256,120,287" origin="0.64, 0.7" />
      <BarrelSprite texture="%ModDir%/Images/mt_turrets.png" depth="0.012" sourcerect="779,256,125,333" origin="0.6, 0.8" />
      <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,0,256,256" />
      <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,0,256,256" />
      <MoveSound file="Content/Items/Weapons/RailgunLoop.ogg" />
      <StartMoveSound file="Content/Items/Weapons/RailgunStart.ogg" />
      <EndMoveSound file="Content/Items/Weapons/RailgunStop.ogg" />
      <RequiredSkill identifier="weapons" level="50" />
      <LightComponent LightColor="1.0,0.8,0.8,1.0" Flicker="0.0" range="2500" IsOn="true" drawbehindsubs="true" ignorecontinuoustoggle="true">
        <LightTexture texture="Content/Lights/lightcone.png" origin="0.0, 0.5" size="1.0,1.0" />
      </LightComponent>
      <ParticleEmitter particle="muzzleflashcoilgun" particleamount="1" velocitymin="50" velocitymax="100" />
      <StatusEffect type="OnUse" target="This">
        <Explosion range="1000.0" structuredamage="0" force="0.01" camerashake="5.0" flames="false" smoke="false" sparks="false" underwaterbubble="false" />
      </StatusEffect>
    </Turret>
    <aitarget maxsightrange="3000" maxsoundrange="8000" fadeouttime="5" />
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="position_in" displayname="connection.turretaimingin" />
      <input name="trigger_in" displayname="connection.turrettriggerin" />
      <input name="toggle_light" displayname="connection.togglelight"/>
      <input name="set_light" displayname="connection.setlight" />
    </ConnectionPanel>
  </Item>


 <!-- 50CAL TURRET: -->   
   <Item name="" 
        description=""
        identifier="50cal_turret" Tags="turret" category="Machine,Weapon" interactthroughwalls="true" Scale="0.5" interactdistance="10" spritecolor="1.0,1.0,1.0,1.0" focusonselected="true" offsetonselected="750" linkable="true" allowedlinks="coilgunequipment">
   <Sprite texture="%ModDir%/Images/mechtrauma_weapons.png" depth="0.01" sourcerect="192,128,128,128" canflipy="false"/>
    <MinimapIcon name="Command_Weapons_Coilgun" texture="Content/UI/CommandUIAtlas.png" sourcerect="768,0,128,128" />
    <SwappableItem price="5000" replacementonuninstall="turrethardpoint" origin="128,215" swapidentifier="basicturret">
      <SchematicSprite texture="Content/UI/WeaponUI.png" sourcerect="256,0,256,389" />
      <SwapConnectedItem tag="periscope" swapto="periscope" />
      <SwapConnectedItem tag="turretammosource" swapto="50cal_loader" />
    </SwappableItem>    
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="7,810,109,65" origin="0.5,0.5" />
    <StaticBody width="80" radius="80" />
    <Turret launchimpulse="0.0" canbeselected="false" characterusable="false" linkable="true" barrelpos="60,20" firingoffset="0,-120" rotationlimits="180,360" powerconsumption="0.0" minvoltage="0.0" showchargeindicator="false" showprojectileindicator="true" recoildistance="50" reload="0.25" springstiffnesslowskill="2" springstiffnesshighskill="50" springdampinglowskill="0.5" springdampinghighskill="10" rotationspeedlowskill="1" rotationspeedhighskill="8">
      <sound file="Content/Items/Weapons/Coilgun1.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun2.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun3.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun4.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun5.ogg" range="10000" type="OnUse" />
      <sound file="Content/Items/Weapons/Coilgun6.ogg" range="10000" type="OnUse" />
      <WeaponIndicator texture="Content/UI/WeaponUI.png" sourcerect="425,913,66,36" origin="0.24, 0.472" />
      <RailSprite texture="%ModDir%/Images/mechtrauma_weapons.png" depth="0.011" sourcerect="330,116,54,98" origin="0.5, 0.5" />
      <BarrelSprite texture="%ModDir%/Images/mechtrauma_weapons.png" depth="0.012" sourcerect="342,0,26,116" origin="0.5, 1.0" />
      <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,0,256,256" />
      <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,0,256,256" />
      <MoveSound file="Content/Items/Weapons/RailgunLoop.ogg" />
      <StartMoveSound file="Content/Items/Weapons/RailgunStart.ogg" />
      <EndMoveSound file="Content/Items/Weapons/RailgunStop.ogg" />
      <RequiredSkill identifier="weapons" level="50" />
      <LightComponent LightColor="1.0,0.8,0.8,1.0" Flicker="0.0" range="2500" IsOn="true" drawbehindsubs="true" ignorecontinuoustoggle="true">
        <LightTexture texture="Content/Lights/lightcone.png" origin="0.0, 0.5" size="1.0,1.0" />
      </LightComponent>
      <ParticleEmitter particle="muzzleflashcoilgun" particleamount="1" velocitymin="50" velocitymax="100" />
      <StatusEffect type="OnUse" target="This">
        <Explosion range="1000.0" structuredamage="0" force="0.01" camerashake="5.0" flames="false" smoke="false" sparks="false" underwaterbubble="false" />
      </StatusEffect>
    </Turret>
    <aitarget maxsightrange="3000" maxsoundrange="8000" fadeouttime="5" />
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="position_in" displayname="connection.turretaimingin" />
      <input name="trigger_in" displayname="connection.turrettriggerin" />
      <input name="toggle_light" displayname="connection.togglelight"/>
      <input name="set_light" displayname="connection.setlight" />
    </ConnectionPanel>
  </Item>

<!-- 50CAL AMMUNITION: Custom Ammo needed to nurf 50cal damage/range -->
<Item name="50 cal Ammunition" identifier="50cal_ammobox" scale="0.3" tags="50calequipment,50calammo,ammobox,crate" category="Weapon" linkable="true" impactsoundtag="impact_metal_heavy">
    <PreferredContainer primary="50cal_loader" amount="2" mincondition="1"/>
    <PreferredContainer primary="ammoboxcontainer" amount="2" mincondition="1"/>
    <Price baseprice="180" displaynonempty="true">
      <Price storeidentifier="merchantoutpost" multiplier="1.3" minavailable="3"/>
      <Price storeidentifier="merchantcity" multiplier="1.2" minavailable="6" sold="false"/>
      <Price storeidentifier="merchantresearch" multiplier="1.3" minavailable="3"/>
      <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="15"/>
      <Price storeidentifier="merchantmine" multiplier="1.2" minavailable="3"/>
      <Price storeidentifier="merchantarmory" multiplier="0.9" minavailable="15"/>
    </Price>
    <Deconstruct time="10">
      <Item identifier="lead" mincondition="0.95"/>
      <Item identifier="aluminium"/>
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="20">
      <RequiredSkill identifier="weapons" level="25"/>
      <RequiredItem identifier="lead" />
      <RequiredItem identifier="steel"/>
      <RequiredItem identifier="aluminium"/>
      <RequiredItem identifier="Magnesium"/>
    </Fabricate>
    <Fabricate suitablefabricators="fabricator" displayname="recycleitem" requiredtime="15">
      <RequiredSkill identifier="weapons" level="20"/>
      <RequiredItem identifier="lead" />
      <RequiredItem identifier="steel"/>
       <RequiredItem identifier="Magnesium"/>
      <RequiredItem identifier="50cal_ammobox" mincondition="0.0" maxcondition="0.0" usecondition="false"/>
    </Fabricate>
    <InventoryIcon texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="0,128,180,172" />-->
    <Sprite texture="%ModDir%/Images/mechtrauma_weapons.png" depth="0.54" sourcerect="0,0,220,128" origin="0.5,0.5" />
    <ContainedSprite name="50cal Ammo in Loader" allowedcontainertags="50calammoloader" texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="478,24,60,200" depth="0.79" origin="1.5,1.75" />
    <Body width="115" height="88" density="50" />
    <Holdable slots="RightHand+LeftHand" holdpos="0,-80" handle1="-40,30" handle2="40,30" aimable="false" msg="ItemMsgPickUpSelect"/>
    <ItemContainer hideitems="true" capacity="1" drawinventory="false" canbeselected="false" canbecombined="true" ShowConditionInContainedStateIndicator="true" removecontaineditemsondeconstruct="true" containedstateindicatorstyle="bullet">
      <!-- we cheat a bit with ammunition boxes - they don't actually contain hundreds of rounds, 
      but spawn a new round every time the OnUse effect is triggered. OnUse also reduces the condition
      of the item, and when the condition is 0, the box is considered empty. -->
      <!--  -0.5 per usage = 200 shots per box -->
      <StatusEffect type="OnUse" target="This" disabledeltatime="true">
        <SpawnItem identifiers="50cal_bolt" spawnposition="ThisInventory" />
        <Conditional InWater="false"/>
      </StatusEffect>
      <StatusEffect type="OnUse" target="This" disabledeltatime="true">
        <SpawnItem identifiers="50cal_bolt_inwater" spawnposition="ThisInventory" />
        <Conditional InWater="true"/>
      </StatusEffect>
      <StatusEffect type="OnUse" target="This" condition="-0.5" disabledeltatime="true">
        <RequiredItem items="50cal_bolt,50cal_bolt_inwater" type="Contained" />
      </StatusEffect>
      <Containable items="50cal_bolt,50cal_bolt_inwater" />
    </ItemContainer>
  </Item>
    
    <!-- 50CAL BOLT: Custom Ammo needed to nurf 50cal damage/range -->
    <Item name="" identifier="50cal_bolt" category="Weapon" scale="0.5" sonarsize="2" hideinmenus="true">
    <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="143,414,113,9" depth="0.55" />
    <Body width="170" height="10" density="20" />
    <Holdable slots="RightHand+LeftHand" holdpos="0,-50" handle1="-10,0" handle2="10,0" aimable="false" />
    <Projectile characterusable="false" launchimpulse="80" damagedoors="true">
      <Attack structuredamage="10" itemdamage="6" severlimbsprobability="0.5" penetration="0.5">        
        <Affliction identifier="lacerations" strength="15" />
        <Affliction identifier="bleeding" strength="1.0" />
        <Affliction identifier="stun" strength="0.025" />
      </Attack>    

      <StatusEffect type="OnActive" target="This" lifetime="2">
        <ParticleEmitter particle="ammotrailwater" copyentityangle="true" anglemin="-5" anglemax="5" particleamount="5" velocitymin="-10" velocitymax="-100" scalemin="0.5" scalemax="1" />
      </StatusEffect>
      <!-- a 2 second lifetime after being fired -->
      <StatusEffect type="OnNotContained" target="This" stackable="false" delay="2">
        <Remove />
      </StatusEffect>
      <StatusEffect type="OnImpact" target="This">
        <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="10" velocitymin="100" velocitymax="2000" scalemin="0.25" scalemax="0.5" />
        <Remove />
      </StatusEffect>
      <StatusEffect type="OnBroken" target="This">
        <Remove />
      </StatusEffect>
    </Projectile>

  </Item>

    <!-- 50CAL BOLT: Submersed-->
    <Item name="" identifier="50cal_bolt_inwater" category="Weapon" scale="0.5" sonarsize="2" hideinmenus="true">
    <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="143,414,113,9" depth="0.55" />
    <Body width="170" height="10" density="20" />
    <Holdable slots="RightHand+LeftHand" holdpos="0,-50" handle1="-10,0" handle2="10,0" aimable="false" />
      <Projectile characterusable="false" launchimpulse="0.0" damagedoors="true">
      <Attack structuredamage="10" itemdamage="6" severlimbsprobability="0.35" penetration="0.1">        
        <Affliction identifier="lacerations" strength="15" />
        <Affliction identifier="bleeding" strength="1.0" />
        <Affliction identifier="stun" strength="0.025" />
      </Attack>    

      <StatusEffect type="OnActive" target="This" lifetime="2">
        <ParticleEmitter particle="ammotrailwater" copyentityangle="true" anglemin="-5" anglemax="5" particleamount="5" velocitymin="-10" velocitymax="-100" scalemin="0.5" scalemax="1" />
      </StatusEffect>
      <!-- a 2 second lifetime after being fired -->
      <StatusEffect type="OnNotContained" target="This" stackable="false" delay="2">
        <Remove />
      </StatusEffect>
      <StatusEffect type="OnImpact" target="This">
        <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="10" velocitymin="100" velocitymax="2000" scalemin="0.25" scalemax="0.5" />
        <Remove />
      </StatusEffect>
      <StatusEffect type="OnBroken" target="This">
        <Remove />
      </StatusEffect>
    </Projectile>

  </Item>

   <!-- 50CAL LOADER: -->
  <Item name="" identifier="50cal_loader" tags="50calequipment,50calammosource,turretammosource,50calammoloader" category="Machine,Weapon" linkable="true" allowedlinks="50cal_turret" scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <SwappableItem canbebought="false" origin="82,352" spawnwithid="50cal_ammobox"/>
    <Sprite name="50 cal Loader Front" texture="%ModDir%/Images/mechtrauma_weapons.png" depth="0.78" sourcerect="384,0,90,228" origin="0.5,0.5" />
    <DecorativeSprite name="50 cal Loader Back" texture="%ModDir%/Images/mechtrauma_weapons.png" depth="0.8" sourcerect="386,232,60,140" origin="0.5,0.5" offset="0,0" />
    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="10" mindeteriorationdelay="60" maxdeteriorationdelay="300" MinDeteriorationCondition="0" RepairThreshold="50" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <StatusEffect type="InWater" target="This" condition="-0.25" />
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="-0.1,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="Equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="5" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>
    <ItemContainer hideitems="false" drawinventory="true" capacity="1" maxstacksize="1" slotsperrow="6" itempos="82,-270" iteminterval="0,0" itemrotation="0" canbeselected="true" msg="ItemMsgInteractSelect" containedspritedepth="0.79">
      <GuiFrame relativesize="0.18,0.23" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
      <Containable items="50cal_ammobox" />
      <!-- when the 50 cal is fired, it triggers this statuseffect, causing contained ammunition boxes to spawn new ammo -->
      <StatusEffect type="OnUse" target="Contained">
        <RequiredItem items="50cal_ammobox" type="Contained" />
        <Use />
      </StatusEffect>
    </ItemContainer>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>
  </Item>

  <!-- GUNNERS CHAIR: -->
  <Item name="" description="" identifier="gunners_chair" tags="periscope" category="Machine,Weapon" type="Controller" linkable="true" allowedlinks="sonarmonitor" disableitemusagewhenselected="true" scale="0.5" isshootable="true" requireaimtouse="false" requireaimtosecondaryuse="false">
      <SwappableItem canbebought="false" origin="67,0"/>
      <Sprite texture="%ModDir%/Images/mechtrauma_weapons.png" sourcerect="576,0,322,322" depth="0.1" origin="0.5,0.5" />
  
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <output name="position_out" displayname="connection.turretaimingout" fallbackdisplayname="inputtype.aim" />
        <output name="trigger_out" displayname="connection.turrettriggerout" fallbackdisplayname="inputtype.shoot" />
      </ConnectionPanel>
    
    <Controller UserPos="10,30" direction="Right" hidehud="true" canbeselected="true">
      <limbposition limb="Head" position="90,15" />
      <limbposition limb="Torso" position="85,-240" />
      <limbposition limb="Waist" position="110,-260" />
      <limbposition limb="RightFoot" position="240,-200" />
      <limbposition limb="LeftFoot" position="240,-200" />
      <limbposition limb="LeftHand" position="167,-170" />
      <limbposition limb="RightHand" position="167,-170" />
      
      <!-- BUCKLE UP!: -->
      <StatusEffect type="OnActive" setvalue="true" stackable="false" target="Character">           
        <Affliction identifier="Buckled" amount="100" />        
      </StatusEffect>     
    
    </Controller>        
    </Item>    
    

<!-- CNC: Mechanical Fabricator --> 
  <Item name="CNC Mechanical Fabricator" identifier="cncfab" tags="ccn,mtu,donttakeitems,dontsellitems" category="Machine" linkable="true" allowedlinks="deconstructor,locker" description="" scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="256,960,64,64" origin="0.5,0.45" />
    <Sprite texture="%ModDir%/Images/cnc.png" sourcerect="0,0,400,460" depth="0.84"/>
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">
      <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="351,624,336,400" alpha="1.0" />
    </LightComponent>

    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" blinkfrequency="1" allowingameediting="false">
      <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="688,624,336,400" alpha="1.0" />
    </LightComponent>
    
    <Fabricator canbeselected="true" powerconsumption="500.0" Fabricationspeed="1" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.5,0.8" style="ItemUI" anchor="Center" />
      <sound file="Content/Items/Fabricators/Fabricator.ogg" type="OnActive" range="1000.0" volumeproperty="RelativeVoltage" loop="true"/>
      <poweronsound file="Content/Items/PowerOnLight1.ogg" range="600" loop="false" />
      <StatusEffect type="InWater" target="This" condition="-0.5" />
    </Fabricator>

    <ConnectionPanel selectkey="Action" canbeselected="true" hudpriority="10" msg="ItemMsgRewireScrewdriver">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.50" mindeteriorationdelay="60" maxdeteriorationdelay="120" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.1,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="Equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="5" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>

    <ItemContainer capacity="4" canbeselected="true" hideitems="true" slotsperrow="4" uilabel="" allowuioverlap="false">
    <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="128,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="576,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="8" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="0,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="9" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="64,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="10" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="11" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="576,0,64,64" origin="0.5,0.5" /> 


    <!-- ROW2 SLOT4-->
    <SubContainer slots="1">
      <Containable items="bearing_sleeve" />
    </SubContainer>

    <!-- ROW2 SLOT5-->
    <SubContainer slots="1">
      <Containable items="copper_windings" />
    </SubContainer>

    <!-- ROW2 SLOT6-->
    <SubContainer slots="1">
      <Containable items="copper" />
    </SubContainer>

    <!-- ROW2 SLOT7-->
    <SubContainer slots="1">
      <Containable items="plastic"/>
    </SubContainer>

    <!-- ROW3 SLOT8-->
    <SubContainer slots="1">
      <Containable items="sealed_bearing" />
    </SubContainer>

    <!-- ROW3 SLOT9-->
    <SubContainer slots="1">
      <Containable items="grease_packet" />
    </SubContainer>

    <!-- ROW3 SLOT10-->
    <SubContainer slots="1">
      <Containable items="steel" />
    </SubContainer>

    <!-- ROW3 SLOT11-->
    <SubContainer slots="1">
      <Containable items="rubber" />
    </SubContainer>

    </ItemContainer>

    <ItemContainer capacity="1" canbeselected="true" hideitems="true" slotsperrow="1" uilabel="" allowuioverlap="true"/>
  </Item>

  <!-- CoProd CNC: Mechanical Fabricator --> 
  <Item name="CoProd CNC Mechanical Fabricator" identifier="cncfab_cp" tags="ccn,mtu,donttakeitems,dontsellitems" category="Machine" linkable="true" allowedlinks="deconstructor,locker" description="" scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="256,960,64,64" origin="0.5,0.45" />
    <Sprite texture="%ModDir%/Images/coprod.png" sourcerect="0,0,395,457" depth="0.84"/>
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">
      <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="351,624,336,400" alpha="1.0" />
    </LightComponent>

    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" blinkfrequency="1" allowingameediting="false">
      <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="688,624,336,400" alpha="1.0" />
    </LightComponent>
    
    <Fabricator canbeselected="true" powerconsumption="500.0" Fabricationspeed="1" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.5,0.8" style="ItemUI" anchor="Center" />
      <sound file="Content/Items/Fabricators/Fabricator.ogg" type="OnActive" range="1000.0" volumeproperty="RelativeVoltage" loop="true"/>
      <poweronsound file="Content/Items/PowerOnLight1.ogg" range="600" loop="false" />
      <StatusEffect type="InWater" target="This" condition="-0.5" />
    </Fabricator>

    <ConnectionPanel selectkey="Action" canbeselected="true" hudpriority="10" msg="ItemMsgRewireScrewdriver">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.50" mindeteriorationdelay="60" maxdeteriorationdelay="120" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.1,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="Equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="5" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>

    <ItemContainer capacity="4" canbeselected="true" hideitems="true" slotsperrow="4" uilabel="" allowuioverlap="false">
    <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="128,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="576,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="8" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="0,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="9" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="64,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="10" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="11" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="576,0,64,64" origin="0.5,0.5" /> 


    <!-- ROW2 SLOT4-->
    <SubContainer slots="1">
      <Containable items="bearing_sleeve" />
    </SubContainer>

    <!-- ROW2 SLOT5-->
    <SubContainer slots="1">
      <Containable items="copper_windings" />
    </SubContainer>

    <!-- ROW2 SLOT6-->
    <SubContainer slots="1">
      <Containable items="copper" />
    </SubContainer>

    <!-- ROW2 SLOT7-->
    <SubContainer slots="1">
      <Containable items="plastic"/>
    </SubContainer>

    <!-- ROW3 SLOT8-->
    <SubContainer slots="1">
      <Containable items="sealed_bearing" />
    </SubContainer>

    <!-- ROW3 SLOT9-->
    <SubContainer slots="1">
      <Containable items="grease_packet" />
    </SubContainer>

    <!-- ROW3 SLOT10-->
    <SubContainer slots="1">
      <Containable items="steel" />
    </SubContainer>

    <!-- ROW3 SLOT11-->
    <SubContainer slots="1">
      <Containable items="rubber" />
    </SubContainer>

    </ItemContainer>

    <ItemContainer capacity="1" canbeselected="true" hideitems="true" slotsperrow="1" uilabel="" allowuioverlap="true"/>
  </Item>
  
  <!-- REPAIR TABLE: Gear Repair --> 
  <Item name="Repair Table" identifier="repairtable" tags="donttakeitems,dontsellitems" isshootable="true" category="Machine" linkable="true" allowedlinks="locker,decontructor" description="" scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="256,960,64,64" origin="0.5,0.45" />
    <Sprite texture="%ModDir%/Images/mechtrauma_fabricators.png" sourcerect="0,64,500,244" depth="0.84"/>
    <LightComponent range="10.0" lightcolor="255,255,255,0" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">
      <sprite texture="Content/Items/Command/navigatorLights.png" depth="0.025" sourcerect="351,624,336,400" alpha="1.0" />
    </LightComponent>
    
    <Fabricator canbeselected="true" powerconsumption="250.0" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.5,0.8" style="ItemUI" anchor="Center" />
      <sound file="Content/Items/Fabricators/Fabricator.ogg" type="OnActive" range="1000.0" volumeproperty="RelativeVoltage" loop="true"/>
      <poweronsound file="Content/Items/PowerOnLight1.ogg" range="600" loop="false" />
      <StatusEffect type="InWater" target="This" condition="-0.5" />
    </Fabricator>

    <ConnectionPanel selectkey="Action" canbeselected="true" hudpriority="10" msg="ItemMsgRewireScrewdriver">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin"/>
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.50" mindeteriorationdelay="60" maxdeteriorationdelay="120" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.1,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="Equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="5" />
        <Affliction identifier="stun" strength="4" />
      </StatusEffect>
    </Repairable>

    <ItemContainer capacity="4" canbeselected="true" hideitems="true" slotsperrow="4" uilabel="" allowuioverlap="false">
    <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="832,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="768,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="832,0,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="576,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="8" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="896,0,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="9" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="64,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="10" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,64,64,64" origin="0.5,0.5" /> 
    <SlotIcon slotindex="11" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="576,0,64,64" origin="0.5,0.5" /> 


    <!-- ROW2 SLOT4-->
    <SubContainer slots="1">
      <Containable items="organicfiber" />
    </SubContainer>

    <!-- ROW2 SLOT5-->
    <SubContainer slots="1">
      <Containable items="ballisticfiber" />
    </SubContainer>

    <!-- ROW2 SLOT6-->
    <SubContainer slots="1">
      <Containable items="carbon" />
    </SubContainer>

    <!-- ROW2 SLOT7-->
    <SubContainer slots="1">
      <Containable items="plastic"/>
    </SubContainer>

    <!-- ROW3 SLOT8-->
    <SubContainer slots="1">
      <Containable items="titaniumaluminiumalloy" />
    </SubContainer>

    <!-- ROW3 SLOT9-->
    <SubContainer slots="1">
      <Containable items="grease_packet" />
    </SubContainer>

    <!-- ROW3 SLOT10-->
    <SubContainer slots="1">
      <Containable items="steel" />
    </SubContainer>

    <!-- ROW3 SLOT11-->
    <SubContainer slots="1">
      <Containable items="rubber" />
    </SubContainer>

    </ItemContainer>

    <ItemContainer capacity="1" canbeselected="true" hideitems="true" slotsperrow="1" uilabel="" allowuioverlap="true"/>
  </Item>

  <!-- INCINERATOR: Get rid of unwanted items immidiately. -->    
  <Item name="Incinerator" identifier="incinerator" tags="supercapacitor" category="Electrical,Machine" Scale="0.5" description="Destroy unwanted items." disallowedupgrades="increasesupercapacitorrechargespeed" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.8" sourcerect="0,896,192,290" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.8" sourcerect="0,896,192,290"  maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.8" sourcerect="0,896,192,290"  maxcondition="0" />
    <PowerContainer capacity="30.0" maxrechargespeed="1500.0" maxoutput="20000000.0" efficiency="0.1" exponentialrechargespeed="true" rechargeadjustspeed="0.1" rechargewarningindicatorlow="0.5" rechargewarningindicatorhigh="0.75" canbeselected="true" indicatorposition="39,18" indicatorsize="52,22" ishorizontal="true" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.25" minsize="350,200" anchor="Center" relativeoffset="0.0,-0.1" style="ItemUI" />    
    </PowerContainer>
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <output name="power_out" displayname="connection.powerout" />
      <input name="power_in" displayname="connection.powerin" />
      <output name="charge" displayname="connection.batterychargestatusout" />
      <output name="charge_%" displayname="connection.batterychargepercentage" />
      <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
      <input name="set_rate" displayname="connection.batterysetrechargespeed" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
    </ConnectionPanel>
    <LightComponent range="10.0" lightcolor="255,255,255,0" pulsefrequency="0.4" pulseamount="0.4" powerconsumption="1" IsOn="false" castshadows="false" allowingameediting="false">
      <sprite texture="Content/Items/Electricity/signalcomp.png" sourcerect="358,334,154,160" depth="0.1" origin="0.5,0.5" alpha="1.0" />
      <IsActive targetitemcomponent="PowerContainer" rechargeratio="gt 0.7" />
      <IsActive targetitemcomponent="PowerContainer" currpowerconsumption="gt 500" />
      <StatusEffect type="OnActive" target="This" Condition="-1.0">
        <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" angle="270" distance="30" />
      </StatusEffect>
    </LightComponent>
    <Repairable selectkey="Action" header="electricalrepairsheader" deteriorationspeed="0.125" mindeteriorationdelay="120" maxdeteriorationdelay="300" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairScrewdriver" hudpriority="10">
      <StatusEffect type="InWater" target="This" condition="-0.5" />
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.1,0.27" style="ItemUI" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="MistSmoke" particlespersecond="60" anglemin="0" anglemax="360" distancemin="0" distancemax="25" velocitymin="0" velocitymax="20" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="spark" particleburstamount="5" particlespersecond="5" anglemin="0" anglemax="359" velocitymin="100" velocitymax="500" particleburstinterval="2" scalemin="0.5" scalemax="1" mincondition="0.0" maxcondition="15.0" />
      <ParticleEmitter particle="fleshsmoke" particlespersecond="2" scalemin="1" scalemax="2" mincondition="0.0" maxcondition="50.0" />
      <RequiredSkill identifier="electrical" level="55" />
      <RequiredItem items="screwdriver" type="Equipped" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
    </Repairable>
    
    <ItemContainer capacity="4" slotsperrow="4" canbeselected="true" hideitems="true" excludebroken="false" excludefullcondition="false" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.25,0.2" relativeoffset="0.0,0.0" anchor="Center" style="ItemUI" />
            
    </ItemContainer>

    <CustomInterface canbeselected="true" allowuioverlap="false">
      <GuiFrame relativesize="0.25,0.1" anchor="Center" relativeoffset="0.0,0.1" style="ItemUI" linkuitocomponent="ItemContainer" />
     
      <Button text="INCINERATE">
        <!-- REMOVE ITEM: Incinerated the contained items if the deivce is charged. -->
        <StatusEffect type="OnUse" target="Contained" delay="1.5" disabledeltatime="true" comparaison="And">
          <Conditional charge="30" targetcontainer="true"/>
          <Remove />          
        </StatusEffect>

         <!-- damage ITEM: Burn the contained items if the deivce is charged. -->
        <StatusEffect type="OnUse" target="Contained" duration="1.5" condition="-5" disabledeltatime="true" comparaison="And">
          <Conditional charge="30" targetcontainer="true"/>              
        </StatusEffect>

        <!-- DRAIN BATTERY: Drain the battery after incinerating the items. -->
        <StatusEffect type="OnUse" target="This" targetitemcomponent="PowerContainer" duration="1.5" charge="-25.0">
          <Conditional charge="30" />          
          <Sound file="%ModDir%/Sound/buzz.ogg" range="500" loop="false" /> 
        </StatusEffect>

        <!-- ERROR: Not enough power. -->
        <StatusEffect type="OnUse" target="This" targetitemcomponent="PowerContainer" disabledeltatime="true">
          <Conditional charge="lt 30" />
          <Sound file="Content/Sounds/UI/DeadMsg.ogg" range="250" /> 
        </StatusEffect>



         
      </Button> 
    </CustomInterface>

  </Item>
  


    

 <!-- DIESEL FUEL TANK: For storing diesel barrels and refilling diesel cans -->
 <Item name="Diesel Fuel Tank" identifier="diesel_fuel_tank" tags="diesel,fuel" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="1.2" scale="0.5">
    <Sprite name="Diesel Fuel Tank" texture="%ModDir%/Images/diesel_fuel_tank.png" sourcerect="0,0,800,444" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/diesel_fuel_tank.png" sourcerect="0,0,800,444"  origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/diesel_fuel_tank.png" sourcerect="0,0,800,444"  origin="0.5,0.5" depth="0.8" maxcondition="0" />
 
    <ItemContainer capacity="0" maxstacksize="1" itemsperrow="1" slotsperrow="3" hideitems="true" itempos="48,-175" iteminterval="123,0" containedspritedepths="0.81,0.81,.81,.99" canbeselected="true" msg="DieselFuelStation">
      <GuiFrame relativesize="0.2,0.5" anchor="Center" style="ItemUI" />         

      <!-- SLOT 0 SUBCONTAINER! -->   
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  

         <!-- Check for diesel fuel in slot 0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="0"/>            
          </StatusEffect>
          
          <!-- Remove the diesel fuel in slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-10.0" Comparison="And">
            <Conditional HasStatusTag="cantofill" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="0"/>
            
          </StatusEffect>         
      
        </Containable>  
      </SubContainer>

       <!-- SLOT 1 SUBCONTAINER! -->
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  

         <!-- Check for diesel fuel in slot 1  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot1" targetslot="1" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="0"/>            
          </StatusEffect>
          
          <!-- Remove the diesel fuel in slot 1! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="1" Condition="-10.0" Comparison="And">
            <Conditional HasStatusTag="cantofill" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="1"/>
            <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
          </StatusEffect>
        </Containable>  
      </SubContainer> 

          <!-- SLOT 2 SUBCONTAINER! -->
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  

         <!-- Check for diesel fuel in slot 2  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot2" targetslot="2" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="2"/>            
          </StatusEffect>
          
          <!-- Remove the diesel fuel in slot 2! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="2" Condition="-10.0" Comparison="And">
            <Conditional HasStatusTag="cantofill" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="2"/>
           
          </StatusEffect>
        </Containable>  
      </SubContainer> 

    <!-- SLOT 3 SUBCONTAINER! -->
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  

         <!-- Check for diesel fuel in slot 3  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot3" targetslot="3" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="3"/>            
          </StatusEffect>
          
          <!-- Remove the diesel fuel in slot 3! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="3" Condition="-10.0" Comparison="And">
            <Conditional HasStatusTag="cantofill" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="3"/>
          
          </StatusEffect>
        </Containable>  
      </SubContainer> 

          <!-- SLOT 4 SUBCONTAINER! -->
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  

         <!-- Check for diesel fuel in slot 4  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot4" targetslot="4" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="4"/>            
          </StatusEffect>
          
          <!-- Remove the diesel fuel in slot 4! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="4" Condition="-10.0" Comparison="And">
            <Conditional HasStatusTag="cantofill" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="4"/>
            
          </StatusEffect>
        </Containable>  
      </SubContainer> 

          <!-- SLOT 5 SUBCONTAINER! -->
      <SubContainer capacity="1" maxstacksize="1" >
        <Containable items="diesel_fuel_barrel" excludebroken="true" excludefullcondition="false">  

         <!-- Check for diesel fuel in slot 5  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="dieselinslot5" targetslot="5" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="5"/>            
          </StatusEffect>
          
          <!-- Remove the diesel fuel in slot 5! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="5" Condition="-10.0" Comparison="And">
            <Conditional HasStatusTag="cantofill" targetcontainer="true"/>
            <Requireditem items="diesel_fuel_barrel" type="contained" targetslot="5"/>
           
          </StatusEffect>
        </Containable>  
      </SubContainer> 
 
      <!-- SLOT 6 SUBCONTAINER! -->
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="diesel_fuel_can" excludebroken="false" excludefullcondition="True">
       
            
        <!-- Check for a non full diesel fuel can in slot 6  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="cantofill" targetslot="6" excludefullcondition="true" duration="0.1" stackable="false" Comparison="And">
           <Requireditem items="diesel_fuel_can" type="contained" targetslot="6"/>
          </StatusEffect>

            <!-- Play Tank Sound for slot6-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" duration="1.55" stackable="false" disabledeltatime="True" Comparison="And">
            <Conditional HasStatusTag="dieselinslot0" targetcontainer="true" />            
            <Sound file="%ModDir%/Sound/pump_loop.ogg" range="1000" loop="false" />
          </StatusEffect>
                
          <!-- Fill the diesel fuel tank in slot6 from slot 0 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" stackable="false" Condition="10" Comparison="And">
            <Conditional HasStatusTag="dieselinslot0" targetcontainer="true" />
          </StatusEffect>

            <!-- Fill the diesel fuel tank in slot6 from slot 1 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" stackable="false" Condition="10" Comparison="And">
            <Conditional HasStatusTag="dieselinslot1" targetcontainer="true" />
          </StatusEffect>

         <!-- Fill the diesel fuel tank in slot6 from slot 2 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" stackable="false" Condition="10" Comparison="And">
            <Conditional HasStatusTag="dieselinslot2" targetcontainer="true" />
          </StatusEffect>

           <!-- Fill the diesel fuel tank in slot6 from slot 3 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" stackable="false" Condition="10" Comparison="And">
            <Conditional HasStatusTag="dieselinslot3" targetcontainer="true" />
          </StatusEffect>

          <!-- Fill the diesel fuel tank in slot6 from slot 4 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" stackable="false" Condition="10" Comparison="And">
            <Conditional HasStatusTag="dieselinslot4" targetcontainer="true" />
          </StatusEffect>

           <!-- Fill the diesel fuel tank in slot6 from slot 5 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="6" stackable="false" Condition="10" Comparison="And">
            <Conditional HasStatusTag="dieselinslot5" targetcontainer="true" />
          </StatusEffect>


        </Containable>  
      </SubContainer>
         </ItemContainer>
</Item>


<!-- ARGON STATION: For filing welding tanks -->
 <Item name="Argon Station" identifier="argon_station" tags="welding" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <Sprite name="Argon Station" texture="%ModDir%/Images/argon_station.png" sourcerect="0,0,220,324" depth="0.81" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/argon_station.png" sourcerect="0,0,220,324"  origin="0.5,0.5" depth="0.81" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/argon_station.png" sourcerect="0,0,220,324"  origin="0.5,0.5" depth="0.81" maxcondition="0" />
   
    <!-- SPRITE: Slot0 Argon Tank  -->
    <DecorativeSprite texture="%ModDir%/Images/argon_station.png" depth="0.83" sourcerect="224,0,76,264" origin="0.5,0.5" offset="-62,-10" scale="1.0" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="slot0" targetcontainer="true" />       
    </DecorativeSprite>          
    <!-- SPRITE: Slot1 Argon Tank  -->
    <DecorativeSprite texture="%ModDir%/Images/argon_station.png" depth="0.83" sourcerect="224,0,76,264" origin="0.5,0.5" offset="62,-10" scale="1.0" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="slot1" targetcontainer="true" />       
    </DecorativeSprite>  
    <!-- SPRITE: Slot2 Welding Tank -->
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.80" sourcerect="64,192,24,64" origin="0.5,0.5" offset="-88,-48" scale="0.75" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="slot2" targetcontainer="true" />       
    </DecorativeSprite>
    <!-- SPRITE: Slot3 Welding Tank -->
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma.png" depth="0.80" sourcerect="64,192,24,64" origin="0.5,0.5" offset="88,-48" scale="0.75" rotationspeed="0" Comparison="And"> 
      <Conditional HasStatusTag="slot3" targetcontainer="true" />       
    </DecorativeSprite>

    <ItemContainer capacity="0" maxstacksize="1" slotsperrow="2" hideitems="true" itempos="48,-175" canbeselected="true" msg="ArgonStation">
      <GuiFrame relativesize="0.2,0.5" anchor="Center" style="ItemUI" />         
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="960,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="960,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="768,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="3" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="768,0,64,64" origin="0.5,0.5" /> 

      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" >
        <Containable items="argon_tank" excludebroken="false" excludefullcondition="false">  
           
        <!-- SPRITE CHECK: argon tank in slot0  (Statuseffect tags need to have a duration applied) -->
        <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="slot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
          <Requireditem items="argon_tank" type="contained" targetslot="0" excludebroken="false" excludefullcondition="false"/>             
        </StatusEffect>


         <!-- Check for a non empty argon in slot 0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="argonavailibleinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="argon_tank" type="contained" targetslot="0" mincondition="1.0"/>            
          </StatusEffect>
          
          <!-- Empty the Argon tank in slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-50.0" Comparison="And">
            <Conditional HasStatusTag="tanktofillinslot2" targetcontainer="true"/>
            <Requireditem items="argon_tank" type="contained" targetslot="0"/>
            <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
          </StatusEffect>     
         
      
        </Containable>  
      </SubContainer>
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="false" itempos="171,-175" containedspritedepths="0.81,0.81" >
        <Containable items="argon_tank" excludebroken="false" excludefullcondition="false">  
        
        <!-- SPRITE CHECK: argon tank in slot1  (Statuseffect tags need to have a duration applied) -->
        <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="slot1" targetslot="1" duration="0.1" stackable="false" Comparison="And"> 
          <Requireditem items="argon_tank" type="contained" targetslot="1" excludebroken="false" excludefullcondition="false"/>             
        </StatusEffect>
          
        <!-- Check for a non empty argon in slot 1 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="argonavailibleinslot1" targetslot="1" excludefullcondition="true" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="argon_tank" type="contained" targetslot="1" mincondition="1.0"/>
          </StatusEffect>

          <!-- Empty the Argon tank in slot 1! -->
          <StatusEffect type="OnContaining" target="Contained"  targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="1" Condition="-50.0" Comparison="And">
            <Conditional HasStatusTag="tanktofillinslot3" targetcontainer="true"/>
            <Requireditem items="argon_tank" type="contained" targetslot="1"/>
            <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
          </StatusEffect>  
        </Containable>  
      </SubContainer>
     
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="weldingfueltank" excludebroken="false" excludefullcondition="false">
       
        <!-- SPRITE CHECK: weldingfuel in slot2  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" tags="slot2" duration="0.1" stackable="false" checkconditionalalways="true" excludefullcondition="false" targetslot="2" Comparison="And"> 
            <Requireditem items="weldingfueltank" type="contained" targetslot="2" excludebroken="false" excludefullcondition="false"/>            
          </StatusEffect>
          
          
          <!-- Check for empty tank inslot2 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="tanktofillinslot2" targetslot="2" excludefullcondition="true" duration="0.1" Comparison="And">
           <Requireditem items="weldingfueltank" type="contained" targetslot="2" excludefullcondition="true"/>
          </StatusEffect>
                
          <!-- Fill the welding tank in slot2 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="2" stackable="false" Condition="50" Comparison="And">
            <!-- <Conditional HasStatusTag="argonavailibleinslot0" targetcontainer="true" />          -->
            <Requireditem items="argon_tank" targetcontainer="true" type="contained" targetslot="0" mincondition="1.0"/>
          </StatusEffect>

          <!-- Play Tank Sound for slot2-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="2" duration="1.55" stackable="false" disabledeltatime="True" Comparison="And">
            
            <Requireditem items="weldingfueltank" type="contained" targetslot="2" excludefullcondition="true"/>
            <Sound file="%ModDir%/Sound/remove_tank.ogg" range="1000" loop="false" />
          </StatusEffect>

        </Containable>  
      </SubContainer>
     <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="weldingfueltank" excludebroken="false" excludefullcondition="false">

          <!-- SPRITE CHECK: weldingfuel in slot3  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" tags="slot3" duration="0.1" stackable="false" checkconditionalalways="true" excludefullcondition="false" targetslot="3" Comparison="And"> 
            <Requireditem items="weldingfueltank" type="contained" targetslot="3" excludebroken="false" excludefullcondition="false"/>            
          </StatusEffect>

          <!-- Check for empty tank inslot3 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" tags="tanktofillinslot3" targetslot="3" excludefullcondition="true" duration="0.1" stackable="false" Comparison="And">
            <Requireditem items="weldingfueltank" type="contained" targetslot="3" excludefullcondition="true"/>
          </StatusEffect>
                
          <!-- Fill the welding tanks inslot3 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="3" Condition="50" Comparison="And">
            <Conditional HasStatusTag="argonavailibleinslot1" targetcontainer="true"/>
          </StatusEffect>

             <!-- Play Tank Sound for slot3-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="3" duration="1.55" stackable="false" disabledeltatime="True" Comparison="And">
            <Conditional HasStatusTag="argonavailibleinslot1" targetcontainer="true" />
            <Sound file="%ModDir%/Sound/remove_tank.ogg" range="1000" loop="false" />
          </StatusEffect>

    
        </Containable>        
      </SubContainer>
    </ItemContainer>
</Item>


<!-- EXTINGUISHER STATION: For filing fire extinguishers -->
 <Item name="Extinguisher Station" identifier="extinguisher_station" tags="machine" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <Sprite name="Extinguisher Station" texture="%ModDir%/Images/extinguisher_station.png" sourcerect="0,0,100,304" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/extinguisher_station.png" sourcerect="0,0,100,304"  origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/extinguisher_station.png" sourcerect="0,0,100,304"  origin="0.5,0.5" depth="0.8" maxcondition="0" />
 
    <ItemContainer capacity="0" maxstacksize="1" itemsperrow="1" slotsperrow="1" hideitems="false" itempos="51,-175" iteminterval="4,30" containedspritedepths="0.81,0.79" canbeselected="true" msg="ExtinguisherStation">
      <GuiFrame relativesize="0.2,0.5" anchor="Center" style="ItemUI" />         
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="960,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="960,64,64,64" origin="0.5,0.5" /> 

      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" >
        <Containable items="extinguisher_tank" excludebroken="true" excludefullcondition="false">  
      
         <!-- Check for a non empty extinguisher_tank in slot 0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="fillailibleinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="extinguisher_tank" type="contained" targetslot="0"/>            
          </StatusEffect>
          
          <!-- Empty the extinguisher_tank in slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-50.0" Comparison="And">
            <Conditional HasStatusTag="tanktofillinslot1" targetcontainer="true"/>
            <Requireditem items="extinguisher_tank" type="contained" targetslot="0"/>
            <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
          </StatusEffect>     
         
        <!-- Empty the extinguisher_tank in slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-50.0" Comparison="And">
            <Conditional HasStatusTag="tanktofillinslot1" targetcontainer="true"/>
            <Requireditem items="extinguisher,s5_extinguisher" type="contained" targetslot="0"/>
            <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
          </StatusEffect>     

        </Containable>  
      </SubContainer>
           
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="extinguisher,s5_extinguisher" excludebroken="false" excludefullcondition="True">
                     
          <!-- Check for a tank inslot1 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="tanktofillinslot1" targetslot="1" excludefullcondition="true" duration="0.1" stackable="false" Comparison="And">
           <Requireditem items="extinguisher" type="contained" targetslot="1"/>      
          </StatusEffect>

           <!-- Check for a tank inslot1 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="tanktofillinslot1" targetslot="1" excludefullcondition="true" duration="0.1" stackable="false" Comparison="And">
            <Requireditem items="extinguisher,s5_extinguisher" type="contained" targetslot="1"/>
          </StatusEffect>
                          
          <!-- Fill the welding tank in slot1 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" stackable="false" Condition="50" Comparison="And">
            <Conditional HasStatusTag="fillailibleinslot0" targetcontainer="true" />
          
          </StatusEffect>

          <!-- Play Tank Sound for slot2-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" duration="1.55" stackable="false" disabledeltatime="True" Comparison="And">
            <Conditional HasStatusTag="fillailibleinslot0" targetcontainer="true" />            
            <Sound file="%ModDir%/Sound/remove_tank.ogg" range="1000" loop="false" />
          </StatusEffect>

        </Containable>  
      </SubContainer>
    </ItemContainer>
</Item>


<!-- OIL STATION: For filing oil cans -->
 <Item name="OIL Station" identifier="oil_station" tags="machine" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.5">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="384,960,64,64" origin="0.5,0.45" />
    <Sprite name="Extinguisher Station" texture="%ModDir%/Images/oil_station.png" sourcerect="0,0,220,392" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/oil_station.png" sourcerect="0,0,220,392"  origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/oil_station.png" sourcerect="0,0,220,392"  origin="0.5,0.5" depth="0.8" maxcondition="0" />
 
    <ItemContainer capacity="0" maxstacksize="1" itemsperrow="1" slotsperrow="1" hideitems="true" itempos="51,-175" iteminterval="4,30" containedspritedepths="0.81,0.79" canbeselected="true" msg="OilStation">
      <GuiFrame relativesize="0.2,0.5" anchor="Center" style="ItemUI" />         
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="640,64,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 

      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" >
        <Containable items="oil_barrel" excludebroken="true" excludefullcondition="false">  
      

         <!-- Check for a non empty oil barrel in slot 0  (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="fillailibleinslot0" targetslot="0" duration="0.1" stackable="false" Comparison="And"> 
            <Requireditem items="oil_barrel" type="contained" targetslot="0"/>            
          </StatusEffect>
          
          <!-- Empty the oil barrel in slot 0! -->
          <StatusEffect type="OnContaining" target="Contained" targetitemtype="SubContainer" targetitemcomponent="SubContainer" targetslot="0" Condition="-50.0" Comparison="And">
            <Conditional HasStatusTag="tanktofillinslot1" targetcontainer="true"/>
            <Requireditem items="oil_barrel" type="contained" targetslot="0"/>
            <Sound file="%ModDir%/Sound/pump_loop.ogg" range="1000" loop="false" />
          </StatusEffect>     
         
      
        </Containable>  
      </SubContainer>
           
      <SubContainer capacity="1" maxstacksize="1" itemsperrow="1" hideitems="true">
        <Containable items="oil" excludebroken="false" excludefullcondition="True">
                     
          <!-- Check for oil can inslot1 (Statuseffect tags need to have a duration applied) -->
          <StatusEffect type="OnContaining" targettype="This" targetitemtype="SubContainer" targetitemcomponent="SubContainer" tags="tanktofillinslot1" targetslot="1" excludefullcondition="true" duration="0.1" stackable="false" Comparison="And">
           <Requireditem items="oil" type="contained" targetslot="1"/>
          </StatusEffect>
                
          <!-- Fill the oil can in slot1 -->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" stackable="false" Condition="50" Comparison="And">
            <Conditional HasStatusTag="fillailibleinslot0" targetcontainer="true" />
          
          </StatusEffect>

          <!-- Play Tank Sound for slot2-->
          <StatusEffect type="OnContaining" target="Contained" targetslot="1" duration="1.55" stackable="false" disabledeltatime="True" Comparison="And">
            <Conditional HasStatusTag="fillailibleinslot0" targetcontainer="true" />            
         
          </StatusEffect>

        </Containable>  
      </SubContainer>
    </ItemContainer>
</Item>

   
  <!-- ROCKET ENGINE GEAR: -->
  <Item name="s1000R" identifier="s1000R" tags="engine" category="Machine" Scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <Sprite texture="%ModDir%/Images/mechtrauma_rocket.png" sourcerect="0,0,320,150" depth="0.8" canflipx="true" origin="-0.6,0.5" />
    <DecorativeSprite texture="%ModDir%/Images/mechtrauma_rocket.png" sourcerect="0,0,320,150" depth="0.5" canflipx="true" origin="-0.6,0.5" offset="5,5" offsetanim="Noise" offsetanimspeed="5.0">
      <!-- <IsActiveConditional CurrentBrokenVolume="gt 0.1" targetitemcomponent="Engine" /> -->
    </DecorativeSprite> -->
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_rocket.png" sourcerect="0,0,320,150" depth="0.8" maxcondition="80" offset="200,0" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma_rocket.png" sourcerect="0,0,320,150" depth="0.8" maxcondition="1" offset="0,30" fadein="true" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" depth="0.82" IsOn="true" castshadows="false" allowingameediting="false" >
      <!-- ROCKET POWER: -->
      <StatusEffect type="OnActive" target="This" Comparison="And">                      
        
        <ParticleEmitter particle="plasma" particlespersecond="10" anglemin="45" anglemax="0" velocitymin="50" velocitymax="150" highqualitycollisiondetection="true"/>
        <ParticleEmitter particle="fixfoam" particlespersecond="80" anglemin="0" anglemax="45" velocitymin="50" velocitymax="150" highqualitycollisiondetection="true"/>
        <Sound file="%ModDir%/Sound/pressure_relief2.ogg" range="100" loop="true" />
        <Conditional force="neq 0" />        
      </StatusEffect>  
    </LightComponent>

    <trigger x="-320" y="0" width="320" height="150" />
    <aitarget sightrange="500" soundrange="7000" staticsight="true" fadeouttime="5"/>
    <Engine minvoltage="0.5" powerconsumption="0.0" maxforce="1000" canbeselected="true" propellerpos="-760,0" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.18" minsize="450,200" anchor="Center" style="ItemUI" />
      <StatusEffect type="InWater" target="This" condition="-1.0" />
      <sound file="Content/Items/Engine/Engine.ogg" type="OnActive" range="7500.0" volumeproperty="CurrentVolume" loop="true" />
      <sound file="Content/Items/Engine/EngineBroken.ogg" type="Always" range="15000.0" volumeproperty="CurrentBrokenVolume" loop="true" />
      <poweronsound file="Content/Items/PowerOnHeavy1.ogg" range="3000" loop="false" />
      <!-- This is a spinning propellor people... Stay out of it!-->
      <propellerdamage damagerange="100" targetforce="750" severlimbsprobability="90.0">
        <Affliction identifier="lacerations" strength="20" />
        <Affliction identifier="bleeding" strength="30" />
      </propellerdamage>
       <!-- Gear Friction.  -->
        <StatusEffect type="Always" targettype="This" Condition="-2.0" delay="1" duration="1" stackable="false" Comparison="And">
         <Conditional Voltage="gt 0.1" />        
        </StatusEffect>

      <!-- Check for turbine blades (Statuseffect tags need to have a duration applied) -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" tags="turbine_blades" duration="0.5" stackable="false" Comparison="And">
        <RequiredItem items="turbine_blade" type="Contained" targetslot="0" mincondition="0.0" />    
        <RequiredItem items="turbine_blade" type="Contained" targetslot="1" mincondition="0.0" />           
      </StatusEffect>  

      <!-- DISABLE: Cannot produce thrust without without turbine blades -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" setvalue="true" Force="0" Comparison="And">
        <Conditional HasStatusTag="neq turbine_blades"/>
      </StatusEffect>  

        
                 
         
    </Engine>

    <ItemContainer capacity="0" maxstacksize="1" slotsperrow="1" canbeselected="true" hideitems="true" msg="RocketEngine">
      <GuiFrame relativesize="0.2,0.6" minsize="450,450" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="3" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,0,64,64" origin="0.5,0.5" /> 

       <!-- TURBINE BLADES: Slots, 0,1 -->
       <SubContainer capacity="2" maxstacksize="1" >
        <Containable items="turbine_blade" excludebroken="true" excludefullcondition="false">
  
        </Containable>
      </SubContainer>
      
      <!-- OIL: Slots 2,3,4,5 -->
      <SubContainer capacity="4" maxstacksize="1" >
      <Containable items="oil" excludebroken="false" excludefullcondition="false">
      
        <!-- Burn oil in all slots! NOTE: Just kidding. -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-1.0" delay="1" duration="1" stackable="false" Comparison="And">
         <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Engine"/>
        </StatusEffect>

        <!-- Filter1 Clean oil slots 2-5!  -->
        <StatusEffect type="OnContaining" targettype="Contained" Condition="0.25" delay="1" duration="1" stackable="false" Comparison="And">
         <RequiredItem items="oil_filter" type="Contained" targetslot="6" mincondition="5.0" />
         <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Engine"/>
        </StatusEffect>

        <!-- Filter2 Clean oil slots 2-5!   -->
         <StatusEffect type="OnContaining" targettype="Contained" Condition="0.25" delay="1" duration="1" stackable="false" Comparison="And">
         <RequiredItem items="oil_filter" type="Contained" targetslot="7" mincondition="5.0" />
         <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Engine"/>
        </StatusEffect>
    
      <!-- Lubricate the gears! (This device will not destroy itself if it has clean oil in it.) -->
      <!-- OIL: SLOT2-->
      <StatusEffect type="OnContaining" target="This" Condition="0.5" delay="1" duration="1" stackable="false" Comparison="And">
         <RequiredItem items="oil" type="Contained" targetslot="2" mincondition="5.0" />
         <Conditional Voltage="gt 0.1" targetcontainer="false" targetitemcomponent="Engine"/>
      </StatusEffect>

      <!-- OIL: SLOT3-->
      <StatusEffect type="OnContaining" target="This" Condition="0.5" delay="1" duration="1" stackable="false" Comparison="And">
         <RequiredItem items="oil" type="Contained" targetslot="3" mincondition="5.0" />
         <Conditional Voltage="gt 0.1" targetcontainer="false" targetitemcomponent="Engine"/>
      </StatusEffect>
            
      <!-- OIL: SLOT3-->
      <StatusEffect type="OnContaining" target="This" Condition="0.5" delay="1" duration="1" stackable="false" Comparison="And">
         <RequiredItem items="oil" type="Contained" targetslot="4" mincondition="5.0" />
         <Conditional Voltage="gt 0.1" targetcontainer="false" targetitemcomponent="Engine"/>
      </StatusEffect>

      <!-- OIL: SLOT4-->
      <StatusEffect type="OnContaining" target="This" Condition="0.5" delay="1" duration="1" stackable="false" Comparison="And">
         <RequiredItem items="oil" type="Contained" targetslot="5" mincondition="5.0" />
         <Conditional Voltage="gt 0.1" targetcontainer="false" targetitemcomponent="Engine"/>
      </StatusEffect>

      </Containable>       
      </SubContainer>


      <!-- FILTERS: Slots 6,7 -->
      <SubContainer capacity="2" maxstacksize="1" >
        <Containable items="Oil_filter" excludebroken="false" excludefullcondition="false">
          <!-- Dirty the filter! NOTE: Reduced condtion from -1.0 to -0.5 on 9-24-22-->
          <StatusEffect type="OnContaining" targettype="Contained" Condition="-1.0" delay="1" duration="1" stackable="false" Comparison="And">
            <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="Engine"/>
          </StatusEffect>
        
        </Containable>
      </SubContainer>

     
    </ItemContainer>


    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="power_in" displayname="connection.powerin" />
      <input name="set_force" displayname="connection.setforce" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="90" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,200" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="DarkSmoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="8" scalemin="1.8" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- SAFETY PROCEDURE: Repair reduction gear when powered off. -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.1" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- Don't stick your arm in a gearbox when it's running! What's wrong with you? -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="gt 0.1" targetitemcomponent="RelayComponent"/>
    
        <Affliction identifier="bleeding" strength="35" /> 
        <Sound file="%ModDir%/Sound/screams_woman_2.ogg" range="1000" />
        <Sound file="Content/Sounds/Damage/Gore1.ogg" range="1000" />

      </StatusEffect>

    </Repairable>
  </Item>

  <!-- The Beloved Steam Turbine! -->
 <Item name="Steam Turbine" identifier="steam_turbine" aliases="steam_turbine_p" tags="steam,mtpriority,steamturbine,mtupdate" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="0.2" scale="0.75">
    <UpgradePreviewSprite scale="2.5" texture="Content/UI/WeaponUI.png" sourcerect="384,960,64,64" origin="0.5,0.45" />
    <Upgrade gameversion="0.10.0.0" scale="*0.5" />
    <Sprite name="Steam Turbine" texture="%ModDir%/Images/steam_turbine.png" sourcerect="0,0,372,280" depth="0.8" origin="0.5,0.5" />
    <BrokenSprite texture="%ModDir%/Images/steam_turbine.png" sourcerect="0,0,372,280" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/steam_turbine.png" sourcerect="0,0,372,280" origin="0.5,0.5" depth="0.8" maxcondition="0" />
    
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false" />
    
    <RelayComponent canbeselected="true" vulnerabletoemp="false" maxPower="6000" canbeoverloaded="false">
      <GuiFrame relativesize="0.25,0.15" minsize="450,160" anchor="Center" style="ItemUI" /> 
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />

      <!-- It's bad when a turbine breaks and is still running, right? -->
      <StatusEffect type="OnBroken" targettype="This" isOn="false" Comparison="and">
        <Fire size="15" />
        <Conditional voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
      </StatusEffect>
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact3.ogg" range="1000" /> 
      </StatusEffect>

    </RelayComponent>

    <ItemContainer capacity="0" slotsperrow="4" maxstacksize="1" canbeselected="true" hideitems="true" msg="SteamTurbine">
      <GuiFrame relativesize="0.25,0.3" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="3" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="320,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="384,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="384,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="384,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="384,128,64,64" origin="0.5,0.5" /> 
      
      <SubContainer capacity="4">
        <Containable items="turbine_blade" excludebroken="false" excludefullcondition="false">                            
          <!-- DISABLE: Strip the trubine blades sound only -->
          <StatusEffect type="OnContaining" targettype="Contained" checkconditionalalways="true" Comparison="And"> 
            <Conditional condition="lt 25.0" targetcontainer="true" />                   
            <Conditional Voltage="gt 0.5" targetcontainer="true" targetitemcomponent="RelayComponent"/>
            <Sound file="Content/Sounds/Damage/StructureCrunch1.ogg" range="1000" />
          </StatusEffect>      
        </Containable>
      </SubContainer>

      <!-- bearings -->
      <SubContainer capacity="4">
        <Containable items="bearing" excludebroken="false" excludefullcondition="false"/>                 
      </SubContainer>
    </ItemContainer>
    
    <ConnectionPanel selectkey="Action" canbeselected = "true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="steam_in" displayname="connection.steamin1"/>
      <output name="kinetic_out" displayname="connection.kineticout" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="state_out" displayname="connection.stateout" fallbackdisplayname="connection.signalout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- SAFETY PROCEDURE: Repair turbine when off. -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.4" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- Don't stick your arm in a turbine when it's running! What's wrong with you? -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="gte 0.5" targetitemcomponent="RelayComponent"/>
          <LuaHook name="mechtraumaAmputation.OnFailure" /> <!-- I WILL HAVE MY AMPUTATIONS! -->      
      </StatusEffect>
    
    </Repairable>
  </Item>

  <!-- STEAM BOILER: standard-->
  <Item name="Boiler" identifier="boiler" tags="mtupdate,steam,steamBoiler" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="1.0" scale="1.0">
    
    <Sprite name="Boiler" texture="%Moddir%/Images/boiler.png" depth="0.8" sourcerect="0,0,370,400">
    </Sprite>
    
    <!-- shaky boiler -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" depth="0.8" sourcerect="0,0,370,400" canflipx="true" origin="0.5,0.5" offset="10,10" offsetanim="Noise" offsetanimspeed="5.0">
    <!-- <IsActiveConditional IsActive="true" /> -->
      <IsActiveConditional Condition="lte 50" />
      <IsActiveConditional InWater="false" />
      <IsActiveConditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>      
    </DecorativeSprite>    
    
    <!-- background -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="400,216,56,56" depth="0.824" origin="0.5,0.5" offset="10,-43" canflipx="true"/>
    
    <!-- bubbles -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="380,40,100,118" depth="0.823" origin="0.5,0.5" offset="-35,-43" scale="0.8" rotation="0"  rotationspeed="-100" canflipx="true">
      <!-- <AnimationConditional Voltage="gt 0.5" /> -->
      <IsActiveConditional Voltage="gt 0.5" targetitemcomponent="LightComponent" />
    </DecorativeSprite>
    
    <!-- bubbles2 -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="380,40,100,118" depth="0.823" origin="0.5,0.5" offset="50,-43"  scale="1" rotation="0" rotationspeed="80" canflipx="true">
      <!-- <AnimationConditional Voltage="gt 0.5" /> -->
      <IsActiveConditional Voltage="gt 0.5" targetitemcomponent="LightComponent"  />
    </DecorativeSprite>
    
    <BrokenSprite texture="%ModDir%/Images/boiler.png" sourcerect="0,400,372,400" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    
    <!--
    <Sprite name="Boiler" texture="%ModDir%/Images/boiler.png" sourcerect="0,0,372,400" depth="0.8" origin="0.5,0.5" />
    <DecorativeSprite name="BoilerTop" texture="%ModDir%/Images/boiler.png" sourcerect="0,0,372,220" depth="-0.4" origin="0.5,0.5" offset="0,90" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false" />
    -->

   <!-- must add light texture to match -->
    <LightComponent range="30.0" lightcolor="120,100,20,150" powerconsumption="10" IsOn="True" allowingameediting="false" offset="10,-43">
        <StatusEffect Type="OnActive" Target="This" >
            <!-- <ParticleEmitter particle="steamspray" particlespersecond="10" scale="0.25" anglemin="70" anglemax="110" velocitymin="250" velocitymax="500" highqualitycollisiondetection="true" lifetime="0.3"/> -->
            <!-- <sound file="Content/Items/Diving/ITEMS_divingSuitOxygenLeakLoop.ogg" type="OnUse" range="750.0" loop="true" /> -->
        </StatusEffect>
    </LightComponent>

    
    <Powered powerconsumption="1" currpowerconsumption="1" minvoltage="0.5" isactive="true">
      <!-- <GuiFrame relativesize="0.2,0.15" minsize="350,160" maxsize="420,192" anchor="Center" relativeoffset="0.5,-0.5" style="ItemUI" msg="ItemMsgInteractSelect" /> -->
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />
    </Powered>
     <RelayComponent canbeselected="true" powerconsumption="5.0" minvoltage="0.5" vulnerabletoemp="false" maxPower="10000" canbeoverloaded="false">
      <GuiFrame relativesize="0.2,0.15" minsize="450,160" anchor="Center" style="ItemUI" />
      <!-- Am I on? -->
      <StatusEffect type="Always" targettype="This" Comparison="And" isOn="true">
        <Conditional voltage="gt 0.1" targetitemcomponent="RelayComponent" />
        <Conditional Condition="gt 10" />
        <sound file="Content/Items/OxygenGenerator/OxygenGenerator.ogg" type="OnActive" range="1000.0" volumeproperty="CurrFlow" volume="0.8" loop="true" />
      </StatusEffect>
      <!-- Am I off? -->
      <StatusEffect type="Always" targettype="This" Comparison="or" isOn="false">
        <Conditional voltage="lt 0.1" targetitemcomponent="RelayComponent" />
        <Conditional Condition="lte 10" />
      </StatusEffect>
      <!-- Pressure vessel failing, your boiler has leak. -->
      <StatusEffect type="Always" targettype="This" delay="1.0" duration="5.0" stackable="false" Comparison="And">
        <Conditional Condition="lte 40" />
        <Conditional InWater="false" />
        <Conditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-15" anglemax="-55" velocitymin="500" velocitymax="1500" position="5,5" highqualitycollisiondetection="true" />
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-125" anglemax="-165" velocitymin="500" velocitymax="1500" position="5,5" highqualitycollisiondetection="true" />
        <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />
        <Explosion range="200" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="0" stackable="false">
          <Affliction identifier="burn" strength="25" />
        </Explosion>
      </StatusEffect>     
      <!-- It's bad when a boiler blows up, right? -->
      <StatusEffect type="OnBroken" targettype="This" Comparison="or" isOn="false" comparaison="and">
        <Conditional voltage="gt 0.9" targetitemcomponent="RelayComponent" />
        <Explosion range="800" structuredamage="200" force="5.0" camerashake="200" flashrange="10000" flashduration="5.0" screencolor="255,255,255,255" screencolorrange="5000" screencolorduration="3.0">
          <Affliction identifier="steam_burn" strength="200" />
          <Affliction identifier="explosiondamage" strength="50" />
          <Affliction identifier="stun" strength="5" />
        </Explosion>
      </StatusEffect>
       <!-- Aftermath -->
      <StatusEffect type="Always" targettype="This" delay="1.0" duration="5.0" stackable="false" Comparison="And">
        <Conditional Condition="lt 1" />
        <Conditional InWater="false" />        
        <ParticleEmitter particle="steamspray" particlespersecond="1" scalemin="0.5" scalemax="3.5" anglemin="0" anglemax="0" velocitymin="0" velocitymax="15" position="5,5" highqualitycollisiondetection="false" />        
      </StatusEffect>
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact2.ogg" range="1000" /> 
      </StatusEffect>
    </RelayComponent>
    
    <ItemContainer capacity="2" maxstacksize="1" canbeselected="true" hideitems="true" itempos="31,-250" iteminterval="44.5,0" msg="CirculatorPump">
      <GuiFrame relativesize="0.2,0.2" minsize="450,160" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" />
 
      <Containable items="circulator_pump" excludebroken="false" excludefullcondition="false"/>
    </ItemContainer>

    <!-- CONNECTION PANEL: Electrical power in, steam power out -->
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin1"/>
      <output name="steam_out" displayname="connection.steamout" />
      <input name="set_rate" displayname="connection.batterysetrechargespeed" />
      <output name="charge" displayname="connection.batterychargestatusout" />
      <output name="charge_%" displayname="connection.batterychargepercentage" />
      <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" targetitemcomponent="RelayComponent" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- REPAIR FAILURE: OFF -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.5" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- REPAIR FAILURE: ON -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Affliction identifier="burn" strength="100" />    
        <Conditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
        <Sound file="Content/Sounds/Damage/Gore1.ogg" range="1000" />
      </StatusEffect>
    </Repairable>
  </Item>

  <!-- STEAM BOILER: horizontal-->
  <Item name="Steam Boiler" identifier="steam_boiler_h" tags="mtupdate,steam,steamBoiler" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="1.0" scale="0.5">
    <Sprite name="Boiler" texture="%ModDir%/Images/boilerh.png" sourcerect="0,0,760,456" depth="0.8" origin="0.5,0.5" />    
    <BrokenSprite texture="%ModDir%/Images/boilerh.png" sourcerect="0,512,760,456" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/boilerh.png" sourcerect="0,1024,760,456" origin="0.5,0.5" depth="0.8" maxcondition="0" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false" />
    <Powered powerconsumption="1" currpowerconsumption="1" minvoltage="0.5" isactive="true">
      <!-- <GuiFrame relativesize="0.2,0.15" minsize="350,160" maxsize="420,192" anchor="Center" relativeoffset="0.5,-0.5" style="ItemUI" msg="ItemMsgInteractSelect" /> -->
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />
    </Powered>
    <RelayComponent canbeselected="true" powerconsumption="5.0" minvoltage="0.5" vulnerabletoemp="false" maxPower="10000" canbeoverloaded="false">
      <GuiFrame relativesize="0.2,0.15" minsize="450,160" anchor="Center" style="ItemUI" />
      <!-- Am I on? -->
      <StatusEffect type="Always" targettype="This" Comparison="And" isOn="true">
        <Conditional voltage="gt 0.1" targetitemcomponent="RelayComponent" />
        <Conditional Condition="gt 10" />
        <sound file="Content/Items/OxygenGenerator/OxygenGenerator.ogg" type="OnActive" range="1000.0" volumeproperty="CurrFlow" volume="0.8" loop="true" />
      </StatusEffect>
      <!-- Am I off? -->
      <StatusEffect type="Always" targettype="This" Comparison="or" isOn="false">
        <Conditional voltage="lt 0.1" targetitemcomponent="RelayComponent" />
        <Conditional Condition="lte 10" />
      </StatusEffect>
      <!-- Pressure vessel failing, your boiler has leak. -->
      <StatusEffect type="Always" targettype="This" delay="1.0" duration="5.0" stackable="false" Comparison="And">
        <Conditional Condition="lte 50" />
        <Conditional InWater="false" />
        <Conditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true" />
        <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />
        <Explosion range="200" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="0" stackable="false">
          <Affliction identifier="burn" strength="25" />
        </Explosion>
      </StatusEffect>     
      <!-- It's bad when a boiler blows up, right? -->
      <StatusEffect type="OnBroken" targettype="This" Comparison="or" isOn="false" comparaison="and">
        <Conditional voltage="gt 0.9" targetitemcomponent="RelayComponent" />
        <Explosion range="800" structuredamage="200" force="5.0" camerashake="200" flashrange="10000" flashduration="5.0" screencolor="255,255,255,255" screencolorrange="5000" screencolorduration="3.0">
          <Affliction identifier="steam_burn" strength="200" />
          <Affliction identifier="explosiondamage" strength="50" />
          <Affliction identifier="stun" strength="5" />
        </Explosion>
      </StatusEffect>
       <!-- Aftermath -->
      <StatusEffect type="Always" targettype="This" delay="1.0" duration="5.0" stackable="false" Comparison="And">
        <Conditional Condition="lt 1" />
        <Conditional InWater="false" />        
        <ParticleEmitter particle="steamspray" particlespersecond="1" scalemin="0.5" scalemax="3.5" anglemin="0" anglemax="0" velocitymin="0" velocitymax="15" position="5,5" highqualitycollisiondetection="false" />        
      </StatusEffect>
      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact2.ogg" range="1000" /> 
      </StatusEffect>
    </RelayComponent>
    
    <ItemContainer capacity="2" maxstacksize="1" canbeselected="true" hideitems="true" itempos="31,-250" iteminterval="44.5,0" msg="CirculatorPump">
      <GuiFrame relativesize="0.2,0.2" minsize="450,160" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" />
 
      <Containable items="circulator_pump" excludebroken="false" excludefullcondition="false"/>
    </ItemContainer>

    <!-- CONNECTION PANEL: Electrical power in, steam power out -->
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin1"/>
      <output name="steam_out" displayname="connection.steamout" />
      <input name="set_rate" displayname="connection.batterysetrechargespeed" />
      <output name="charge" displayname="connection.batterychargestatusout" />
      <output name="charge_%" displayname="connection.batterychargepercentage" />
      <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" targetitemcomponent="RelayComponent" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="1" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      
      
      <!-- REPAIR FAILURE: OFF -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.5" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- REPAIR FAILURE: ON -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Affliction identifier="burn" strength="100" />    
        <Conditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
        <Sound file="Content/Sounds/Damage/Gore1.ogg" range="1000" />
      </StatusEffect>
    </Repairable>
  </Item>

<!-- ADVANCED STEAM BOILER: -->
<!-- NOTES: Possibly need to move boiler damage to be dependent on over pressure and make tie circulator pumps to the ability to control the charge rate? -->
  <Item name="Advanced Boiler" identifier="advanced_boiler" tags="mtpriority,steam,mtupdate,MechtraumaBoiler,steamBoiler" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="1.0" scale="1.0">
        <Sprite name="Boiler" texture="%Moddir%/Images/boiler.png" depth="0.8" sourcerect="0,0,370,400">
    </Sprite>
    
    <!-- shaky boiler -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" depth="0.8" sourcerect="0,0,370,400" canflipx="true" origin="0.5,0.5" offset="10,10" offsetanim="Noise" offsetanimspeed="5.0">
    <!-- <IsActiveConditional IsActive="true" /> -->
      <IsActiveConditional Condition="lte 50" />
      <IsActiveConditional InWater="false" />
      <IsActiveConditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>      
    </DecorativeSprite>    
    
    <!-- background -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="400,216,56,56" depth="0.825" origin="0.5,0.5" offset="10,-43" canflipx="true"/>
    
    <!-- bubbles shake 
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="380,40,100,118" depth="0.824" origin="0.5,0.0" scale="0.5" offset="20,20" offsetanim="Noise" offsetanimspeed="0.1" canflipx="true">
      <AnimationConditional Voltage="gt 0.5" />
      <IsActiveConditional Voltage="gt 0.5" targetitemcomponent="LightComponent" />
    </DecorativeSprite>-->

    <!-- bubbles -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="380,40,100,118" depth="0.823" origin="0.5,0.5" offset="-35,-43" scale="0.8" rotation="0"  rotationspeed="-100" canflipx="true">
      <!-- <AnimationConditional Voltage="gt 0.5" /> -->
      <IsActiveConditional Voltage="gt 0.1" targetitemcomponent="LightComponent" />
    </DecorativeSprite>
    
    <!-- bubbles2 -->
    <DecorativeSprite texture="%Moddir%/Images/boiler.png" sourcerect="380,40,100,118" depth="0.823" origin="0.5,0.5" offset="50,-43"  scale="1" rotation="0" rotationspeed="80" canflipx="true">
      <!-- <AnimationConditional Voltage="gt 0.5" /> -->
      <IsActiveConditional Voltage="gt 0.1" targetitemcomponent="LightComponent"  />
    </DecorativeSprite>
    
    <BrokenSprite texture="%ModDir%/Images/boiler.png" sourcerect="0,400,372,400" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    
    <!-- must add light texture to match -->
    <LightComponent range="30.0" lightcolor="120,100,20,150" powerconsumption="10" IsOn="True" allowingameediting="false" offset="10,-43">
      <StatusEffect type="Always" targettype="This" IsOn="false" Comparison="Or">
        <Conditional RechargeSpeed="lte 0.0" targetitemcomponent="PowerContainer"/>      
        <Conditional HasStatusTag="batterydisabled" />
      </StatusEffect>
    </LightComponent>



    <MTBoiler vulnerabletoemp="false" capacity="500.0" maxrechargespeed="6000.0" maxoutput="6000.0" canbeselected="true" indicatorposition="158,286" indicatorsize="72,18" ishorizontal="true" msg="ItemMsgInteractSelect" efficiency="90">
      <GuiFrame relativesize="0.25,0.23" minsize="350,200" anchor="Center" style="ItemUI" /> <!--minsize="350,250" maxsize="420,300"-->
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />

      <!-- Am I on? -->
      <StatusEffect type="Always" targettype="This" Comparison="And">
        <Conditional condition="gt 10" />
        <Conditional RechargeSpeed="gt 0.0" targetitemcomponent="MTBoiler"/>
        <sound file="Content/Items/OxygenGenerator/OxygenGenerator.ogg" type="OnActive" range="1000.0" volumeproperty="CurrFlow" volume="0.8" loop="true"/>  
      </StatusEffect>

      <!-- Pressure vessel failing, your boiler has leak. -->
      <StatusEffect type="Always" targettype="This" delay="1.0" duration="5.0" stackable="false" Comparison="And">
        <Conditional Condition="lte 40" />                        
        <Conditional InWater="false" />  
        <Conditional Charge="gt 1" />
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-15" anglemax="-55" velocitymin="500" velocitymax="1500" position="5,5" highqualitycollisiondetection="true" />
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-125" anglemax="-165" velocitymin="500" velocitymax="1500" position="5,5" highqualitycollisiondetection="true" />
        <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />   
        <Explosion range="200" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="0" stackable="false">        
          <Affliction identifier="burn" strength="25" />          
        </Explosion>
      </StatusEffect>

      <!-- HIGH PRESSURE FAILURE -->
      <StatusEffect type="OnBroken" targettype="This" Comparison="or" comparaison="and">
        <Conditional Charge="gt 25"/>
        <Explosion range="800" structuredamage="200" force="5.0" camerashake="200" flashrange="10000" flashduration="5.0" screencolor="255,255,255,255" screencolorrange="5000" screencolorduration="3.0">
          <Affliction identifier="burn" strength="200" />
          <Affliction identifier="explosiondamage" strength="50" />
          <Affliction identifier="stun" strength="5" />
        </Explosion>
      </StatusEffect>

      <!-- LOW PRESSURE FAILURE -->
      <StatusEffect type="OnBroken" targettype="This" Comparison="or" comparaison="and">
        <Conditional Charge="gt 1"/>
        <Explosion range="800" structuredamage="50" force="1.0" camerashake="200" flashrange="500" flashduration="0.5" screencolor="255,255,255,50" screencolorrange="1000" screencolorduration="1.0">
          <Affliction identifier="burn" strength="10" />
          <Affliction identifier="explosiondamage" strength="10" />
          <Affliction identifier="stun" strength="1" />
        </Explosion>
      </StatusEffect>

      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact2.ogg" range="1000" /> 
      </StatusEffect>
   
      <!-- OVERHEAT: Without circulator pumps, this device will overheat and build up too much pressure. 
      <StatusEffect type="Always" targettype="This" Condition="-2.0" delay="1" duration="1" stackable="false" Comparison="And">
        <Conditional Voltage="gt 0.1" targetitemcomponent="MTBoiler"/>         
      </StatusEffect> -->

    </MTBoiler>
 
    <ItemContainer capacity="2" maxstacksize="1" canbeselected="true" hideitems="true" itempos="31,-250" iteminterval="44.5,0" msg="CirculatorPump">
      <GuiFrame relativesize="0.2,0.2" minsize="450,160" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" />
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" />
 
      <Containable items="circulator_pump" excludebroken="false" excludefullcondition="false"/>
    </ItemContainer>
   
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin1"/>
      <output name="steam_out" displayname="connection.steamout" />
      <input name="set_rate" displayname="connection.batterysetrechargespeed" />
      <output name="charge" displayname="connection.batterychargestatusout" />
      <output name="charge_%" displayname="connection.batterychargepercentage" />
      <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" targetitemcomponent="RelayComponent" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- REPAIR FAILURE: OFF -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.5" targetitemcomponent="PowerContainer"/>
      </StatusEffect>

      <!-- REPAIR FAILURE: ON -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Affliction identifier="burn" strength="100" />    
        <Conditional Voltage="gt 0.5" targetitemcomponent="PowerContainer"/>
        <Sound file="Content/Sounds/Damage/Gore1.ogg" range="1000" />
      </StatusEffect>
    
    </Repairable>
  </Item>

  <!-- ADVANCED STEAM BOILER: -->
  <!-- NOTES: Possibly need to move boiler damage to be dependent on over pressure and make tie circulator pumps to the ability to control the charge rate? -->
  <Item name="Advanced Boiler H" identifier="advanced_boiler_h" tags="mtpriority, steam, MechtraumaBoiler,steamBoiler" category="Machine" linkable="false" damagedbyexplosions="true" explosiondamagemultiplier="1.0" scale="0.5">
    <Sprite name="Boiler" texture="%ModDir%/Images/boilerh.png" sourcerect="0,0,760,456" depth="0.8" origin="0.5,0.5" />    
    <BrokenSprite texture="%ModDir%/Images/boilerh.png" sourcerect="0,512,760,456" origin="0.5,0.5" depth="0.8" maxcondition="80" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/boilerh.png" sourcerect="0,1024,760,456" origin="0.5,0.5" depth="0.8" maxcondition="0" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false" />

    <MTBoiler vulnerabletoemp="false" capacity="500.0" maxrechargespeed="6000.0" maxoutput="6000.0" canbeselected="true" indicatorposition="166,110" indicatorsize="20,80" ishorizontal="false" msg="ItemMsgInteractSelect" efficiency="90">
      <GuiFrame relativesize="0.25,0.23" minsize="350,200" anchor="Center" style="ItemUI" /> <!--minsize="350,250" maxsize="420,300"-->
      <poweronsound file="Content/Items/PowerOnLight2.ogg" range="1500" loop="false" />

      <!-- Am I on? -->
      <StatusEffect type="Always" targettype="This" Comparison="And">
        <Conditional condition="gt 10" />
        <Conditional RechargeSpeed="gt 0.0" targetitemcomponent="MTBoiler"/>
        <sound file="Content/Items/OxygenGenerator/OxygenGenerator.ogg" type="OnActive" range="1000.0" volumeproperty="CurrFlow" volume="0.8" loop="true"/>  
      </StatusEffect>

      <!-- Pressure vessel failing, your boiler has leak. -->
      <StatusEffect type="Always" targettype="This" delay="1.0" duration="5.0" stackable="false" Comparison="And">
        <Conditional condition="lte 50" />              
        <Conditional InWater="false" />  
        <Conditional Charge="gt 1" target="this"/>
        <ParticleEmitter particle="steamspray" particlespersecond="80" anglemin="-90" anglemax="-90" velocitymin="150" velocitymax="200" position="5,5" highqualitycollisiondetection="true"/>
        <Sound file="%ModDir%/Sound/pressure_relief.ogg" range="1000" loop="true" />   
        <Explosion range="200" structuredamage="0" force="0.001" flames="false" sparks="false" shockwave="false" camerashake="0" ignorecover="false" smoke="false" flashrange="0" underwaterbubble="false" delay="0" stackable="false">        
          <Affliction identifier="burn" strength="25" />          
        </Explosion>
      </StatusEffect>

      <!-- It's bad when a boiler blows up, right? -->
      <StatusEffect type="OnBroken" targettype="This" Comparison="or" comparaison="and">
        <Conditional Charge="gt 1" target="this"/>
        <Explosion range="800" structuredamage="200" force="5.0" camerashake="200" flashrange="10000" flashduration="5.0" screencolor="255,255,255,255" screencolorrange="5000" screencolorduration="3.0">
          <Affliction identifier="burn" strength="200" />
          <Affliction identifier="explosiondamage" strength="50" />
          <Affliction identifier="stun" strength="5" />
        </Explosion>
      </StatusEffect>

      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact2.ogg" range="1000" /> 
      </StatusEffect>
   
      <!-- OVERHEAT: Without circulator pumps, this device will overheat and build up too much pressure. 
      <StatusEffect type="Always" targettype="This" Condition="-2.0" delay="1" duration="1" stackable="false" Comparison="And">
        <Conditional Voltage="gt 0.1" targetitemcomponent="MTBoiler"/>         
      </StatusEffect> -->

    </MTBoiler>

    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false">
      <StatusEffect type="Always" targettype="This" IsOn="false" Comparison="Or">
        <Conditional RechargeSpeed="lte 0.0" targetitemcomponent="PowerContainer"/>      
        <Conditional HasStatusTag="batterydisabled" />
      </StatusEffect>
    </LightComponent>
 
    <ItemContainer capacity="2" maxstacksize="1" canbeselected="true" hideitems="true" itempos="31,-250" iteminterval="44.5,0" msg="CirculatorPump">
      <GuiFrame relativesize="0.2,0.2" minsize="450,160" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,128,64,64" origin="0.5,0.5" /> 
     
       <!-- Deteriorate the circulator_pumps -->
      <Containable items="circulator_pump" excludebroken="false" excludefullcondition="false">
        <StatusEffect type="OnContaining" targettype="Contained" Condition="-0.4" Comparison="And">
         <Conditional Voltage="gt 0.1" targetcontainer="true" targetitemcomponent="PowerContainer"/>
        </StatusEffect>
         
      
      <!-- CIRCULATORS: Prevents overheating. -->

        <!--SLOT0-->
        <StatusEffect type="OnContaining" target="This" Condition="1.0" delay="1" duration="1" stackable="false" Comparison="And">
          <RequiredItem items="circulator_pump" type="Contained" targetslot="0" mincondition="5.0" />
          <Conditional Voltage="gt 0.1" targetcontainer="false" targetitemcomponent="PowerContainer"/>
        </StatusEffect>

        <!--SLOT1-->
        <StatusEffect type="OnContaining" target="This" Condition="1.0" delay="1" duration="1" stackable="false" Comparison="And">
          <RequiredItem items="circulator_pump" type="Contained" targetslot="1" mincondition="5.0" />
          <Conditional Voltage="gt 0.1" targetcontainer="false" targetitemcomponent="PowerContainer"/>
        </StatusEffect>
            
      </Containable>
    </ItemContainer>
   
    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel"/>
      <RequiredItem items="screwdriver" type="Equipped"/>
      <input name="power_in" displayname="connection.powerin1"/>
      <output name="steam_out" displayname="connection.steamout" />
      <input name="set_rate" displayname="connection.batterysetrechargespeed" />
      <output name="charge" displayname="connection.batterychargestatusout" />
      <output name="charge_%" displayname="connection.batterychargepercentage" />
      <output name="charge_rate" displayname="connection.batteryrechargespeedout" />
      <output name="condition_out" displayname="connection.conditionout" />
      <output name="load_value_out" displayname="connection.loadvalueout" />
      <output name="power_value_out" displayname="connection.powervalueout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" targetitemcomponent="RelayComponent" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- REPAIR FAILURE: OFF -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.5" targetitemcomponent="PowerContainer"/>
      </StatusEffect>

      <!-- REPAIR FAILURE: ON -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Affliction identifier="burn" strength="100" />    
        <Conditional Voltage="gt 0.5" targetitemcomponent="PowerContainer"/>
        <Sound file="Content/Sounds/Damage/Gore1.ogg" range="1000" />
      </StatusEffect>
    
    </Repairable>
  </Item>

  <!-- REDUCTION GEAR: -->
  <Item name="Reduction Gear" identifier="reduction_gear" aliases="reduction_gear_P" tags="engine,mtpriority,reductiongear,mtupdate" category="Machine" Scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <Sprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="0,0,1024,700" depth="0.8" canflipx="true" origin="0.5,0.5" scale="0.25"/>
    <!-- <DecorativeSprite texture="%ModDir%/Images/reduction_gear.png" depth="0.7999" sourcerect="0,317,1613,592" canflipx="true" origin="0.5,0.5" offset="5,5" offsetanim="Noise" offsetanimspeed="5.0">
      <IsActiveConditional CurrentBrokenVolume="gt 0.1" targetitemcomponent="Engine" />
    </DecorativeSprite> -->
    <BrokenSprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="0,0,1024,700" depth="0.8" maxcondition="80" offset="0,0" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="0,0,1024,700" depth="0.8" maxcondition="1" offset="0,0" fadein="true" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false" />
    <trigger x="200 " y="-100" width="800" height="500" />
    <aitarget sightrange="500" soundrange="7000" staticsight="true" fadeouttime="5"/>
    <Engine minvoltage="0.5" powerconsumption="4000.0" maxforce="2000" canbeselected="true" propellerpos="-760,0" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.18" minsize="450,200" anchor="Center" style="ItemUI" />
      <StatusEffect type="InWater" target="This" condition="-1.0" />
      <sound file="Content/Items/Engine/Engine.ogg" type="OnActive" range="7500.0" volumeproperty="CurrentVolume" loop="true" />
      <sound file="Content/Items/Engine/EngineBroken.ogg" type="Always" range="15000.0" volumeproperty="CurrentBrokenVolume" loop="true" />
      <poweronsound file="Content/Items/PowerOnHeavy1.ogg" range="3000" loop="false" />
      <!-- This is a spinning propellor people... Stay out of it!-->
      <propellerdamage damagerange="200" targetforce="750" severlimbsprobability="90.0">
        <Affliction identifier="lacerations" strength="20" />
        <Affliction identifier="bleeding" strength="30" />
      </propellerdamage>

      <!-- Check for drive gears (Statuseffect tags need to have a duration applied)   -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" tags="drive_gears" duration="0.5" stackable="false" Comparison="And">
        <RequiredItem items="drive_gear" type="Contained" targetslot="0" mincondition="0.0" />    
        <RequiredItem items="drive_gear" type="Contained" targetslot="1" mincondition="0.0" />    
       
      </StatusEffect>

      <!-- DISABLE: Cannot spin propellor without drive gears -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" setvalue="true" Force="0" Comparison="And">
        <Conditional HasStatusTag="neq drive_gears"/>
      </StatusEffect>

      <!-- It's bad when a gearbox breaks and is still running, right?  -->
      <StatusEffect type="OnBroken" targettype="This" isOn="false" Comparison="or">
        <Fire size="15"/>
        <Conditional Voltage="gt 0.1" />
      </StatusEffect>

      <!-- Interact Sound -->
      <StatusEffect type="OnPicked" target="This" >          
        <Sound file="%ModDir%/Sound/item_interact4.ogg" range="1000" /> 
      </StatusEffect>
        
    </Engine>

    <ItemContainer capacity="0" maxstacksize="1" slotsperrow="2" canbeselected="true" hideitems="true" msg="GearBox">
      <GuiFrame relativesize="0.2,0.6" minsize="450,450" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="3" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,0,64,64" origin="0.5,0.5" /> 

       <!-- DRIVE GEARS: Slots, 0,1 -->
       <SubContainer capacity="2" maxstacksize="1" >
        <Containable items="drive_gear" excludebroken="true" excludefullcondition="false">
          
          <!-- DISABLE: Strip the drive gears - sound only -->
          <StatusEffect type="OnContaining" targettype="Contained" checkconditionalalways="true" Comparison="And"> 
            <Conditional condition="lt 40.0" targetcontainer="true" />                   
            <Conditional Force="neq 0" targetcontainer="true" targetitemcomponent="Engine"/>
            <Sound file="Content/Sounds/Damage/StructureCrunch1.ogg" range="1000" />
          </StatusEffect> 
                 
        </Containable>
      </SubContainer>
      <!-- OIL: Slots 2,3,4,5 -->
      <SubContainer capacity="4" maxstacksize="1" >
        <Containable items="oil" excludebroken="false" excludefullcondition="false"/>
      </SubContainer>
      <!-- FILTERS: Slots 6,7 -->
      <SubContainer capacity="2" maxstacksize="1" >
        <Containable items="Oil_filter" excludebroken="false" excludefullcondition="false"/>
      </SubContainer>
    </ItemContainer>

      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="kinetic_in" displayname="connection.kineticin" />
      <input name="set_force" displayname="connection.setforce" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="90" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,200" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="DarkSmoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="8" scalemin="1.8" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- SAFETY PROCEDURE: Repair reduction gear when powered off. -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.5" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- Don't stick your arm in a gearbox when it's running! What's wrong with you? -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
        <LuaHook name="mechtraumaAmputation.OnFailure" /> <!-- I WILL HAVE MY AMPUTATIONS! -->      
      </StatusEffect>

    </Repairable>
  </Item>

  <!-- REDUCTION GEAR: -->
  <Item name="Reduction Gear V2" identifier="reduction_gearv2" aliases="reduction_gear_P" tags="engine,mtpriority,reductiongear,mtupdate" category="Machine" Scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
    <Sprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="0,768,580,512" depth="0.8" canflipx="true" origin="0.5,0.5" scale="0.25"/>
    <!-- <DecorativeSprite texture="%ModDir%/Images/reduction_gear.png" depth="0.7999" sourcerect="0,317,1613,592" canflipx="true" origin="0.5,0.5" offset="5,5" offsetanim="Noise" offsetanimspeed="5.0">
      <IsActiveConditional CurrentBrokenVolume="gt 0.1" targetitemcomponent="Engine" />
    </DecorativeSprite> -->
    <BrokenSprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="640,768,580,512" depth="0.8" maxcondition="80" offset="0,0" fadein="true" />
    <BrokenSprite texture="%ModDir%/Images/reduction_gear.png" sourcerect="1280,768,580,512"  depth="0.8" maxcondition="1" offset="0,0" fadein="true" />
    <LightComponent range="140.0" lightcolor="255,184,108,193" powerconsumption="5" IsOn="true" castshadows="false" allowingameediting="false" />
    <trigger x="50" y="-50" width="480" height="412" />
    <aitarget sightrange="500" soundrange="7000" staticsight="true" fadeouttime="5"/>
    <Engine minvoltage="0.5" powerconsumption="4000.0" maxforce="2000" canbeselected="true" propellerpos="-760,0" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.2,0.18" minsize="450,200" anchor="Center" style="ItemUI" />
      <StatusEffect type="InWater" target="This" condition="-1.0" />
      <sound file="Content/Items/Engine/Engine.ogg" type="OnActive" range="7500.0" volumeproperty="CurrentVolume" loop="true" />
      <sound file="Content/Items/Engine/EngineBroken.ogg" type="Always" range="15000.0" volumeproperty="CurrentBrokenVolume" loop="true" />
      <poweronsound file="Content/Items/PowerOnHeavy1.ogg" range="3000" loop="false" />
      <!-- This is a spinning propellor people... Stay out of it!-->
      <propellerdamage damagerange="200" targetforce="750" severlimbsprobability="90.0">
        <Affliction identifier="lacerations" strength="20" />
        <Affliction identifier="bleeding" strength="30" />      
      </propellerdamage>

      <!-- Check for drive gears (Statuseffect tags need to have a duration applied) -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" tags="drive_gears" duration="0.5" stackable="false" Comparison="And">
        <RequiredItem items="drive_gear" type="Contained" targetslot="0" mincondition="0.0" />    
        <RequiredItem items="drive_gear" type="Contained" targetslot="1" mincondition="0.0" />    
       
      </StatusEffect>  

      <!-- DISABLE: Cannot spin propellor without drive gears -->
      <StatusEffect type="Always" targettype="This" checkconditionalalways="true" setvalue="true" Force="0" Comparison="And">
        <Conditional HasStatusTag="neq drive_gears"/>
      </StatusEffect>  

      <!-- It's bad when a turbine breaks and is still running, right? -->
      <StatusEffect type="OnBroken" targettype="This" isOn="false" Comparison="or">
        <Fire size="15"/>
        <Conditional Voltage="gt 0.1" />
      </StatusEffect> 
        
    </Engine>

    <ItemContainer capacity="0" maxstacksize="1" slotsperrow="2" canbeselected="true" hideitems="true" msg="GearBox">
      <GuiFrame relativesize="0.2,0.6" minsize="450,450" relativeoffset="0.0,0.1" anchor="Center" style="ItemUI" />
      <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="1" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,128,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="2" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="3" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="4" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="5" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="256,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="6" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,0,64,64" origin="0.5,0.5" /> 
      <SlotIcon slotindex="7" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="192,0,64,64" origin="0.5,0.5" /> 

       <!-- DRIVE GEARS: Slots, 0,1 -->
       <SubContainer capacity="2" maxstacksize="1" >
        <Containable items="drive_gear" excludebroken="true" excludefullcondition="false">
          
          <!-- DISABLE: Strip the drive gears - sound only -->
          <StatusEffect type="OnContaining" targettype="Contained" checkconditionalalways="true" Comparison="And"> 
            <Conditional condition="lt 40.0" targetcontainer="true" />                   
            <Conditional Force="neq 0" targetcontainer="true" targetitemcomponent="Engine"/>
            <Sound file="Content/Sounds/Damage/StructureCrunch1.ogg" range="1000" />
          </StatusEffect> 
                 
        </Containable>
      </SubContainer>
      <!-- OIL: Slots 2,3,4,5 -->
      <SubContainer capacity="4" maxstacksize="1" >
        <Containable items="oil" excludebroken="false" excludefullcondition="false"/>
      </SubContainer>
      <!-- FILTERS: Slots 6,7 -->
      <SubContainer capacity="2" maxstacksize="1" >
        <Containable items="Oil_filter" excludebroken="false" excludefullcondition="false"/>
      </SubContainer>
    </ItemContainer>

      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredSkill identifier="electrical" level="55" />
      <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand">
        <Sound file="Content/Sounds/Damage/Electrocution1.ogg" range="1000" />
        <Explosion range="100.0" stun="0" force="5.0" flames="false" shockwave="false" sparks="true" underwaterbubble="false" />
        <Affliction identifier="stun" strength="4" />
        <Affliction identifier="burn" strength="5" />
      </StatusEffect>
      <RequiredItem items="screwdriver" type="Equipped" />
      <input name="kinetic_in" displayname="connection.kineticin" />
      <input name="set_force" displayname="connection.setforce" />
      <output name="condition_out" displayname="connection.conditionout" />
    </ConnectionPanel>

    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.12" mindeteriorationdelay="1" maxdeteriorationdelay="120" mindeteriorationcondition="0" RepairThreshold="90" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,200" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
      <RequiredSkill identifier="mechanical" level="55" />
      <RequiredItem items="wrench" type="equipped" />
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="DarkSmoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="8" scalemin="1.8" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <!-- SAFETY PROCEDURE: Repair reduction gear when powered off. -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.5" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- Don't stick your arm in a gearbox when it's running! What's wrong with you? -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Conditional Voltage="gt 0.5" targetitemcomponent="RelayComponent"/>
        <LuaHook name="mechtraumaAmputation.OnFailure" /> <!-- I WILL HAVE MY AMPUTATIONS! -->      
      </StatusEffect>

    </Repairable>
  </Item>


 <!-- BACTERIA ANALYZER! -->
 <Item name="Bacteria Analyzer" identifier="bacteria_analyzer" tags="Power,analyzer" scale="0.5" category="Machine" >
    <sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="512,512,116,128" depth="0.84" origin="0.5,0.5" />
  
    <Price baseprice="250" displaynonempty="true" minavailable="1">
      <Price storeidentifier="merchantoutpost" />
      <Price storeidentifier="merchantcity" minavailable="1" />
      <Price storeidentifier="merchantresearch" minavailable="3" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="1" />
    </Price>
    <Fabricate suitablefabricators="fabricator" requiredtime="30">
      <RequiredSkill identifier="medical" level="35" />
      <RequiredSkill identifier="electrical" level="35" />
      <Item identifier="plastic" />
      <Item identifier="aluminium" />
      <Item identifier="fpgacircuit" />
    </Fabricate>
    <Deconstruct time="10">
      <Item identifier="plastic" amount="0.5" />
      <Item identifier="aluminium" amount="0.5" />
      <Item identifier="fpgacircuit" />
    </Deconstruct> 

    <!-- This can be moved -->
    <Body width="116" height="128" density="40" />
    <Holdable selectkey="Select" pickkey="Use" slots="RightHand+LeftHand" msg="[E]MoveAnalyzer" PickingTime="2.0" holdpos="75,-125" disablerotation="true" handle1="0,0" handle2="0,0" holdangle="45" attachable="true" attachedbydefault="true">
      <StatusEffect type="Always" target="Character" SpeedMultiplier="0.8" setvalue="true" />
    </Holdable>

    <ItemContainer capacity="1" slotsperrow="1" maxstacksize="1" canbeselected="true" hideitems="true" >
      <GuiFrame relativesize="0.25,0.25" anchor="Center" style="ItemUI" uilabel="Analyzer" />
       <SlotIcon slotindex="0" texture="%ModDir%/Images/mechtrauma_icons.png" sourcerect="512,64,64,64" origin="0.5,0.5" /> 
       
      <!-- Slot0 -->
      <Containable items="spore_fungus,bacterial_sample" >        
         <!-- CHECK: Is there a valid sample? -->
        <StatusEffect type="OnContaining" target="This" duration="0.1" stackable="false" tags="valid_sample" Comparison="And" >
          <RequiredItem Items="spore_fungus" type="Contained" targetslot="0" />
        </StatusEffect>
        
      </Containable>
     
    </ItemContainer>

   <Terminal canbeselected="true" msg="ItemMsgInteractSelect" AllowInGameEditing="false">
      <GuiFrame relativesize="0.25,0.25" relativeoffset="0.0,-0.1" anchor="Center" style="ItemUI" />
    </Terminal>

    <CustomInterface canbeselected="true" allowuioverlap="false">
      <GuiFrame relativesize="0.25,0.15" anchor="Center" relativeoffset="0.0,0.1" style="ItemUI" linkuitocomponent="ItemContainer" />
     
      <!-- ERROR: There isn't a valid sample to analyze -->
      <Button text="Analyze Bacteria">
        <StatusEffect type="OnUse" target="Contained" >
          <Conditional HasStatusTag ="neq valid_sample" targetcontainer="true" />  
          <Sound file="Content/Sounds/UI/DeadMsg.ogg" range="1000" /> 
        </StatusEffect>
        
        <!-- ANLALYZE: Return the result -->
        <StatusEffect type="OnUse" target="Contained" >
          <Conditional HasStatusTag ="valid_sample" targetcontainer="true" />  
          <Remove targetslot="0"/>  
          <Sound file="%ModDir%/Sound/analyze.ogg" range="1000" />
        </StatusEffect>
        <!-- RESULT: Return the result -->
        <StatusEffect type="OnUse" target="Contained" Delay="2" stackable="false" >
          <Conditional HasStatusTag ="valid_sample" targetcontainer="true" />  
          <LuaHook name="mechtraumaBacteriaAnalyze.OnUse" /> 
          <Sound file="%ModDir%/Sound/receipt1.ogg" range="500" />             
        </StatusEffect>
      </Button>
      
       <Button text="Scan Bacteria">
        <StatusEffect type="OnUse" target="This">
        </StatusEffect>
      </Button>

      
    </CustomInterface>

    <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
      <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
      <RequiredItem identifier="screwdriver" type="Equipped" />      
      <input name="clear_text" displayname="connection.cleartext" />
    </ConnectionPanel>
    
   <!-- Deterioration. -->
    <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0.02" mindeteriorationdelay="1" maxdeteriorationdelay="1" mindeteriorationcondition="0" RepairThreshold="80" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
      <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI"/>
      <RequiredSkill identifier="mechanical" level="55"/>
      <RequiredItem items="wrench" type="equipped"/>
      <ParticleEmitter particle="damagebubbles" particleburstamount="2" particleburstinterval="2.0" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemin="0" anglemax="359" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="smoke" particleburstamount="3" particleburstinterval="0.5" particlespersecond="2" scalemin="1" scalemax="2.5" anglemin="0" anglemax="359" velocitymin="-50" velocitymax="50" mincondition="0.0" maxcondition="50.0" />
      <ParticleEmitter particle="heavysmoke" particleburstinterval="0.25" particlespersecond="2" scalemin="2.5" scalemax="5.0" mincondition="0.0" maxcondition="15.0" />
      
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
        <Affliction identifier="lacerations" strength="25" />
        <Conditional Voltage="lte 0.1" targetitemcomponent="RelayComponent"/>
      </StatusEffect>

      <!-- Don't stick your arm in a generator when it's running! What's wrong with you? -->
      <StatusEffect type="OnFailure" target="This,Character" targetlimbs="LeftHand,RightHand" >
        <Affliction identifier="bleeding" strength="35" />
        <Sound file="%ModDir%/Sound/screams_woman_2.ogg" range="1000" />
        <Sound file="Content/Sounds/Damage/Gore1.ogg" range="1000" />
      </StatusEffect>
    
    </Repairable>

  </Item>   


<!-- Bacterial Sample: -->
  <Item name="Bacterial Sample" identifier="bacterial_sample_a4" Category="Misc" Tags="smallitem,bacterial_sample" maxstacksize="4" cargocontaineridentifier="metalcrate" health="400" scale="0.5">
    
    <Sprite texture="%ModDir%/Images/mechtrauma.png" depth="0.55" sourcerect="640,512,22,128" />
    <BrokenSprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="662,512,22,128" origin="0.5,0.5" depth="0.55" maxcondition="20" fadein="false" />
    <Body width="22" height="128" density="20" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>
    <Quality>
      <QualityStat stattype="Condition" value="0.1"/>
    </Quality>
  </Item>

  <!-- Name: Antibacterial A4 -->
  <!-- Description: An antibacterial solution that fight the A4 infection.  -->
  <!-- *************************************************************************************************************************************************************************** -->
  <Item name="A4 Antibacterial" identifier="antibacterial_a4" category="Medical" Tags="smallitem,medical" maxstacksize="8" cargocontaineridentifier="mediccrate" description="" useinhealthinterface="true" scale="0.5" impactsoundtag="impact_metal_light" RequireAimToUse="True">
    <Sprite texture="Content/Items/Medical/Medicines.png" sourcerect="75,142,38,66" depth="0.6" origin="0.5,0.5" />
    <Body width="38" height="66" density="20" />

    <!-- ANTIBACTERIAL: Make a new antibacterial drug.  -->
    <Fabricate suitablefabricators="medicalfabricator" amount="8" requiredtime="5">
      <RequiredSkill identifier="medical" level="20" />
      <RequiredItem identifier="bacterial_sample_a4" />
    </Fabricate>  

    <SuitableTreatment type="spore_infection" suitability="80" />
    <MeleeWeapon canBeCombined="true" removeOnCombined="true" slots="Any,RightHand,LeftHand" aimpos="40,5" handle1="0,0" holdangle="10" reload="1.0" msg="ItemMsgPickUpSelect">
      <!-- BREAK: Succeed or fail, this is a single use item --> 
      <StatusEffect type="OnFailure" target="This" Condition="-100.0" disabledeltatime="true" />
      <StatusEffect type="OnUse" target="This" Condition="-100.0" disabledeltatime="true" />
      <!-- ON SUCESS: Significantly reduce the infection -->
      <StatusEffect tags="medical" type="OnUse" target="UseTarget" duration="60.0">
        <Sound file="Content/Items/Medical/Syringe.ogg" range="500" />
        <ReduceAffliction identifier="spore_infection" amount="5" />
      </StatusEffect>
      <!-- ON SUCESS: These antibiotics are hard on your organs -->
      <StatusEffect tags="medical" type="OnUse" target="Limb" duration="60.0">
        <Affliction identifier="organdamage" amount="0.15" />
      </StatusEffect>
      <!-- ON SUCESS: Provide infection resistance -->
      <StatusEffect tags="medical" type="OnUse" target="UseTarget" disabledeltatime="true">
        <Sound file="Content/Items/Medical/Syringe.ogg" range="500" />
        <Affliction identifier="spore_infection_resistance" amount="100" />
      </StatusEffect>
      <!-- ON FAILURE: Reduce the infection -->
      <StatusEffect tags="medical" type="OnFailure" target="UseTarget" duration="60.0">
        <ReduceAffliction identifier="spore_infection" amount="50" />
      </StatusEffect>
      <!-- ON FAILURE: Additional organ damage -->
      <StatusEffect tags="medical" type="OnFailure" target="Limb" duration="60.0">
        <Affliction identifier="organdamage" amount="0.25" />
      </StatusEffect>
      <!-- ON FAILURE: Why would this increase the infection??? 
      <StatusEffect tags="medical" type="OnFailure" target="Character" disabledeltatime="true">
        <Sound file="Content/Items/Medical/Syringe.ogg" range="500" />
        <Affliction identifier="spore_infection" amount="300" />
      </StatusEffect> -->
        <!-- Remove the item when fully used -->
      <StatusEffect type="OnBroken" target="This">
        <Remove />
      </StatusEffect>

    </MeleeWeapon>
  </Item>


 <!-- =============< MISC >=============  -->
  
 <!-- TRASH CAN: CLEANLINESS IS NEXT TO GODLINESS! -->
 <Item name="Trash Can" identifier="trashcan" tags="trashcan" width="122" height="201" texturescale="1.0,1.0" scale="0.5" category="Machine" >
    <sprite texture="Content/Map/Outposts/Art/Storage.png" sourcerect="1662,914,125,205" depth="0.84" premultiplyalpha="false" origin="0.5,0.5" />
     <Price baseprice="50" displaynonempty="true" minavailable="2">
      <Price storeidentifier="merchantoutpost" minavailable="1" />
      <Price storeidentifier="merchantcity" minavailable="1" />
      <Price storeidentifier="merchantresearch" />
      <Price storeidentifier="merchantmilitary" />
      <Price storeidentifier="merchantmine" />
      <Price storeidentifier="merchantengineering" multiplier="0.9" minavailable="5" />
    </Price>
    <ItemContainer capacity="1" slotsperrow="1" canbeselected="true" hideitems="true" excludebroken="false" excludefullcondition="false" msg="ItemMsgInteractSelect">
      <GuiFrame relativesize="0.18,0.25" anchor="Center" style="ItemUI" />
      <StatusEffect type="OnContaining" target="Contained" delay="2.5" stackable="false" condition="-25" Comparison="And">
        <Remove />
      </StatusEffect>
    
      
    </ItemContainer>
  </Item>   

 <!-- =============< OVERRIDES >=============  -->
  
   <!-- STEEL BAR: Adding recipie to craft steel bar from steel scrap. Also, including Neurotrauma modifications to enable cybernetics support. -->
    <Override>
    <Item name="" identifier="steel" category="Material" maxstacksize="8" Tags="smallitem,petfood3" canbepicked="true" cargocontaineridentifier="metalcrate" scale="0.4" impactsoundtag="impact_metal_light" useinhealthinterface="True">
      <PreferredContainer primary="storagecab" />
      <PreferredContainer secondary="wreckstorage,abandonedstoragecab" minamount="1" maxamount="2" spawnprobability="0.05" />
      <Price baseprice="28">
        <Price storeidentifier="merchantoutpost" multiplier="1.3" minavailable="7" />
        <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="10" />
        <Price storeidentifier="merchantresearch" minavailable="6" />
        <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="15" />
        <Price storeidentifier="merchantmine" multiplier="0.9" minavailable="20" />
      </Price>
      <Fabricate suitablefabricators="fabricator" requiredtime="5">
        <RequiredSkill identifier="mechanical" level="20" />
        <RequiredItem identifier="carbon" />
        <RequiredItem identifier="iron" amount="2" />
      </Fabricate>
      <Fabricate suitablefabricators="fabricator" requiredtime="5">
        <RequiredSkill identifier="mechanical" level="20" />
        <RequiredItem identifier="scrap_steel" amount="10" />
      </Fabricate>
      <Deconstruct time="5">
        <Item identifier="carbon" copycondition="true" />
        <Item identifier="iron" copycondition="true" />
      </Deconstruct>
      <InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="640,128,64,64" />
      <Sprite texture="Content/Items/Materials/CraftingElements1.png" sourcerect="4,171,54,27" depth="0.55" origin="0.5,0.5" />
      <Body width="50" height="25" density="50" />
      <SuitableTreatment identifier="ntc_materialloss" suitability="50" />
      <Holdable canBeCombined="true" removeOnCombined="true" slots="Any,RightHand,LeftHand" handle1="0,0" msg="ItemMsgPickUpSelect">
        <!-- Remove the item when fully used -->
        <StatusEffect type="OnBroken" target="This">
          <Remove />
        </StatusEffect>
      </Holdable>
      <AiTarget sightrange="1000" static="true" />
    </Item>
  </Override>

  <!-- aluminium: Adding recipie to craft aluminium from aluminium scrap. -->
  <Override>
    <Item name="" identifier="aluminium" category="Material" maxstacksize="8" Tags="smallitem,petfood3" canbepicked="true" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light">
      <PreferredContainer primary="storagecab"/>
      <PreferredContainer secondary="wreckstoragecab,abandonedstoragecab" minamount="1" maxamount="2" spawnprobability="0.05"/>
      <Price baseprice="42" sold="false">
        <Price storeidentifier="merchantoutpost" multiplier="1.3" />
        <Price storeidentifier="merchantcity" multiplier="1.25" />
        <Price storeidentifier="merchantresearch" multiplier="1.1" />
        <Price storeidentifier="merchantmilitary" multiplier="1.1" />
        <Price storeidentifier="merchantmine" sold="true" multiplier="0.8" minavailable="10" />
      </Price>
      <Fabricate suitablefabricators="fabricator" requiredtime="5">
        <RequiredSkill identifier="mechanical" level="20" />
        <RequiredItem identifier="scrap_aluminium" amount="10" />
      </Fabricate>
      <InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="448,192,64,64" />
      <Sprite texture="Content/Items/Materials/CraftingElements1.png" sourcerect="53,53,47,39" depth="0.55" origin="0.5,0.5" />
      <Body width="45" height="30" density="50" />
      <Holdable canBeCombined="true" removeOnCombined="true" slots="Any,RightHand,LeftHand" handle1="0,0" msg="ItemMsgPickUpSelect">
        <!-- Remove the item when fully used -->
        <StatusEffect type="OnBroken" target="This">
          <Remove />
        </StatusEffect>
      </Holdable>
      <AiTarget sightrange="1000" static="true" />
    </Item>
  </Override>

  <!-- COPPER: Adding recipie to craft copper from copper scrap. -->
  <Override>
    <Item name="" identifier="copper" category="Material" maxstacksize="8" Tags="smallitem,petfood3" canbepicked="true" description="" cargocontaineridentifier="metalcrate" scale="0.5" impactsoundtag="impact_metal_light">
      <PreferredContainer primary="storagecab" />
      <PreferredContainer secondary="wreckstoragecab,abandonedstoragecab" minamount="1" maxamount="2" spawnprobability="0.05"/>
      <Price baseprice="22" sold="false">
        <Price storeidentifier="merchantoutpost" multiplier="1.3" />
        <Price storeidentifier="merchantcity" multiplier="1.25" />
        <Price storeidentifier="merchantresearch" multiplier="1.1" />
        <Price storeidentifier="merchantmilitary" multiplier="1.1" />
        <Price storeidentifier="merchantmine" sold="true" multiplier="0.8" minavailable="10" />
      </Price>
      <Fabricate suitablefabricators="fabricator" requiredtime="5">
        <RequiredSkill identifier="mechanical" level="20" />
        <RequiredItem identifier="scrap_copper" amount="10" />
      </Fabricate>
      <InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="576,192,64,64" />
      <Sprite texture="Content/Items/Materials/CraftingElements1.png" sourcerect="53,92,48,38" depth="0.55" origin="0.5,0.5" />
      <Body width="45" height="30" density="50" />
      <Holdable canBeCombined="true" removeOnCombined="true" slots="Any,RightHand,LeftHand" handle1="0,0" msg="ItemMsgPickUpSelect">
        <!-- Remove the item when fully used -->
        <StatusEffect type="OnBroken" target="This">
          <Remove />
        </StatusEffect>
      </Holdable>
      <AiTarget sightrange="1000" static="true" />
    </Item>
  </Override>

 <!-- =============< ORGANIC >=============  -->
  
  <!-- FUNGUS: -->
  <Item name="Fungus" identifier="spore_fungus" Category="Misc" Tags="smallitem,fungus" maxstacksize="2" cargocontaineridentifier="metalcrate" health="100" scale="0.4">
    <Sprite texture="%ModDir%/Images/mechtrauma.png" sourcerect="0,640,128,128" depth="0.55" />
    <Deconstruct time="10">
      <Item identifier="spore_fungus" amount="1" />
    </Deconstruct>
    
     <Body width="64" height="64" density="10" />
    <Holdable handle1="0,0" slots="Any,RightHand,LeftHand" msg="ItemMsgPickUpSelect" >
    </Holdable>
    </Item>

  <!-- =============< VANILLA TOOL OVERRIDES >=============  -->
	<Override>
	
	    <!-- Welding Tool: -->
	    <Item name="" identifier="weldingtool" category="Equipment" Tags="smallitem,weldingequipment,tool,mountableweapon" cargocontaineridentifier="metalcrate" description="" Scale="0.5" impactsoundtag="impact_metal_light">
		    <PreferredContainer primary="engcab" amount="1" spawnprobability="1" notcampaign="true"/>
		    <PreferredContainer secondary="supplycab" amount="1" spawnprobability="0.2" notcampaign="true"/>
		    <PreferredContainer primary="outpostsupplycab" amount="1" spawnprobability="0.5"/>
		    <PreferredContainer primary="outpostcrewcabinet" amount="1" spawnprobability="0.1"/>
		    <PreferredContainer primary="wrecksupplycab,beaconsupplycab" amount="1" spawnprobability="0.05"/>
		    <PreferredContainer primary="wreckstoragecab,abandonedstoragecab" amount="1" spawnprobability="0.05"/>
		    <PreferredContainer primary="wreckengcab,abandonedengcab,outpostengcab,beaconengcab" amount="1" spawnprobability="0.1"/>
		    <Price baseprice="150">
			    <Price storeidentifier="merchantoutpost" minavailable="3" />
			    <Price storeidentifier="merchantcity" minavailable="2" />
			    <Price storeidentifier="merchantresearch" multiplier="1.25" minavailable="2" />
			    <Price storeidentifier="merchantmilitary" multiplier="1.25" minavailable="2" />
			    <Price storeidentifier="merchantmine" multiplier="0.9" minavailable="10" />
			    <Price storeidentifier="merchantengineering" minavailable="5" multiplier="0.9"/>
		    </Price>
		    <InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="64,64,64,64" origin="0.5,0.5" />
		    <Sprite texture="Content/Items/Tools/tools.png" sourcerect="0,3,152,88" depth="0.55" origin="0.5,0.5" />
		    <!-- the item takes 10 seconds to break down in a deconstructor and turns into steel and plastic -->
		    <Deconstruct time="10">
			    <Item identifier="steel" />
			    <Item identifier="plastic" />
		    </Deconstruct>
		    <Fabricate suitablefabricators="fabricator" requiredtime="20">
			    <RequiredSkill identifier="mechanical" level="30" />
			    <RequiredItem identifier="steel" amount="2" />
			    <RequiredItem identifier="plastic" amount="2" />
		    </Fabricate>
		    <!-- physics body -->
		    <Body width="150" height="60" density="25" />
		    <!-- the character will hold the item 50 pixels in front of him, with his hands at the handle1 and handle2 positions -->
		    <Holdable slots="Any,RightHand+LeftHand" controlpose="true" aimpos="60,0" handle1="-62,-16" handle2="-10,-6" msg="ItemMsgPickUpSelect" />
		    <RepairTool firedamage="10.0" structurefixamount="2.0" range="150" barrelpos="35,10" particles="weld" repairmultiple="true" repairthroughwalls="false" combatpriority="10" levelwallfixamount="-0.425" targetforce="10">
			    <!-- the item must contain a welding fuel tank for it to work -->
			    <RequiredItems items="weldingtoolfuel,oxygensource" type="Contained" msg="ItemMsgWeldingFuelRequired" />
			    <RequiredSkill identifier="mechanical" level="50" />
			    <ParticleEmitter particle="weld" particlespersecond="50" copyentityangle="true"/>
			    <ParticleEmitterHitStructure particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
			    <ParticleEmitterHitStructure particle="GlowDot" particlespersecond="60" emitinterval="0.7" particleamount="10" scalemin="0.9" scalemax="1.0" anglemin="0" anglemax="360" velocitymin="10" velocitymax="50" />
			    <ParticleEmitterHitStructure particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="0" velocitymax="50" />
			    <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="weldspark" particlespersecond="200" anglemin="-40" anglemax="40" velocitymin="200" velocitymax="800" />
			    <ParticleEmitterHitItem identifiers="door,hatch,ductblock" particle="MistSmoke" particlespersecond="20" anglemin="-10" anglemax="10" velocitymin="10" velocitymax="100" />
			    <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
			    <sound file="Content/Items/Tools/WeldingLoop.ogg" type="OnUse" range="500.0" loop="true" />
			    <!-- when using, the contained welding fuel tank will detoriate (= lose fuel) -->
			    <StatusEffect type="OnUse" targettype="Contained" targets="weldingfueltank" Condition="-1.0" />
			    <StatusEffect type="OnUse" targettype="Contained" targets="incendiumfueltank" Condition="-0.6" />
			    <!-- welding a door, it will get stuck after a while -->
			    <StatusEffect type="OnSuccess" targettype="UseTarget" targets="door,ductblock" Stuck="5.0" Condition="3.0" />
			    <StatusEffect type="OnSuccess" targettype="UseTarget" Condition="-3.0" />
			    <!-- do burn damage to characters -->
			    <StatusEffect type="OnSuccess" targettype="Limb">
				    <Affliction identifier="burn" amount="2.5" />
			    </StatusEffect>
			    <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
				    <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" range="2000" />
				    <Explosion range="150.0" force="3" applyfireeffects="false" >
					    <Affliction identifier="burn" strength="25" />
					    <Affliction identifier="stun" strength="5" />
				    </Explosion>
			    </StatusEffect>
			    <StatusEffect type="OnUse" targettype="Contained" targets="oxygenitetank" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
				    <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" range="2000" />
				    <Explosion range="150.0" force="6" applyfireeffects="false" >
					    <Affliction identifier="burn" strength="50" />
					    <Affliction identifier="stun" strength="10" />
				    </Explosion>
			    </StatusEffect>
			    <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank_fr" delay="1.0" stackable="false" Condition="-200.0" disabledeltatime="true">
				    <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" range="2000" />
				    <Explosion range="150.0" force="3" applyfireeffects="false" >
					    <Affliction identifier="burn" strength="25" />
					    <Affliction identifier="stun" strength="5" />
				    </Explosion>
			    </StatusEffect>
			    <!-- the tool can fix structures, i.e. walls and windows -->
			    <Fixable identifier="structure" />
			    <NonFixable identifier="thalamus,ice" />
			    <LightComponent LightColor="1.0,0.9,0.7,1.0" Flicker="0.5">
				    <sprite texture="Content/Items/Electricity/lightsprite.png" origin="0.5,0.5" />
			    </LightComponent>
		    </RepairTool>
		    <!-- one welding fuel or oxygen tank can be contained inside the welding tool -->
		    <ItemContainer capacity="1" maxstacksize="1" hideitems="false" itempos="8,-35" containedspritedepth="0.56" containedstateindicatorstyle="tank">
			    <SlotIcon slotindex="0" texture="Content/UI/StatusMonitorUI.png" sourcerect="64,448,64,64" origin="0.5,0.5" />
			    <Containable items="weldingtoolfuel,oxygensource" />
		    </ItemContainer>
		    <aitarget sightrange="2000" soundrange="500" fadeouttime="3" />
		    <Quality>
			    <QualityStat stattype="RepairToolStructureRepairMultiplier" value="0.1"/>
		    </Quality>
		    <Upgrade gameversion="0.10.0.0" scale="0.5" />
		    <Upgrade gameversion="0.14.0.0">
			    <RepairTool>
				    <RequiredItems items="weldingtoolfuel,oxygensource" type="Contained" msg="ItemMsgWeldingFuelRequired" />
			    </RepairTool>
		    </Upgrade>
		    <Upgrade gameversion="0.15.4.0">
			    <ItemContainer itempos="8,-35"/>
		    </Upgrade>
		    <SkillRequirementHint identifier="mechanical" level="50" />
	    </Item>

	    <!-- Flamer: -->
	    <Item name="" identifier="flamer" category="Equipment" Tags="smallitem,weapon,gun,mountableweapon" cargocontaineridentifier="metalcrate" Scale="0.5" impactsoundtag="impact_metal_light">
		    <Upgrade gameversion="0.10.0.0" scale="0.5" />
		    <PreferredContainer primary="secarmcab" amount="1" spawnprobability="0.2" notcampaign="true"/>
		    <PreferredContainer secondary="wrecksecarmcab,abandonedsecarmcab" amount="1" spawnprobability="0.1"/>
		    <PreferredContainer secondary="armcab,weaponholder"/>
		    <Price baseprice="105" sold="false">
			    <Price storeidentifier="merchantoutpost" />
			    <Price storeidentifier="merchantcity" multiplier="0.9" />
			    <Price storeidentifier="merchantresearch" multiplier="1.25" />
			    <Price storeidentifier="merchantmilitary" sold="true" multiplier="1.25" minavailable="1" />
			    <Price storeidentifier="merchantmine" />
			    <Price storeidentifier="merchantarmory" multiplier="1.25" minavailable="1" />
		    </Price>
		    <!--<InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="64,64,64,64" />-->
		    <InventoryIcon texture="Content/Items/InventoryIconAtlas.png" sourcerect="320,64,64,64" />
		    <Sprite texture="Content/Items/Tools/tools.png" sourcerect="154,22,158,77" depth="0.55" origin="0.5,0.5" />
		    <!-- the item takes 10 seconds to break down in a deconstructor and turns into steel and plastic -->
		    <Deconstruct time="10">
			    <Item identifier="steel" />
			    <Item identifier="rubber" />
		    </Deconstruct>
		    <Fabricate suitablefabricators="fabricator" requiredtime="20" requiresrecipe="true">
			    <RequiredSkill identifier="mechanical" level="30" />
			    <RequiredSkill identifier="weapons" level="20" />
			    <RequiredItem identifier="steel" amount="2" />
			    <RequiredItem identifier="rubber" amount="2" />
		    </Fabricate>
		    <!-- physics body -->
		    <Body width="150" height="77" density="25" />
		    <!-- the character will hold the item 50 pixels in front of him, with his hands at the handle1 and handle2 positions -->
		    <Holdable slots="Any,RightHand+LeftHand" controlpose="true" aimpos="50,0" handle1="-62,-16" handle2="-11,-6" msg="ItemMsgPickUpSelect" />
		    <RepairTool firedamage="20.0" structurefixamount="0.0" usablein="Air" range="500" barrelpos="35,10" fireprobability="0.2" repairmultiple="true" repairthroughwalls="false" repairthroughholes="true" combatpriority="90" spread="25" unskilledspread="25">
			    <!-- the item must contain a welding fuel tank for it to work -->
			    <RequiredItems items="weldingtoolfuel,oxygensource" type="Contained" msg="ItemMsgWeldingFuelRequired" />
			    <RequiredSkill identifier="weapons" level="50" />
			    <ParticleEmitterHitCharacter particle="fleshsmoke" particlespersecond="3" anglemin="-5" anglemax="5" velocitymin="10" velocitymax="100" />
			    <ParticleEmitter particle="flamethrower" particlespersecond="80" anglemin="0" anglemax="0" velocitymin="1000" velocitymax="1500" highqualitycollisiondetection="true"/>
			    <ParticleEmitter particle="flamethrowersmoke" particlespersecond="80" anglemin="0" anglemax="0" velocitymin="500" velocitymax="1000"/>
			    <sound file="Content/Items/Weapons/FlameThrowerLoop.ogg" type="OnUse" range="750.0" loop="true" />
			    <StatusEffect type="OnFailure" target="This">
				    <ParticleEmitter particle="bubbles" particlespersecond="20" anglemin="-10" anglemax="10" scalemin="0.3" scalemax="0.7" velocitymin="5" velocitymax="100" copyentityangle="true"/>
				    <ParticleEmitter particle="fleshsmoke" particlespersecond="10" anglemin="-10" anglemax="10" scalemin="1" scalemax="1.5" velocitymin="5" velocitymax="200" copyentityangle="true"/>
			    </StatusEffect>
			    <!-- make the item unusable when there's less than 10% oxygen -->
			    <StatusEffect type="OnUse" target="Hull,This" UsableIn="None">
				    <Conditional OxygenPercentage="lt 10"/>
			    </StatusEffect>
			    <!-- make the item usable again when there's more than 10% oxygen -->
			    <StatusEffect type="OnUse" target="Hull,This" UsableIn="Air">
				    <Conditional OxygenPercentage="gt 10"/>
			    </StatusEffect>
			    <!-- when using, the contained welding fuel tank will detoriate (= lose fuel) -->
			    <StatusEffect type="OnUse" targettype="Contained" targets="weldingfueltank" Condition="-6.0" />
			    <StatusEffect type="OnUse" targettype="Contained" targets="incendiumfueltank" Condition="-2.5" />
			    <!-- do burn damage to characters -->
			    <StatusEffect type="OnSuccess" target="UseTarget">
				    <Affliction identifier="burn" amount="1.25" />
			    </StatusEffect>
			    <!-- explode if oxygen tanks are inserted -->
			    <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
				    <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" range="2000" />
				    <Explosion range="150.0" force="3" applyfireeffects="false" >
					    <Affliction identifier="burn" strength="25" />
					    <Affliction identifier="stun" strength="5" />
				    </Explosion>
			    </StatusEffect>
			    <StatusEffect type="OnUse" targettype="Contained" targets="oxygenitetank" delay="1.0" stackable="false" Condition="-100.0" disabledeltatime="true">
				    <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" range="2000" />
				    <Explosion range="150.0" force="6" applyfireeffects="false" >
					    <Affliction identifier="burn" strength="50" />
					    <Affliction identifier="stun" strength="10" />
				    </Explosion>
			    </StatusEffect>
			    <StatusEffect type="OnUse" targettype="Contained" targets="oxygentank_fr" delay="1.0" stackable="false" Condition="-200.0" disabledeltatime="true">
				    <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" range="2000" />
				    <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" range="2000" />
				    <Explosion range="150.0" force="3" applyfireeffects="false" >
					    <Affliction identifier="burn" strength="25" />
					    <Affliction identifier="stun" strength="5" />
				    </Explosion>
			    </StatusEffect>
			    <!-- consume oxygen from the hull -->
			    <StatusEffect type="OnUse" target="Hull" Oxygen="-10000"/>
			    <StatusEffect type="OnFailure" target="Character">
				    <Conditional InWater="false"/>
				    <Affliction identifier="burn" strength="0.5" probability="0.5"/>
			    </StatusEffect>
			    <LightComponent LightColor="255,174,121,255" Flicker="0.5" Range="500">
				    <sprite texture="Content/Items/Electricity/lightsprite.png" origin="0.5,0.5" />
			    </LightComponent>
		    </RepairTool>
		    <!-- one welding fuel or oxygen tank can be contained inside the welding tool -->
		    <ItemContainer capacity="1" maxstacksize="1" hideitems="false" itempos="8,-20" containedspritedepth="0.56" containedstateindicatorstyle="tank">
			    <SlotIcon slotindex="0" texture="Content/UI/StatusMonitorUI.png" sourcerect="64,448,64,64" origin="0.5,0.5" />
			    <Containable items="weldingtoolfuel,oxygensource" />
		    </ItemContainer>
		    <aitarget sightrange="5000" soundrange="500" fadeouttime="5" />
		    <SkillRequirementHint identifier="weapons" level="50" />
	    </Item>
	</Override>
</Items>

